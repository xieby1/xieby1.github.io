#!/usr/bin/env -S dot -Tsvg -O

digraph {

subgraph cluster_legend {
label = "Graph of pinplay-tools/pinplay-scripts/*.py";
node [shape=plaintext];

_sl[label="Solid lines"];
_id[label="Import dependencies"];
_sl->_id;

_dl[label="Dashed lines"];
_ud[label="Used in string dependencies"];
_dl->_ud [style=dashed];
}

// generated by, and slightly edit the results
//   awk 'FNR==1{print "};\n\""FILENAME"\" -> {"} /^import/{print "  \""$2"\";"}' *.py > imports.dot
"build_kit" -> {
};
"cmd_options" -> {
};
"config" -> {
  "msg";
};
"correct_size_matrix" -> {
  "cmd_options";
  "msg";
  "util";
};
"drd_util" -> {
  "cmd_options";
  "config";
  "msg";
  "util";
};
"gdb_replay" -> {
  "cmd_options";
  "config";
  "drd_util";
  "msg";
  "replay";
  "util";
};
"kit" -> {
  "config";
  "msg";
  "util";
};
"log" -> {
  "cmd_options";
  "config";
  "kit";
  "msg";
  "util";
};
"logger" -> {
  "cmd_options";
  "config";
  "kit";
  "msg";
  "util";
};
"make-balanced-concat-vectors" -> {
};
"make_simpoint_weights" -> {
  "cmd_options";
  "util";
};
"msg" -> {
};
"pb_weight" -> {
  "cmd_options";
  "msg";
  "util";
};
"pcregions" -> {
};
"phases" -> {
  "config";
  "msg";
  "util";
};
"pin" -> {
};
"pinpoints" -> {
  "cmd_options";
  "config";
  "kit";
  "msg";
  "phases";
  "util";
};
"record" -> {
  "cmd_options";
  "config";
  "drd_util";
  "msg";
  "util";
};
"regions" -> {
  "cmd_options";
  "msg";
  "util";
};
"relog" -> {
  "cmd_options";
  "config";
  "replay";
  "msg";
  "util";
};
"replay" -> {
  "cmd_options";
  "config";
  "drd_util";
  "msg";
  "util";
};
"replay_dir" -> {
  "cmd_options";
  "config";
  "kit";
  "msg";
  "util";
};
"replayer" -> {
  "msg";
  "kit";
  "cmd_options";
  "config";
  "util";
};
"sde_kit" -> {
  "config";
  "kit";
  "msg";
  "util";
};
"sde_log" -> {
  "cmd_options";
  "config";
  "sde_kit";
  "log";
  "msg";
  "util";
};
"sde_logger" -> {
  "sde_kit";
  "config";
  "logger";
};
"sde_phases" -> {
  "config";
  "msg";
  "util";
  "phases";
};
"sde_pinpoints" -> {
  "cmd_options";
  "config";
  "msg";
  "pinpoints";
  "sde_kit";
  "sde_phases";
  "phases";
  "util";
};
"sde_replay_dir" -> {
  "replay_dir";
  "sde_kit";
};
"sde_replayer" -> {
  "sde_kit";
  "replayer";
};
"sim_kit" -> {
  "config";
  "msg";
  "util";
};
"sim_run" -> {
  "cmd_options";
  "config";
  "msg";
  "sim_kit";
  "util";
};
"sim_run_dir" -> {
  "cmd_options";
  "config";
  "msg";
  "replay_dir";
  "sim_kit";
  "sim_run";
  "util";
};
"simpoint" -> {
  "cmd_options";
  "config";
  "msg";
  "util";
};
"split.pc-csvfile" -> {
};
"traceinfo" -> {
  "cmd_options";
  "config";
  "msg";
  "util";
};
"util.full" -> {
  "config";
  "msg";
};
"util" -> {
  "config";
  "msg";
};

edge[style=dashed];
// generated by, and slightly edit the results
// grep \'.*.py\' -o *.py > imports_use_in_py.dot
"cmd_options" -> "config"
"cmd_options" -> "rename"
"config" -> "cmd_options"
"config" -> "cmd_options"
"drd_util" -> "pin"
"logger" -> "log"
"phases" -> "simpoint"
"pinpoints" -> "logger"
"pinpoints" -> "replay_dir"
"pinpoints" -> "replayer"
"record" -> "log"
"replay" -> "replayer"
"replay_dir" -> "replayer"
"sde_logger" -> "sde_log"
"sde_phases" -> "phases"
"sde_phases" -> "traceinfo"
"sde_pinpoints" -> "sde_logger"
"sde_pinpoints" -> "sde_replay_dir"
"sde_pinpoints" -> "sde_replayer"
"sde_pinpoints" -> "sde_cmpsim_replay_dir"
"sde_pinpoints" -> "sim_run_dir"
"sde_replay_dir" -> "sde_replayer"
"sim_run_dir" -> "sim_run"
"simpoint" -> "regions"
"simpoint" -> "pcregions"

}
