<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>check.md - xieby1&#x27;s notes</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../..//fonts/lxgwwenkai-regular.css" />
        <link rel="stylesheet" href="../..//fonts/lxgwwenkaimono-regular.css" />
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../index.html">Welcome</a></li><li class="chapter-item "><a href="../../Essays.html">Essays</a></li><li class="chapter-item "><a href="../../abbreviations.html">abbreviations</a></li><li class="chapter-item affix "><li class="part-title">xieby1's notes</li><li class="chapter-item "><div>ABI</div></li><li class="chapter-item "><div>Algo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Graph</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Algo/Graph/1998.distance.bunke.prl.775.html">1998.distance.bunke.prl.775.md</a></li><li class="chapter-item "><a href="../../Algo/Graph/2002.inexact_match.bengoetxea.doc_thesis.107.html">2002.inexact_match.bengoetxea.doc_thesis.107.md</a></li><li class="chapter-item "><a href="../../Algo/Graph/2014.attributed.zhang.cvpr.19.html">2014.attributed.zhang.cvpr.19.md</a></li><li class="chapter-item "><a href="../../Algo/Graph/2016.survey.yan.icmr.108.html">2016.survey.yan.icmr.108.md</a></li><li class="chapter-item "><a href="../../Algo/Graph/2021.igraphmatch.qiao..0.html">2021.igraphmatch.qiao..0.md</a></li></ol></li></ol></li><li class="chapter-item "><div>analysis</div></li><li class="chapter-item "><div>Arch</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/2014.è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡.å§šæ°¸æ–Œ.html">2014.è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡.å§šæ°¸æ–Œ.md</a></li><li class="chapter-item "><div>Cache</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/Cache/2022.dsa_cache.sedaghati.isca.0.html">2022.dsa_cache.sedaghati.isca.0.md</a></li></ol></li><li class="chapter-item "><div>HT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/HT/2005.cell.kahle.ibmjrd.1093.html">2005.cell.kahle.ibmjrd.1093.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2011.multi_isa.karaki.iceac.1.html">2011.multi_isa.karaki.iceac.1.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2012.process_migration.devuyst.asplos.83.html">2012.process_migration.devuyst.asplos.83.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2014.isa_explore.venkat.isca.112.html">2014.isa_explore.venkat.isca.112.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2015.overview.mitra.jip.15.html">2015.overview.mitra.jip.15.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2018.process_migration.venkat.doc_thesis.5.html">2018.process_migration.venkat.doc_thesis.5.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2019.composite_isa.venkat.hpca.17.html">2019.composite_isa.venkat.hpca.17.md</a></li><li class="chapter-item "><a href="../../Arch/HT/2020.byoc_framework.balkind.asplos.3.html">2020.byoc_framework.balkind.asplos.3.md</a></li><li class="chapter-item "><a href="../../Arch/HT/xa64/index.html">xa64</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/HT/xa64/insts_design.html">Insts Design</a></li><li class="chapter-item "><a href="../../Arch/HT/xa64/manual.html">XA64 MANUAL</a></li></ol></li></ol></li><li class="chapter-item "><div>reconf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/reconf/1997.chimaera.hauck.fccm.461.html">1997.chimaera.hauck.fccm.461.md</a></li><li class="chapter-item "><a href="../../Arch/reconf/2008.reconf_acc.beck.date.97.html">2008.reconf_acc.beck.date.97.md</a></li></ol></li><li class="chapter-item "><div>TLB</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Arch/TLB/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>VLIW</div></li></ol></li><li class="chapter-item "><div>Benchmarks</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Benchmarks/coremark.html">coremark.md</a></li><li class="chapter-item "><div>dhrystone</div></li><li class="chapter-item "><div>herdtools7</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Benchmarks/herdtools7/overview.html">å†…å­˜æ¨¡å‹æµ‹è¯•â€”â€”DIYï¼ˆHerdtoolsï¼‰</a></li></ol></li><li class="chapter-item "><a href="../../Benchmarks/spec/index.html">spec</a></li><li class="chapter-item "><a href="../../Benchmarks/spec2000.html">spec2000.md</a></li></ol></li><li class="chapter-item expanded "><div>BT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>algo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/2006.lib.æ¨æµ©.è®¡ç®—æœºç ”ç©¶ä¸å‘å±•.0.html">2006.lib.æ¨æµ©.è®¡ç®—æœºç ”ç©¶ä¸å‘å±•.0.md</a></li><li class="chapter-item "><div>bt_rules</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/bt_rules/2006.peephole_superopt.bansal.asplos.134.html">2006.peephole_superopt.bansal.asplos.134.md</a></li><li class="chapter-item "><a href="../../BT/algo/bt_rules/2018.learn.wwwang.asplos.11.html">2018.learn.wwwang.asplos.11.md</a></li></ol></li><li class="chapter-item "><div>code_cache</div></li><li class="chapter-item "><div>excp</div></li><li class="chapter-item "><div>flags</div></li><li class="chapter-item "><div>indirect_jump</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/indirect_jump/2016.static_identify_jump_target.federico.cases.9.html">2016.static_identify_jump_target.federico.cases.9.md</a></li></ol></li><li class="chapter-item "><div>offload</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/offload/2010.distribit.guan.hpdc.5.html">2010.distribit.guan.hpdc.5.md</a></li></ol></li><li class="chapter-item "><div>reg</div></li><li class="chapter-item "><div>smc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/smc/2015.detect.hawkins.cgo.24.html">2015.detect.hawkins.cgo.24.md</a></li></ol></li><li class="chapter-item "><div>trace</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/algo/trace/1994.opt_profiling_tracing.ball.toplas.580.html">1994.opt_profiling_tracing.ball.toplas.580.md</a></li><li class="chapter-item "><a href="../../BT/algo/trace/2000.net.duesterwald.asplos.141.html">2000.net.duesterwald.asplos.141.md</a></li><li class="chapter-item "><a href="../../BT/algo/trace/2005.edge_profile.ç™½ç«¥å¿ƒ.è®¡ç®—æœºå·¥ç¨‹.2.html">2005.edge_profile.ç™½ç«¥å¿ƒ.è®¡ç®—æœºå·¥ç¨‹.2.md</a></li><li class="chapter-item "><a href="../../BT/algo/trace/2005.lei_net.hiniker.micro.39.html">2005.lei_net.hiniker.micro.39.md</a></li></ol></li></ol></li><li class="chapter-item "><div>analysis</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/analysis/2014.simulators_harm.nowatki..19.html">2014.simulators_harm.nowatki..19.md</a></li><li class="chapter-item "><a href="../../BT/analysis/2020.perfdbt.wu.iccd.2.html">2020.perfdbt.wu.iccd.2.md</a></li><li class="chapter-item "><div>mem</div></li></ol></li><li class="chapter-item "><div>application</div></li><li class="chapter-item "><div>Box86</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/Box86/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><div>dynamic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/dynamic/2017.mambox64.dantras.pldi.18.html">2017.mambox64.dantras.pldi.18.md</a></li></ol></li><li class="chapter-item "><div>evaluate</div></li><li class="chapter-item "><a href="../../BT/exagear.html">exagear.md</a></li><li class="chapter-item "><div>HQEMU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/HQEMU/codeReading-deprecated.html">codeReading-deprecated.md</a></li><li class="chapter-item "><a href="../../BT/HQEMU/codeReading.html">codeReading.md</a></li></ol></li><li class="chapter-item "><div>HW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/HW/2008.coprocessor.li.amasbt.3.html">2008.coprocessor.li.amasbt.3.md</a></li><li class="chapter-item "><a href="../../BT/HW/2009.godson3_x86_emu.hu.micro.84.html">2009.godson3_x86_emu.hu.micro.84.md</a></li><li class="chapter-item "><div>codeCache</div></li><li class="chapter-item "><div>reconf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/HW/reconf/2013.x86_mips_reconf.junior.jsa.4.html">2013.x86_mips_reconf.junior.jsa.4.md</a></li></ol></li><li class="chapter-item "><div>VLIW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/HW/VLIW/2015.denver.nvidia.micro.36.html">2015.denver.nvidia.micro.36.md</a></li><li class="chapter-item "><a href="../../BT/HW/VLIW/2019.hybrid_dbt.rokicki.cadics.2.html">2019.hybrid_dbt.rokicki.cadics.2.md</a></li><li class="chapter-item "><div>crusoe</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/HW/VLIW/crusoe/2000.crusoe.klaiber.transmeta.118.html">2000.crusoe.klaiber.transmeta.118.md</a></li></ol></li><li class="chapter-item "><div>daisy</div></li></ol></li></ol></li><li class="chapter-item "><div>kernel</div></li><li class="chapter-item "><a href="../../BT/libDBT/index.html">libDBT</a></li><li class="chapter-item "><div>lift</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>IR</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>LLBT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/lift/IR/LLBT/LLBTè°ƒç ”.html">LLBTè°ƒç ”</a></li><li class="chapter-item "><a href="../../BT/lift/IR/LLBT/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Šï¼ˆLLBTç›¸å…³ï¼‰.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Šï¼ˆLLBTç›¸å…³ï¼‰.md</a></li></ol></li><li class="chapter-item "><div>mcsema</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/lift/IR/mcsema/2019.mcsema_dyninst.korencik...html">2019.mcsema_dyninst.korencik...md</a></li><li class="chapter-item "><a href="../../BT/lift/IR/mcsema/2019.mcsema.researchLogs.html">2019.mcsema.researchLogs.md</a></li><li class="chapter-item "><a href="../../BT/lift/IR/mcsema/remill.html">remill.md</a></li></ol></li><li class="chapter-item "><div>mctoll</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/lift/IR/mctoll/2019.mctoll.yadavalli.lctes.5.html">2019.mctoll.yadavalli.lctes.5.md</a></li><li class="chapter-item "><a href="../../BT/lift/IR/mctoll/codesReading.html">codesReading.md</a></li><li class="chapter-item "><a href="../../BT/lift/IR/mctoll/run.html">run.md</a></li></ol></li><li class="chapter-item "><a href="../../BT/lift/IR/overview.html">overview.md</a></li><li class="chapter-item "><div>REVNG</div></li></ol></li></ol></li><li class="chapter-item "><div>Mem</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/Mem/2008.thread_safe_by_tm.chung.hpca.51.html">2008.thread_safe_by_tm.chung.hpca.51.md</a></li><li class="chapter-item "><div>atomic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/Mem/atomic/2016.atomic.rigo.taco.6.html">2016.atomic.rigo.taco.6.md</a></li></ol></li><li class="chapter-item "><div>order</div></li></ol></li><li class="chapter-item "><div>oldProj</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/oldProj/1993.mips2alphaaxp.sites.cacm.267.html">1993.mips2alphaaxp.sites.cacm.267.md</a></li><li class="chapter-item "><a href="../../BT/oldProj/1998.fx32.chernoff.micro.217.html">1998.fx32.chernoff.micro.217.md</a></li><li class="chapter-item "><div>dbt4AndStatic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/oldProj/dbt4AndStatic/DBT4ä»£ç é˜…è¯»ç¬”è®°.html">DBT4ä»£ç é˜…è¯»ç¬”è®°</a></li><li class="chapter-item "><a href="../../BT/oldProj/dbt4AndStatic/dbt-static.html">dbt-static.md</a></li><li class="chapter-item "><a href="../../BT/oldProj/dbt4AndStatic/å»é™¤orcå·¥ä½œé‡å’Œéš¾åº¦.html">ORCçš„CGIR</a></li></ol></li></ol></li><li class="chapter-item "><div>others</div></li><li class="chapter-item "><div>overview</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/overview/2001.bt_opt_challenges.altman.pieee.38.html">2001.bt_opt_challenges.altman.pieee.38.md</a></li><li class="chapter-item "><a href="../../BT/overview/2004.bibliography_of_simulators.html">2004.bibliography_of_simulators.md</a></li></ol></li><li class="chapter-item "><div>QEMU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/QEMU/16k.html">16k.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/2005.qemu.bellard.usenix.2217.html">2005.qemu.bellard.usenix.2217.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/2017.qemu_multi_cores.cota.cgo.8.html">2017.qemu_multi_cores.cota.cgo.8.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/LA-backend.html">LA-backend.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/linux-user-32.html">linux-user-32.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/linux-user.html">linux-user.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/linux-user-memory_region.html">linux-user-memory_region.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/logs.html">logs.md</a></li><li class="chapter-item "><div>lx</div></li><li class="chapter-item "><a href="../../BT/QEMU/mt-tcg.html">mt-tcg.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/qemu-wine.html">qemu-wine.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../BT/QEMU/signal.html">signal.md</a></li><li class="chapter-item "><div>target</div></li><li class="chapter-item "><a href="../../BT/QEMU/test.html">test.md</a></li></ol></li><li class="chapter-item "><div>rewrite</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/rewrite/2018.superset_disassembly.bauman.ndss.40.html">2018.superset_disassembly.bauman.ndss.40.md</a></li><li class="chapter-item "><div>instru</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/rewrite/instru/2009.mt.hazelwood.ismm.28.html">2009.mt.hazelwood.ismm.28.md</a></li><li class="chapter-item "><a href="../../BT/rewrite/instru/mem_count.html">mem_count.md</a></li></ol></li></ol></li><li class="chapter-item "><div>security</div></li><li class="chapter-item "><div>static</div></li><li class="chapter-item "><div>sys</div></li><li class="chapter-item "><div>Tarmac</div></li><li class="chapter-item "><div>test</div></li><li class="chapter-item expanded "><div>x86-qemu-mips</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/x86-qemu-mips/check_manual.html">x86-qemu-mips checkæ‰‹å†Œ</a></li><li class="chapter-item expanded "><a href="../../BT/x86-qemu-mips/check.html" class="active">check.md</a></li><li class="chapter-item "><div>debugs</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/x86-qemu-mips/debugs/OPEN.unknown-loop-in-bios.html">OPEN.unknown-loop-in-bios.md</a></li></ol></li><li class="chapter-item "><a href="../../BT/x86-qemu-mips/linux-user.html">x86-qemu-mipsåšå‡ºçš„ä¿®æ”¹</a></li><li class="chapter-item "><a href="../../BT/x86-qemu-mips/mips-llvm.html">mips-llvm.md</a></li><li class="chapter-item "><a href="../../BT/x86-qemu-mips/mt-tcg.html">mt-tcg.md</a></li><li class="chapter-item "><a href="../../BT/x86-qemu-mips/tr_miscä¿®æ”¹è®°å½•.html">tr_miscä¿®æ”¹è®°å½•.md</a></li></ol></li><li class="chapter-item "><div>X86toMips</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../BT/X86toMips/dbtæµ‹è¯•ç»“æœ.html">dbtæµ‹è¯•ç»“æœ.md</a></li><li class="chapter-item "><a href="../../BT/X86toMips/Pseudo-README.html">Pseudo-README.md</a></li><li class="chapter-item "><a href="../../BT/X86toMips/X86toMipsè°ƒç ”.html">æ­¦æˆå²—</a></li><li class="chapter-item "><a href="../../BT/X86toMips/X86toMipsè°ƒç ”-ç»­.html">X86toMipsè°ƒç ”-ç»­.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Build</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Autotools</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Autotools/2012.autotools_criticism.kamp..html">2012.autotools_criticism.kamp..md</a></li><li class="chapter-item "><a href="../../Build/Autotools/autotools.html">autotools.md</a></li></ol></li><li class="chapter-item "><div>CMake</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/CMake/Notes.html">CMkake Notes</a></li></ol></li><li class="chapter-item "><div>Compiler</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Compiler/1992.hyperblock.mahlke.micro.html">1992.hyperblock.mahlke.micro.md</a></li><li class="chapter-item "><a href="../../Build/Compiler/fill_byte_for_align.html">fill_byte_for_align.md</a></li><li class="chapter-item "><div>llvm</div></li><li class="chapter-item "><div>mingw</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Compiler/mingw/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>ORC</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Compiler/ORC/2004.ORC-LCPC04-Tutorial.html">2004.ORC-LCPC04-Tutorial.md</a></li><li class="chapter-item "><a href="../../Build/Compiler/ORC/2004.overview_orc.wuchengyong.iwlcpc.html">2004.overview_orc.wuchengyong.iwlcpc.md</a></li></ol></li><li class="chapter-item "><div>trans</div></li></ol></li><li class="chapter-item "><div>Disassemble</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Disassemble/2002.disassembly.bschwarz.pieee.html">2002.disassembly.bschwarz.pieee.md</a></li></ol></li><li class="chapter-item "><a href="../../Build/ELF/index.html">ELF</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/ELF/ELFè°ƒç ”.html">å‰æ²¿</a></li><li class="chapter-item "><a href="../../Build/ELF/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>Linker_Loader</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Build/Linker_Loader/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../Build/mingw.html">Windows Development Environment on Linux</a></li></ol></li><li class="chapter-item "><a href="../../cheatsheet.html">cheatsheet.md</a></li><li class="chapter-item "><div>CLI</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../CLI/term_pty_sh.html">term_pty_sh.md</a></li></ol></li><li class="chapter-item "><div>CompatLayer</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../CompatLayer/2006.linuxulator.divacky.freebsd..html">2006.linuxulator.divacky.freebsd..md</a></li><li class="chapter-item "><a href="../../CompatLayer/Alky.html">Alky.md</a></li><li class="chapter-item "><div>UML</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../CompatLayer/UML/user_mode_linux.html">user_mode_linux.md</a></li></ol></li><li class="chapter-item "><div>WINE</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../CompatLayer/WINE/2020_6_25.emu_win_syscall.corbet.lwn.html">2020_6_25.emu_win_syscall.corbet.lwn.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/Design_of_WINE.html">wineä¸­çš„å„ç±»è®¾è®¡</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/optimizable.html">optimizable.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/others.html">others.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/qemu-wine-logs.html">qemu-wine-logs.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/qemu-wine.html">qemu-wine.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/qemu-winetest_debug_logs.html">qemu-winetest_debug_logs.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/qemu-wineç¯å¢ƒæ­å»º.html">qemu-wineç¯å¢ƒæ­å»º.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/References.html">Wineç›¸å…³èµ„æ–™</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/Winegccè°ƒç ”.html">æœ€ç»ˆç›®æ ‡</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/Winelibè°ƒç ”æŠ¥å‘Š.html">Winelibè°ƒç ”æŠ¥å‘Š.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/WINEè®¾å¤‡é©±åŠ¨è°ƒç ”.html">èƒŒæ™¯</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/WINEè°ƒç ”.html">Wineè°ƒç ”</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_FX32_Wine.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_FX32_Wine.md</a></li><li class="chapter-item "><a href="../../CompatLayer/WINE/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_Wine.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_Wine.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Connect</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Bluetooth/index.html">Bluetooth</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bluez</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Bluetooth/bluez/profile_input.html">æ€»ä½“æ¶æ„</a></li></ol></li><li class="chapter-item "><div>btkbdd</div></li><li class="chapter-item "><div>dbus</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Bluetooth/dbus/Overview.html">Overview.md</a></li></ol></li><li class="chapter-item "><div>Essays</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>2005.bluez_intro.albert</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Bluetooth/Essays/2005.bluez_intro.albert/An_Introduction_to_Bluetooth_Programming.html">An Introduction to Bluetooth Programming</a></li></ol></li><li class="chapter-item "><a href="../../Connect/Bluetooth/Essays/é˜…è¯»è®°å½•.html">HID_v1.1.1</a></li></ol></li><li class="chapter-item "><div>hidclient</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Bluetooth/hidclient/logs.html">logs.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Network</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bittorrent</div></li><li class="chapter-item "><div>nginx</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Connect/Network/nginx/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><a href="../../Connect/Network/p2p.html">p2p.md</a></li><li class="chapter-item "><a href="../../Connect/Network/streaming_server.html">streaming_server.md</a></li></ol></li><li class="chapter-item "><div>NFC</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Essays</div></li></ol></li></ol></li><li class="chapter-item "><div>dataViz</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dataViz/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>Distro</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Distro/JingOS.html">JingOS.md</a></li><li class="chapter-item "><a href="../../Distro/Nix/index.html">Nix</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Distro/Nix/32bit.html">æ‰“åŒ…/ç¼–è¯‘32ä½ç¨‹åº</a></li><li class="chapter-item "><a href="../../Distro/Nix/android.html">åœ¨NixOSä¸Šä½¿ç”¨Androidç¨‹åº</a></li><li class="chapter-item "><a href="../../Distro/Nix/backup_binary_cache.html">å¤‡ä»½binary cache</a></li><li class="chapter-item "><a href="../../Distro/Nix/cross.html">Nixäº¤å‰ç¼–è¯‘å’Œè·¨å¹³å°ç¨‹åº</a></li><li class="chapter-item "><a href="../../Distro/Nix/deb_feishu.html">å®‰è£…debåŒ…ï¼Œä»¥é£ä¹¦ä¸ºä¾‹</a></li><li class="chapter-item "><a href="../../Distro/Nix/gnome.html">Gnome in NixOS</a></li><li class="chapter-item "><a href="../../Distro/Nix/nixpkgs.html">nixpkgs.md</a></li><li class="chapter-item "><a href="../../Distro/Nix/node.html">Nodejs packages (npm) in NixOS</a></li><li class="chapter-item "><a href="../../Distro/Nix/productivity.html">productivity.md</a></li><li class="chapter-item "><a href="../../Distro/Nix/python.html">Python in Nix/NixOS</a></li><li class="chapter-item "><a href="../../Distro/Nix/README-en.html">Nix/NixOS</a></li><li class="chapter-item "><a href="../../Distro/Nix/static_qemu.html">é™æ€é“¾æ¥ï¼Œä»¥qemuä¸ºä¾‹</a></li><li class="chapter-item "><a href="../../Distro/Nix/tailscale.html">Tailscale/Headscale</a></li><li class="chapter-item "><a href="../../Distro/Nix/vim.html">Vim in Nix/NixOS</a></li><li class="chapter-item "><a href="../../Distro/Nix/wayland.html">Currently, Not Wayland, But X11</a></li><li class="chapter-item "><a href="../../Distro/Nix/weird.html">Weird Things in Nix/NixOS</a></li></ol></li></ol></li><li class="chapter-item "><div>Emulator</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Emulator_Design</div></li><li class="chapter-item "><a href="../../Emulator/gem5/index.html">gem5</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Emulator/gem5/cache.html">Cache in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/clock.html">Clock in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/commit.html">Commit Stage of Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/debug.html">Debug Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/decode.html">decoding in gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/fetch.html">Fetch in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/files.html">gem5 files</a></li><li class="chapter-item "><a href="../../Emulator/gem5/flags.html">Flags in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/iew.html">Issue, Execute and Writeback in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/isa.html">xieby1's Manual for isa, a new DSL(Domain Specific Language)</a></li><li class="chapter-item "><a href="../../Emulator/gem5/logs.html">logs.md</a></li><li class="chapter-item "><a href="../../Emulator/gem5/mem.html">Mem in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/microop.html">microop in gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/mmu.html">X86MMU (X86TLB) in gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/o3cpu.html">O3 CPU in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../Emulator/gem5/ply.html">PLY(Python Lex Yacc) in gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/port.html">Port Abstraction in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/rename.html">rename.md</a></li><li class="chapter-item "><a href="../../Emulator/gem5/scons.html">Scons</a></li><li class="chapter-item "><a href="../../Emulator/gem5/simplecpu.html">Simple CPU in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/specialize.html">Specialize in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/syscall.html">Syscall in Gem5 SE</a></li><li class="chapter-item "><a href="../../Emulator/gem5/troubleShoot.html">Troubles in Gem5</a></li><li class="chapter-item "><a href="../../Emulator/gem5/ucache_adapter.html">Micro Cache Adapter in Gem5</a></li></ol></li><li class="chapter-item "><a href="../../Emulator/spike.html">spike.md</a></li></ol></li><li class="chapter-item "><div>EPaper</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../EPaper/eink.html">eink.md</a></li><li class="chapter-item "><a href="../../EPaper/laptop.html">laptop.md</a></li></ol></li><li class="chapter-item "><div>fonts</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>files</div></li></ol></li><li class="chapter-item "><div>FS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../FS/watch.html">watch.md</a></li></ol></li><li class="chapter-item "><div>hackthon</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../hackthon/Untitled.html">Untitled.md</a></li></ol></li><li class="chapter-item "><div>Input</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Input/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><div>ISA</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/2002.ildp.kim.isca.99.html">2002.ildp.kim.isca.99.md</a></li><li class="chapter-item "><a href="../../ISA/2013.power_of_risc_cisc.blem.hpca.144.html">2013.power_of_risc_cisc.blem.hpca.144.md</a></li><li class="chapter-item "><div>arm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/arm/aarch64.html">aarch64.md</a></li><li class="chapter-item "><div>software_opt</div></li></ol></li><li class="chapter-item "><div>enhance</div></li><li class="chapter-item "><div>Fusion</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/Fusion/2004.bt_fused_isa.hu.cgo.43.html">2004.bt_fused_isa.hu.cgo.43.md</a></li><li class="chapter-item "><a href="../../ISA/Fusion/2022.fuse_mem.singh.micro.0.html">2022.fuse_mem.singh.micro.0.md</a></li><li class="chapter-item "><a href="../../ISA/Fusion/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>mips</div></li><li class="chapter-item "><div>mips_lx</div></li><li class="chapter-item "><div>riscv</div></li><li class="chapter-item "><a href="../../ISA/Semantics/index.html">Semantics</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/Semantics/2013.locate.lakhotia.pprew.75.html">2013.locate.lakhotia.pprew.75.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2014.lem.mulligan.icfp.79.html">2014.lem.mulligan.icfp.79.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2015.sail.gray.micro.31.html">2015.sail.gray.micro.31.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2016.learn.heule.pldi.56.html">2016.learn.heule.pldi.56.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2018.sail.armstrong..3.html">2018.sail.armstrong..3.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2019.x64_validation.dasgupta.sigplan.24.html">2019.x64_validation.dasgupta.sigplan.24.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/2021.sail.armstrong.manual.html">2021.sail.armstrong.manual.md</a></li><li class="chapter-item "><a href="../../ISA/Semantics/asmjit.html">AsmJit</a></li><li class="chapter-item "><div>k</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/Semantics/k/logs.html">logs.md</a></li></ol></li></ol></li><li class="chapter-item "><div>ultrasparc</div></li><li class="chapter-item "><div>umips</div></li><li class="chapter-item "><div>Uop</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../ISA/Uop/1990.nec_intel.elkins...html">1990.nec_intel.elkins...md</a></li><li class="chapter-item "><a href="../../ISA/Uop/1996.palcode..manual..html">1996.palcode..manual..md</a></li><li class="chapter-item "><a href="../../ISA/Uop/2003.ucache.solomon.tvlsi.13.html">2003.ucache.solomon.tvlsi.13.md</a></li><li class="chapter-item "><a href="../../ISA/Uop/2019.reverse_engineer.koppe.usenix_security.16.html">2019.reverse_engineer.koppe.usenix_security.16.md</a></li><li class="chapter-item "><a href="../../ISA/Uop/2020.improve_ucache.kotra.micro.1.html">2020.improve_ucache.kotra.micro.1.md</a></li></ol></li><li class="chapter-item "><div>x86</div></li></ol></li><li class="chapter-item "><div>JIT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../JIT/2008.llvm_sim.brandner..29.html">2008.llvm_sim.brandner..29.md</a></li><li class="chapter-item "><a href="../../JIT/2011.llvm_sim.helmstetter.imecs.6.html">2011.llvm_sim.helmstetter.imecs.6.md</a></li><li class="chapter-item "><div>dynarmic</div></li><li class="chapter-item "><div>opt</div></li></ol></li><li class="chapter-item "><a href="../../Kernel/index.html">Kernel</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/2020_9_9.prepare_new_feat.edge.lwn-lpc.html">2020_9_9.prepare_new_feat.edge.lwn-lpc.md</a></li><li class="chapter-item "><div>Driver</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Driver/2019.linux_win_printer.é‡‘èé€š.è½¯ä»¶æ‰€ç¡•å£«.html">2019.linux_win_printer.é‡‘èé€š.è½¯ä»¶æ‰€ç¡•å£«.md</a></li></ol></li><li class="chapter-item "><div>exo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/exo/1995.intro.engler.sosp.1259.html">1995.intro.engler.sosp.1259.md</a></li></ol></li><li class="chapter-item "><div>Linux</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Linux/2002.rcu.mckenney..216.html">2002.rcu.mckenney..216.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/2016.sched_bug.lozi.eurosys.120.html">2016.sched_bug.lozi.eurosys.120.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/2018.concurrency.alglave.asplos.31.html">2018.concurrency.alglave.asplos.31.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/2020.rcu.mckenney...html">2020.rcu.mckenney...md</a></li><li class="chapter-item "><div>Android</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Linux/Android/anbox.html">anbox.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/Android/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/Android/to_mainline.html">to_mainline.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/Android/Waydroid.html">Waydroid.md</a></li></ol></li><li class="chapter-item "><a href="../../Kernel/Linux/cache_alias.html">ğŸš§cacheåˆ«åã€é¡µç€è‰²</a></li><li class="chapter-item "><a href="../../Kernel/Linux/cache_alias_page_color.html">cache_alias_page_color.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/docsReading.html">docsReading.md</a></li><li class="chapter-item "><div>drivers</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Linux/drivers/ioctl.html">ioctl.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/drivers/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../Kernel/Linux/idle.html">idle.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/lx.html">lx.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/memory_mapping.html">memory_mapping.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/module.logs.html">module.logs.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/mtlb.logs.html">mtlb.logs.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/page_fault.html">do_page_faultæºç åˆ†æ</a></li><li class="chapter-item "><a href="../../Kernel/Linux/page_size.html">page_size.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/QnA-alpine.html">QnA-alpine.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/startup.html">startup.md</a></li><li class="chapter-item "><a href="../../Kernel/Linux/syscalls.html">syscalls.md</a></li></ol></li><li class="chapter-item "><a href="../../Kernel/memory.html">memory.md</a></li><li class="chapter-item "><div>micro</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/micro/1995.u_kernel.lietdke.sosp.308.html">1995.u_kernel.lietdke.sosp.308.md</a></li><li class="chapter-item "><a href="../../Kernel/micro/2013.l3_sel4.elphinstone.sosp.126.html">2013.l3_sel4.elphinstone.sosp.126.md</a></li></ol></li><li class="chapter-item "><div>multi</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/multi/2009.intro.baumann.sosp.856.html">2009.intro.baumann.sosp.856.md</a></li></ol></li><li class="chapter-item "><div>syscall</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/syscall/2020_9_8.extensible_syscall.corbet.lwn-lpc.html">2020_9_8.extensible_syscall.corbet.lwn-lpc.md</a></li></ol></li><li class="chapter-item "><a href="../../Kernel/transkernel.html">transkernel.md</a></li><li class="chapter-item "><div>unikernel</div></li><li class="chapter-item "><div>WinCmptbl</div></li><li class="chapter-item "><div>Windows</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Windows/compilation.html">compilation.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/index.html">driver</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/Windows/driver/ddiwrapper.html">ddiwrapper.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/logs-1.html">logs-1.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/logs.html">logs.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/ndis.html">ndis.md</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>err</div></li></ol></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/printer.html">é©±åŠ¨å®‰è£…åŒ…æ„æˆ</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/driver/types.html">types.md</a></li></ol></li><li class="chapter-item "><a href="../../Kernel/Windows/nameConventions.html">Windowså‘½åé£æ ¼</a></li><li class="chapter-item "><a href="../../Kernel/Windows/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/ReactOS/index.html">ReactOS</a></li><li class="chapter-item "><a href="../../Kernel/Windows/service.html">service.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/subsystem.html">subsystem.md</a></li><li class="chapter-item "><a href="../../Kernel/Windows/syscall.html">syscall.md</a></li></ol></li><li class="chapter-item "><div>XNU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Darling</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kernel/XNU/Darling/overview.html">overview.md</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><div>Lang</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Asm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/Asm/asm.html">asm.md</a></li><li class="chapter-item "><div>riscv</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/Asm/riscv/QnA.html">QnA.md</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../Lang/awk.html">AWK</a></li><li class="chapter-item "><a href="../../Lang/bc.html">BC</a></li><li class="chapter-item "><div>C.f</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/C.f/macro.html">macro.md</a></li></ol></li><li class="chapter-item "><div>Dot</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/Dot/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../Lang/Dot/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>IR</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/IR/1999.JVM_Specification.html">1999.JVM_Specification.md</a></li><li class="chapter-item "><a href="../../Lang/IR/2000.llvm.lattner.master_thesis.241.html">2000.llvm.lattner.master_thesis.241.md</a></li><li class="chapter-item "><a href="../../Lang/IR/2004.llvm.lattner.cgo.4340.html">2004.llvm.lattner.cgo.4340.md</a></li><li class="chapter-item "><a href="../../Lang/IR/2013.importance.chow...html">2013.importance.chow...md</a></li><li class="chapter-item "><div>Common2</div></li><li class="chapter-item "><a href="../../Lang/IR/LLVM-IR.html">LLVM-IR.md</a></li><li class="chapter-item "><a href="../../Lang/IR/MapleIRDesign.html">Introduction </a></li></ol></li><li class="chapter-item "><div>JS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/JS/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>Latex</div></li><li class="chapter-item "><div>Lisp</div></li><li class="chapter-item "><div>Py</div></li><li class="chapter-item "><div>SMT-LIB</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/SMT-LIB/2012.smt_lib_v2.cok..47.html">2012.smt_lib_v2.cok..47.md</a></li></ol></li><li class="chapter-item "><div>WebAsm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lang/WebAsm/2017.intro.haas.pldi.194.html">2017.intro.haas.pldi.194.md</a></li><li class="chapter-item "><a href="../../Lang/WebAsm/linux_desktop.html">Web Assembly and Linux GUI (GUI Shell)</a></li><li class="chapter-item "><a href="../../Lang/WebAsm/overview.html">overview.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Lib</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Glibc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lib/Glibc/glibc.html">glibc.md</a></li><li class="chapter-item "><a href="../../Lib/Glibc/mmap.html">mmapç‰¹æ€§</a></li><li class="chapter-item "><a href="../../Lib/Glibc/pthread.html">pthread.md</a></li><li class="chapter-item "><a href="../../Lib/Glibc/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>igraph</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lib/igraph/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>Libc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Lib/Libc/Musl/index.html">Musl</a></li></ol></li></ol></li><li class="chapter-item "><div>Mem</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Mem/cat.html">cat.md</a></li><li class="chapter-item "><div>model</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Mem/model/2017.memalloy.wickerson.popl.77.html">2017.memalloy.wickerson.popl.77.md</a></li></ol></li><li class="chapter-item "><a href="../../Mem/order.html">C++11è®¿å­˜é¡ºåº</a></li><li class="chapter-item "><a href="../../Mem/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../Mem/test.html">test.md</a></li></ol></li><li class="chapter-item "><div>Opinions</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Opinions/notes.html">notes.md</a></li><li class="chapter-item "><a href="../../Opinions/openEcoSys.html">openEcoSys.md</a></li></ol></li><li class="chapter-item "><div>other_read_list</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../other_read_list/cambridge.html">Cambrige Advanced Topics in Computer Architecture Reading List</a></li><li class="chapter-item "><a href="../../other_read_list/stanford/index.html">stanford</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../other_read_list/stanford/1999.codesigned_vm.smith.iwia.html">1999.codesigned_vm.smith.iwia.md</a></li><li class="chapter-item "><a href="../../other_read_list/stanford/2001.vm_intro.smith.html">2001.vm_intro.smith.md</a></li><li class="chapter-item "><a href="../../other_read_list/stanford/2002.vector_vs_ss.kozyrakis.micro.html">2002.vector_vs_ss.kozyrakis.micro.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Perf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Perf/flamegraph.html">flamegraph.md</a></li><li class="chapter-item "><a href="../../Perf/tools.html">tools.md</a></li></ol></li><li class="chapter-item "><div>PoSh</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../PoSh/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>Pwr</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Pwr/2009.mcpat.li.micro.2319.html">2009.mcpat.li.micro.2319.md</a></li></ol></li><li class="chapter-item "><a href="../../QnA-Daliy.html">QnA-Daliy.md</a></li><li class="chapter-item "><div>Repos</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Repos/llvm-tutor.html">llvm-tutor.md</a></li></ol></li><li class="chapter-item "><div>revealjs</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../revealjs/plugins.html">TOC</a></li></ol></li><li class="chapter-item "><div>Sandbox</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Sandbox/chroot.html">chroot.md</a></li><li class="chapter-item "><div>Docker</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Sandbox/Docker/Overview.html">Overview.md</a></li><li class="chapter-item "><a href="../../Sandbox/Docker/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../Sandbox/proot.html">proot.md</a></li></ol></li><li class="chapter-item "><a href="../../scripts/index.html">scripts</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bash</div></li><li class="chapter-item "><div>nix</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>shell_gem5</div></li></ol></li></ol></li><li class="chapter-item "><div>security</div></li><li class="chapter-item "><div>Sim</div></li><li class="chapter-item "><div>SoC</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SoC/2009.static_timing_analysis.chadha.html">2009.static_timing_analysis.chadha.md</a></li><li class="chapter-item "><a href="../../SoC/2009.static_timing_analysis.chadha.note.html">2009.static_timing_analysis.chadha.note.md</a></li><li class="chapter-item "><a href="../../SoC/2020.soc_design_guide.chakravarthi.html">2020.soc_design_guide.chakravarthi.md</a></li><li class="chapter-item "><div>FPGA</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SoC/FPGA/iverilog.html">iverilog.md</a></li></ol></li><li class="chapter-item "><a href="../../SoC/HLS/index.html">HLS</a></li><li class="chapter-item "><a href="../../SoC/OpenTimer.html">OpenTimer</a></li><li class="chapter-item "><a href="../../SoC/STA.html">Static Timing Analysis (STA)</a></li><li class="chapter-item "><a href="../../SoC/terminologies.html">Terminologies</a></li><li class="chapter-item "><div>XLS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SoC/XLS/dslx.html">DSLX for Google XL</a></li><li class="chapter-item "><a href="../../SoC/XLS/xlscc.html">xlscc.md</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../SPIN.html">SPIN.md</a></li><li class="chapter-item "><div>SQL</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SQL/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>SW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SW/launchers.html">launchers.md</a></li><li class="chapter-item "><a href="../../SW/ocrmypdf.html">ocrmypdf.md</a></li><li class="chapter-item "><a href="../../SW/pandoc.html">pandoc.md</a></li><li class="chapter-item "><a href="../../SW/tree_timeline_note.html">tree_timeline_note.md</a></li><li class="chapter-item "><div>Vim</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SW/Vim/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>WM</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../SW/WM/gnome.html">gnome.md</a></li></ol></li></ol></li><li class="chapter-item "><div>SymExec</div></li><li class="chapter-item "><div>Temp</div></li><li class="chapter-item "><div>Virt</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Virt/1988.386.smith.programmers_journal..html">1988.386.smith.programmers_journal..md</a></li><li class="chapter-item "><a href="../../Virt/2002.esx.waldspurger.opsr.1402.html">2002.esx.waldspurger.opsr.1402.md</a></li><li class="chapter-item "><a href="../../Virt/2003.xen.barham.opsr.6475.html">2003.xen.barham.opsr.6475.md</a></li><li class="chapter-item "><a href="../../Virt/2003.xen.barham.opsr.6475.sync-conflict-20211220-085833-2SHHM4X.html">2003.xen.barham.opsr.6475.sync-conflict-20211220-085833-2SHHM4X.md</a></li><li class="chapter-item "><a href="../../Virt/2006.cmp_soft_hard_x86.adams.asplos.700.html">2006.cmp_soft_hard_x86.adams.asplos.700.md</a></li><li class="chapter-item "><a href="../../Virt/2012.dune.belay.osdi.215.html">2012.dune.belay.osdi.215.md</a></li><li class="chapter-item "><div>addr_trans</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Virt/addr_trans/2018.1_qemu_dune_2_lkm.faravelon.doc_thesis.1.html">2018.1_qemu_dune_2_lkm.faravelon.doc_thesis.1.md</a></li></ol></li><li class="chapter-item "><div>BT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Virt/BT/2016.cross_arch_captive.spink.taco.3.html">2016.cross_arch_captive.spink.taco.3.md</a></li><li class="chapter-item "><a href="../../Virt/BT/2019.cross_arch_captive.spink.usenix.1.html">2019.cross_arch_captive.spink.usenix.1.md</a></li></ol></li><li class="chapter-item "><a href="../../Virt/overview.html">overview.md</a></li><li class="chapter-item "><div>virtualBox</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Virt/virtualBox/install.html">install.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Write</div></li><li class="chapter-item "><a href="../../X11/index.html">X11</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../X11/windowManage.html">windowManage.md</a></li></ol></li><li class="chapter-item "><div>è¡Œä¸šæŠ¥å‘Š</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>LF</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../è¡Œä¸šæŠ¥å‘Š/LF/2020-Linux-Foundation-Annual-Report_120520.html">2020-Linux-Foundation-Annual-Report_120520.md</a></li><li class="chapter-item "><a href="../../è¡Œä¸šæŠ¥å‘Š/LF/FINOS-business-value-of-open-source.html">FINOS-business-value-of-open-source.md</a></li></ol></li><li class="chapter-item "><div>Nix</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../è¡Œä¸šæŠ¥å‘Š/Nix/2021.summur.html">2021.summur.md</a></li></ol></li><li class="chapter-item "><div>ä¼ä¸šå¹´æŠ¥</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>apple</div></li><li class="chapter-item "><div>åä¸º</div></li><li class="chapter-item "><div>æµ·ä¿¡</div></li><li class="chapter-item "><div>è”æƒ³</div></li></ol></li><li class="chapter-item "><div>ä¿¡é€šé™¢</div></li><li class="chapter-item "><div>å›½å®¶</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../è¡Œä¸šæŠ¥å‘Š/å›½å®¶/2006_2022.å›½å®¶ä¸­é•¿æœŸç§‘å­¦å’ŒæŠ€æœ¯å‘å±•è§„åˆ’çº²è¦.html">å›½å®¶ä¸­é•¿æœŸç§‘å­¦å’ŒæŠ€æœ¯å‘å±•è§„åˆ’çº²è¦ï¼ˆ2006â”2020å¹´ï¼‰</a></li></ol></li><li class="chapter-item "><div>ç½‘ä¿¡è‡ªä¸»åˆ›æ–°</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../è¡Œä¸šæŠ¥å‘Š/ç½‘ä¿¡è‡ªä¸»åˆ›æ–°/2020.html">2020.md</a></li></ol></li><li class="chapter-item "><div>é¾™èŠ¯</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="shuimitao">æ°´èœœæ¡ƒ</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">xieby1&#x27;s notes</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/xieby1/xieby1.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="font-size:3em; text-align:right;">2019.12.18</div>
ç»™x86-qemu-mipsæ·»åŠ checkåŠŸèƒ½çš„æ„æƒ³ï¼š
<p>ç»è¿‡ç®€å•è°ƒç ”X86toMipsçš„checkåŠŸèƒ½ï¼Œæˆ‘æƒ³ç”¨ç°åœ¨çš„<strong>x86-qemu-mipså’ŒQEMUè¿›è¡Œå¯¹æ¯”check</strong>ï¼Œè€Œä¸æ˜¯æŠŠX86toMipsçš„è§£é‡Šæ¨¡å—å…¨éƒ¨ç§»æ¤åˆ°x86-qemu-mipsé‡Œç„¶åç”¨x86-qemu-mipså’ŒX86toMipsçš„è§£é‡Šæ‰§è¡Œè¿›è¡Œæ¯”è¾ƒã€‚æ‰€ä»¥ç›®å‰æœ‰ä¸€ä¸‹ä¸¤ä¸ªé—®é¢˜éœ€è¦è€ƒè™‘ï¼š</p>
<ol>
<li>åœ¨X86toMipsé‡Œæœ‰ä¸€ä¸ªè®°å½•å†™å†…å­˜çš„ç»“æ„ä½“<code>map&lt;ADDRX, uint64&gt;</code>ï¼Œç”¨äºè®°å½•æ‰€ä»¥åœ¨TBé‡Œå†™å†…å­˜çš„æ“ä½œï¼Œç²’åº¦ä¸ºå­—èŠ‚ã€‚æœ‰äº†è¿™ä¸ªç»“æ„æ‰èƒ½å®Œæˆå›é€€å†…å­˜æ“ä½œã€‚ä½†æ˜¯è¿™ä¸ªç»“æ„éœ€è¦è§£é‡Šæ‰§è¡Œæ¥æä¾›å¸®åŠ©æ‰èƒ½æ”¯æŒã€‚åœ¨x86-qemu-mipsé‡Œï¼Œæˆ‘ä»¬è¦ä¹ˆè€ƒè™‘å›é€€QEMUçš„æ‰§è¡Œï¼Œè¦ä¹ˆè€ƒè™‘å›é€€x86-qemu-mipsçš„æ‰§è¡Œã€‚ç®€å•åœ°çœ‹äº†çœ‹QEMUçš„å†™å†…å­˜æŒ‡ä»¤ï¼Œéƒ½è¢«ç¿»è¯‘æˆäº†nativeæœºå™¨ç ï¼Œä¹Ÿä¸å¤ªæƒ³å»ä¿®æ”¹QEMUçš„ç»“æ„ï¼Œæ‰€ä»¥å¯èƒ½ä¸å¤ªæ–¹ä¾¿åœ¨å…¶ä¸­æ·»åŠ ç”¨äºè®°å½•å†™å†…å­˜æ“ä½œçš„ä»£ç ï¼ˆæ‰€è°“çš„instrument codeï¼‰ã€‚æ‰€ä»¥æˆ‘ä»¬è€ƒè™‘åœ¨x86-qemu-mipsä¸Šè¿›è¡Œä¿®æ”¹ï¼šæŠŠX86toMipsè§£é‡Šæ‰§è¡Œå†™å†…å­˜çš„å‡½æ•°ç§»åˆ°x86-qemu-mipsé‡Œæ¥ï¼Œå½“ä¸”ä»…å½“å¼€å¯checkæ¨¡å¼æ—¶æ‰ä¼šè§£é‡Šæ‰§è¡Œå†™å†…å­˜ç›¸å…³çš„æŒ‡ä»¤ï¼Œè¿™æ ·å°±èƒ½è®°å½•æ‰€æœ‰å†™å†…å­˜çš„æ“ä½œäº†ï¼Œå› æ­¤checkç³»ç»Ÿçš„æ‰§è¡Œå¹¶æ¯”å¯¹ä¸€ä¸ªTBå—çš„æµç¨‹æ˜¯ï¼š
<ul>
<li>x86-qemu-mipsæ‰§è¡ŒTBï¼ˆæ‰€æœ‰å†™å†…å­˜æŒ‡ä»¤è§£é‡Šæ‰§è¡Œï¼Œå½“ä¸­ä¼šè®°å½•æ‰€æœ‰å†™å†…å­˜çš„æ“ä½œï¼‰</li>
<li>å›é€€</li>
<li>QEMUæ‰§è¡ŒTB</li>
<li>æ¯”å¯¹x86-qemu-mipså’ŒQEMUçš„æ‰§è¡Œç»“æœ</li>
</ul>
</li>
<li>QEMUå¯¹x86å†…å­˜åœ°å€æ˜ å°„åˆ°MIPSå†…å­˜åœ°å€çš„è¯¦ç»†åšæ³•ã€‚å› ä¸ºQEMUé‡Œx86å†…å­˜åœ°å€å¹¶<strong>ä¸ç­‰äº</strong>MIPSå†…å­˜åœ°å€ï¼Œæ‰€ä»¥åœ¨æ¯”å¯¹æ‰§è¡Œç»“æœé˜¶æ®µåŠ¿å¿…éœ€è¦ä¸€ä¸ªè½¬æ¢è¿‡ç¨‹ã€‚å› æ­¤æœ‰å¿…è¦è¯¦ç»†ææ¸…æ¥šQEMUæ˜ å°„å†…å­˜çš„åœ°å€çš„æ–¹æ³•ã€‚</li>
</ol>
<p>ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜äº’ç›¸ä¸é‡å ï¼Œé‚¹æ—­åšç¬¬1ä¸ªï¼Œæˆ‘åšç¬¬2ä¸ªã€‚å½“ç„¶é™¤äº†è¿™ä¸¤æ¯”è¾ƒæ˜¾è‘—çš„é—®é¢˜ï¼Œè¿˜æœ‰è¯¸å¤šå°é—®é¢˜ï¼Œç­‰é‡åˆ°çš„æ—¶å€™å†ä¸€ä¸€è§£å†³å§ã€‚</p>
<h1 id="x86tomips"><a class="header" href="#x86tomips">X86toMips</a></h1>
<p>åœ¨å…¨å±€æœç´¢checkï¼Œåœ¨<code>TB</code>ã€<code>IR1_INST</code>å’Œ<code>IR1_OPND</code>è¿™3ä¸ªç±»ä¸­å­˜åœ¨<code>check()</code>è¿™ä¸ªå‡½æ•°ã€‚æ¥ä¸‹æ¥ä¸€ä¸€çœ‹è¿™3ä¸ªç±»é‡Œçš„checkå‡½æ•°ï¼Œ</p>
<h2 id="tbcheck"><a class="header" href="#tbcheck"><code>TB::check()</code></a></h2>
<p>è®°å½•äº†TBå¼€å§‹æ‰§è¡Œå‰çš„<code>env</code>ï¼Œè®°å½•äº†TBæ‰§è¡Œè¿‡ç¨‹ä¸­å†™å†…å­˜çš„æ“ä½œã€‚å¦‚æ­¤ï¼Œä¾¿å¯ä»¥å®Œæˆå›é€€åˆ°æ‰§è¡ŒTBå‰çš„æœºå™¨çŠ¶æ€ã€‚å› æ­¤ï¼ŒX86toMipsæ¯ä¸ªTBéƒ½æ‰§è¡Œä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯è§£é‡Šæ‰§è¡Œï¼ˆå›é€€ï¼‰ï¼Œå¦ä¸€æ¬¡æ˜¯ç¿»è¯‘æ‰§è¡Œï¼ˆä¸å›é€€ï¼‰ï¼Œç„¶åæ¯”è¾ƒè¿™ä¿©çš„æ‰§è¡Œç»“æœæ˜¯å¦ä¸€è‡´ã€‚</p>
<p>ğŸ˜ƒè¿™é‡Œæœ‰æ„æ€çš„éƒ¨åˆ†æ˜¯ä¿å­˜å†™å†…å­˜æ“ä½œçš„æ•°æ®ç»“æ„ï¼Œç”¨çš„æ˜¯C++çš„mapï¼Œå®šä¹‰ä¸º<code>map&lt;ADDRX, uint64&gt;</code>ã€‚ä»…ä»…ä»è¿™ä¸ªç»“æ„å¹¶ä¸èƒ½çœ‹å‡ºå…¶å­˜çš„å•ä½æ˜¯å¤šå¤§ï¼ˆå…¶å®æˆ‘æœ€å¼€å§‹ä»¥ä¸ºå­˜çš„å†…å®¹æ˜¯64bitsï¼‰ï¼Œç›´åˆ°æˆ‘çœ‹åˆ°äº†å¯¹è¿™ä¸ªæ•°æ®ç»“æ„çš„æ“ä½œï¼Œæ¯”å¦‚<code>vmm_discard_writing</code>é‡Œã€‚å°†<code>uint64</code>çš„å˜é‡èµ‹å€¼ç»™äº†<code>WRITE_RECORD</code>çš„å˜é‡ã€‚å…¶ä¸­<code>WRITE_RECORD</code>æ˜¯ä¸€ä¸ªç±»åŒ…å«äº†ä¸€ä¸ª64bitsçš„unionç»“æ„å’Œä¿©æ–¹æ³•ã€‚ğŸ¤”**æ—¢ç„¶èƒ½å¤Ÿå°†64bitsçš„å˜é‡è½¬æ¢æˆè¿™æ ·ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯è¯´C++ç±»çš„æ–¹æ³•å’Œå˜é‡æ˜¯åˆ†å¼€çš„ï¼Ÿä¸”ç±»çš„å®ä¾‹æ‰€å€¼çš„å†…å®¹ä»…ä»…åªåŒ…å«ç±»çš„å˜é‡ï¼Ÿ**æœ‰ç©ºçš„æ—¶å€™å¯ä»¥çœ‹çœ‹C++ç±»çš„å®ä¾‹åœ¨å†…å­˜çš„å­˜æ”¾æ–¹å¼ã€‚</p>
<p><code>TB::check</code>çš„ä»£ç æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/TB-check-formatted.svg" alt="TB-check-formatted" /></p>
<p>å»æ‰¾ä½¿ç”¨äº†<code>TB::check()</code>çš„åœ°æ–¹ï¼Œä»…æœ‰å”¯ä¸€çš„ä¸€å¤„<code>main/exec.cpp: 76</code>ã€‚å…¶æ³¨é‡Šå¦‚ä¸‹</p>
<blockquote>
<p>// 3. either rollback&amp;check, or try to translate and run native code, or interpret it</p>
</blockquote>
<p>å¯ä»¥çœ‹å‡ºæœ‰å¦‚ä¸‹æ‰§è¡Œçš„é€‰æ‹©</p>
<ul>
<li>checkæ‰§è¡Œï¼Œ<code>check()</code></li>
<li>æ­£å¸¸æ‰§è¡Œï¼Œ
<ul>
<li>ç¿»è¯‘ï¼Œ<code>translate() then run_native()</code></li>
<li>è§£é‡Šï¼Œ<code>interpret()</code></li>
</ul>
</li>
</ul>
<p>ç”±äºåªæœ‰è§£é‡Šæ‰§è¡Œæ‰ä¼šè®°å½•æ‰€æœ‰å†™å†…å­˜çš„æ“ä½œï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å»çœ‹çœ‹å†™å†…å­˜çš„æŒ‡ä»¤æ˜¯å¦‚ä½•è¢«è§£é‡Šæ‰§è¡Œçš„ï¼Œ</p>
<h2 id="tbinterpret"><a class="header" href="#tbinterpret"><code>TB::interpret()</code></a></h2>
<p>ä½äº<code>interpreter/interpret.cpp: 7~23</code></p>
<p>å¾ˆå®¹æ˜“çœ‹å‡ºè¿™ä¸ªå‡½æ•°æ˜¯å»æ‰§è¡Œäº†æ¯ä¸€æ¡æŒ‡ä»¤çš„è§£é‡Šå‡½æ•°ï¼Œ</p>
<h3 id="ir1interpret"><a class="header" href="#ir1interpret"><code>IR1::interpret()</code></a></h3>
<p>ä½äº<code>interpreter/interpret.cpp: 28~262</code></p>
<p>è¿™å‡½æ•°ä¸€å¼€å§‹ä¾¿æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„å‡½æ•°æŒ‡é’ˆçš„æ•°ç»„ï¼ˆå‡½æ•°æŒ‡é’ˆçš„æ•°ç»„è¿™ä¸ªè¯­æ³•æˆ‘ç¬¬ä¸€æ¬¡è§ï¼Œçœ‹äº†å¥½åŠå¤©æ‰ååº”è¿‡æ¥ï¼‰ï¼Œç”¨äºè§£é‡Šå¯¹åº”çš„æŒ‡ä»¤ã€‚å»çœ‹<code>interpret_mov</code>çš„å®ç°å³å¯ï¼Œ</p>
<h4 id="interpret_movir1_inst-pir"><a class="header" href="#interpret_movir1_inst-pir"><code>interpret_mov(IR1_INST *pir)</code></a></h4>
<p>ä½äº<code>interpreter/it_mov.cpp: 43~47</code>ã€‚è¿™ä¸ªå‡½æ•°çš„å·¥ä½œå¾ˆç®€å•ï¼Œå°±2æ­¥ï¼Œ</p>
<ol>
<li>
<p>å–æ“ä½œæ•°ï¼Œ</p>
</li>
<li>
<p>å­˜å…¥opnd(0)ã€‚</p>
<p>è¿™ä¸€æ­¥ä¾¿ç”¨åˆ°äº†æ“ä½œæ•°ç§ç±»ï¼ˆ<code>opnd.type()</code>ï¼‰è¿™ä¸ªå˜é‡ï¼Œå¯èƒ½çš„ç§ç±»ï¼šé€šç”¨å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨ã€å¤šç§å†…å­˜ã€‚</p>
<p>è‹¥æ˜¯å†…å­˜ç±»å‹çš„å˜é‡çš„è¯ï¼Œåˆ™ä¼šè°ƒç”¨<code>write_x86_mem</code>è¿™ä¸ªå‡½æ•°ã€‚</p>
</li>
</ol>
<h5 id="write_x86_memå’Œvmm_record_write"><a class="header" href="#write_x86_memå’Œvmm_record_write"><code>write_x86_mem</code>å’Œ<code>vmm_record_write</code></a></h5>
<p>è¿™é‡Œä¾¿ä¼šè°ƒç”¨<code>checker/check.cpp: vmm_record_write</code>å‡½æ•°æ¥è®°å½•å†™å†…å­˜çš„æƒ…å†µï¼ˆè®°å½•ç²’åº¦å•ä½ä¸ºå­—èŠ‚ï¼‰ã€‚</p>
<h3 id="x86å†…å­˜åœ°å€æ˜ å°„åˆ°mipså†…å­˜åœ°å€çš„æ–¹å¼"><a class="header" href="#x86å†…å­˜åœ°å€æ˜ å°„åˆ°mipså†…å­˜åœ°å€çš„æ–¹å¼">x86å†…å­˜åœ°å€æ˜ å°„åˆ°mipså†…å­˜åœ°å€çš„æ–¹å¼</a></h3>
<p>ä»ç¿»è¯‘ç”Ÿæˆçš„MIPSä»£ç ä¸Šæ¥çœ‹ï¼Œç¿»è¯‘å‡ºæ¥çš„mipsåœ°å€å’ŒåŸç¨‹åºx86åœ°å€ç›¸åŒã€‚è‹¥è¦ä»ä»£ç ä¸Šæ¥æ”¯æŒè¿™ä¸ªè®ºæ–­çš„è¯ï¼Œå¯ä»¥ä»è®¡ç®—<code>write_x86_mem</code>çš„åœ°å€å‚æ•°çš„å‡½æ•°â€”â€”<code>get_mem_addr()</code>å…¥æ‰‹ï¼Œ</p>
<h4 id="get_mem_addr"><a class="header" href="#get_mem_addr"><code>get_mem_addr()</code></a></h4>
<p>ä½äº<code>interpreter/it_opnd_value.cpp: 278~288</code></p>
<p>é¦–å…ˆå‚è€ƒx86æ¶æ„è®¿å­˜çš„æ¨¡å¼ï¼Œå‚è€ƒ<a href="https://sourceware.org/binutils/docs/as/i386_002dMemory.html#i386_002dMemory">GNU asæ±‡ç¼–å™¨å¯¹memory referenceçš„è¯´æ˜</a>ï¼Œè®¿å­˜æ¨¡å¼(intelæ±‡ç¼–)ä¸ºï¼Œ</p>
<pre><code>section: [base + index*scale + disp]
</code></pre>
<p>åœ¨çœ‹<code>get_mem_addr</code>çš„è®¡ç®—åœ°å€çš„æ–¹å¼ï¼Œ</p>
<pre><code class="language-c++">mem_addr = segment_base + base + simm + index*scale;
// å¾ˆæ˜æ˜¾ä¸”åˆç†åœ°çŒœæµ‹
// segment_baseå¯¹åº”sectionï¼Œå³x86çš„æ®µå¯„å­˜å™¨
// simmå¯¹åº”disp
</code></pre>
<p>æ‰€ä»¥è¿™æ ·çœ‹æ¥ç¡®å®æ˜¯<strong>ç¿»è¯‘å‡ºæ¥çš„mipsåœ°å€å’ŒåŸç¨‹åºx86åœ°å€ç›¸åŒ</strong>ã€‚</p>
<h2 id="ir1_inst"><a class="header" href="#ir1_inst">IR1_INST</a></h2>
<h2 id="ir1_opnd"><a class="header" href="#ir1_opnd">IR1_OPND</a></h2>
<h1 id="qemuå†…å­˜åœ°å€æ˜ å°„çš„æ–¹æ³•"><a class="header" href="#qemuå†…å­˜åœ°å€æ˜ å°„çš„æ–¹æ³•">QEMUå†…å­˜åœ°å€æ˜ å°„çš„æ–¹æ³•</a></h1>
<p>é¦–å…ˆè°ƒç ”ä¸€ä¸‹<code>movl %ebx, (%eax)</code>å¦‚ä½•ç¿»è¯‘æˆtcgçš„å†™å†…å­˜æŒ‡ä»¤çš„ï¼Œç„¶åå†çœ‹è¿™æ ·çš„tcgæŒ‡ä»¤å¦‚ä½•ç¿»è¯‘æˆæœ¬åœ°ä»£ç çš„ï¼Œè¿™æ ·å°±èƒ½çŸ¥é“QEMUçš„å†…å­˜æ˜ å°„çš„æ–¹æ³•äº†ã€‚</p>
<p><strong>æ³¨</strong>ï¼š<code>movl %ebx, (%eax)</code>æŒ‡ä»¤çš„æœºå™¨ç åŠå…¶æ„æ€ï¼Œå‚è€ƒ<a href="https://www.felixcloutier.com/x86/mov">x86-mov</a>ï¼Œ<a href="https://wiki.osdev.org/X86-64_Instruction_Encoding">x86-64 instruction encoding</a>ï¼š</p>
<p><code>movl %ebx, (%eax)</code>æ˜¯AT&amp;Tæ±‡ç¼–æ ¼å¼ï¼Œè¡¨ç¤ºå°†ebxçš„å€¼å­˜å…¥eaxæ‰€æŒ‡çš„å†…å­˜åœ°å€å»ï¼Œå…¶i386æœºå™¨ç ä¸º<code>0x8918</code>ï¼Œ</p>
<ul>
<li><code>0x89</code>ï¼š<code>MOV r/m32, r32</code>çš„æ“ä½œç ï¼ˆmove r32 to r/m32ï¼‰ï¼Œ</li>
<li><code>0x18</code>å³<code>0b00011000</code>ï¼š
<ul>
<li>Modï¼š<code>0b00</code>ï¼Œè¡¨ç¤ºr/mé‚£ä¸ªå¯„å­˜å™¨æ˜¯må‹ï¼Œå³å†…å­˜åœ°å€</li>
<li>r/mï¼š<code>0b0110</code>ï¼Œè¡¨ç¤ºebxï¼Œä¸”åœ¨mod00ä¸‹æ²¡æœ‰disp</li>
<li>rï¼š<code>0b000</code>ï¼Œè¡¨ç¤ºeax</li>
</ul>
</li>
</ul>
<p><span style="color:red;">ğŸ¤”Q: QEMU i386åæ±‡ç¼–æ³¨é‡Šé‡Œè¡¨ç¤ºæ“ä½œæ•°çš„è®°å·ï¼Œè¯¸å¦‚<code>Gv</code>, <code>Ev</code>, <code>Iv</code>ç­‰æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ<strong>æ³¨</strong>ï¼š<code>target/i386/translate.c</code>é‡Œå¾ˆå¤šå¾ˆå¤šè¿™æ ·çš„æ³¨é‡Šã€‚</span></p>
<h2 id="guesttcg"><a class="header" href="#guesttcg">guest=&gt;TCG</a></h2>
<p>ä»¥<code>movl %ebx,(%eax) #8918</code>ä¸ºä¾‹</p>
<p><code>qemu/target/i386/translate.c: 5501~5509</code>å¯¹åº”<code>mov</code>è¿™æ¡æŒ‡ä»¤çš„ç¿»è¯‘è¿‡ç¨‹ï¼Œmodrmæ˜¯x86æŒ‡ä»¤é›†çš„ä¸€äº›æ ‡å¿—ï¼Œå‚è€ƒ<a href="https://wiki.osdev.org/X86-64_Instruction_Encoding#ModR.2FM_and_SIB_bytes">X86-64 Instruction Encoding: ModR/M and SIB bytes</a>ï¼Œçœ‹æ¥ModR/Mæ˜¯è®¿å­˜æ¨¡å¼çš„æ„æ€ï¼Œç›´æ¥å¯»å€è¿™å¯¹åº”Regé‡Œçš„å€¼ï¼Œé—´æ¥å¯»å€åˆ™éœ€è¦ç”¨Regæ‰€æŒ‡çš„Memé‡Œçš„å€¼ï¼Œè¿™å¤§æ¦‚å°±æ˜¯ModR/Mè¿™ä¸ªç®€å†™çš„æ¥æºå§ã€‚</p>
<blockquote>
<p>The ModR/M and SIB bytes are used to encode up to two operands of an instruction, each of which is a direct register or effective memory address.</p>
</blockquote>
<ul>
<li><code>mo_b_d</code>é€šè¿‡æ˜¯å¦å¼€å¯äº†modrmæ¥åˆ¤æ–­æ“ä½œæ•°çš„å¤§å°ã€‚å‚è€ƒ<a href="https://wiki.osdev.org/X86-64_Instruction_Encoding#Opcode">X86-64 Instruction Encoding: Opcode</a>ï¼Œopcodeçš„æœ€åœ°ä½å’ŒModRM.rmå’ŒSIB.baseæ‰©å±•ç›¸å…³ã€‚</li>
<li><code>x86_ldub_code</code>è¯»x86æºç çš„ä¸‹ä¸€ä¸ªå­—èŠ‚ã€‚</li>
<li><code>gen_ldst_modrm(env, s, modrm, ot, reg)</code>å®Œæˆç”Ÿæˆå†™å†…å­˜TCGçš„ä»£ç æ˜¯
<ul>
<li><code>ot</code>ï¼šæ”¾çš„å†™å†…å­˜çš„ç²’åº¦</li>
</ul>
</li>
</ul>
<div style="font-size:3em; text-align:right;">2019.12.19</div>
x86æœºå™¨æŒ‡ä»¤`movl %ebx,(%eax) #8918`ç¿»è¯‘æˆTCGçš„æ€»ä½“æ¡†æ¶å¦‚ä¸‹ï¼Œ
<p><img src="pictures/qemu-store-formatted.svg" alt="qemu-store-formatted" /></p>
<p><strong>2019.12.23</strong>ï¼š</p>
<p>åœ¨è¿™é‡Œçœ‹åˆ°äº†<code>gen_lea_modrm</code>å‡½æ•°ï¼ŒçŒœæµ‹è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯å°†x86çš„é—´æ¥åœ°å€ï¼Œå½¢å¦‚section: disp[bas, index, scale]è¿™ä¸ªå¯ä»¥åœ¨<a href="https://sourceware.org/binutils/docs/as/i386_002dMemory.html#i386_002dMemory">gasçš„ç”¨æˆ·æ‰‹å†Œ-memory references</a>é‡ŒæŸ¥é˜…åˆ°ï¼Œè½¬ä¸ºä¸ºTCGï¼Œäºæ˜¯åšå®éªŒçœ‹ä¸€æ¡æœ‰å¤æ‚é—´æ¥å¯»å€çš„æŒ‡ä»¤è¢«è½¬æ¢æˆäº†é‚£äº›TCGï¼Œ</p>
<pre><code class="language-assembly"># æµ‹è¯•çš„æ±‡ç¼–æŒ‡ä»¤
# AT&amp;Té£æ ¼çš„x86æ±‡ç¼–
movl	%ecx, 4(%eax, %ebx, 8) # opcode 0x89

# ç¼–è¯‘å¥½åqemu-i386 -d op PATH_TO_TEST # QEMUçš„å‰ç«¯æ˜¯ä¸€è‡´ï¼Œæ‰€ä»¥åœ¨MIPSæˆ–x86ä¸Šå®éªŒéƒ½å¯ä»¥

# QEMUçš„ä¸­é—´è¡¨ç¤º
movi_i32 tmp11,$0x3 # load scale, 2^3=8
shl_i32 tmp2,ebx,tmp11 # index*scale
add_i32 tmp2,tmp2,eax # add base # base + index*scale
movi_i32 tmp11,$0x4 # load disp
add_i32 tmp2,tmp2,tmp11 # add disp # base + index*scale + disp
# indirect memroy reference compute complete!
mov_i32 tmp0,ecx # load source
qemu_st_i32 tmp0,tmp2,leul,0 # store source(tmp0) to a memory destination(tmp2)
</code></pre>
<p>âœ”ï¸ğŸ¤”ä¸Šé¢çš„<code>leul</code>æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå‚è§TCGMemOpçš„å®šä¹‰<code>tcg/tcg.h: 313~398</code>çš„380è¡Œï¼Œ</p>
<pre><code class="language-c">MO_LEUL = MO_LE | MO_UL // little endian, unsigned long
</code></pre>
<p>æ‰€ä»¥ç°åœ¨åªè¦å»çœ‹INDEX_op_mov_i32è¿™æ¡TCGæŒ‡ä»¤å¦‚ä½•ç¿»è¯‘ä¸ºæœ¬åœ°ç çš„å°±å¯ä»¥çŸ¥é“QEMUçš„å†…å­˜æ˜ å°„çš„æ–¹æ³•ã€‚</p>
<h2 id="tcghoståç«¯ä¸ºx86"><a class="header" href="#tcghoståç«¯ä¸ºx86">TCG=&gt;hostï¼ˆåç«¯ä¸ºX86ï¼‰</a></h2>
<p>ğŸ˜ƒä¸€ä¸ªæœ‰è¶£çš„åœ°æ–¹ï¼šTCGæ“ä½œç çš„æšä¸¾å®šä¹‰åœ¨<code>tcg/tcg.h: 210~215</code>ï¼Œç”±å®å‡½æ•°å¾ˆå·§å¦™çš„å®Œæˆï¼Œä¸”åªç”¨åˆ°äº†<code>name</code>å®å‡½æ•°çš„å˜é‡ï¼Œå…¶ä»–çš„å˜é‡å¯èƒ½åœ¨å…¶ä»–ç±»ä¼¼çš„å®å®šä¹‰ä¸­ä¼šç”¨åˆ°ï¼ˆæˆ‘çš„çŒœæƒ³ï¼š<strong>è¿™æ ·çš„å¥½å¤„æ˜¯åªéœ€è¦ä¸€ä»½tcg-opc.hå°±èƒ½ç®¡ç†æ¯ä¸€æ¡tcgæ“ä½œç çš„æ‰€æœ‰å±æ€§</strong>ï¼‰ã€‚</p>
<h3 id="tcg_gen_code"><a class="header" href="#tcg_gen_code"><code>tcg_gen_code</code></a></h3>
<p>æ ¹æ®<code>QEMU/linux-user.md</code>é‡Œå…³äº<code>tb_gen_code</code>çš„ä»£ç æ¡†æ¶å›¾å¯çŸ¥ï¼Œç”±TCGç”Ÿæˆæœ¬åœ°ç çš„å·¥ä½œç”±å‡½æ•°<code>tcg_gen_code</code>å®Œæˆï¼Œæœ‰å…³ç”Ÿæˆå†™å†…å­˜æŒ‡ä»¤çš„æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/tcg_gen_code-x86-formatted.svg" alt="tcg_gen_code-x86-formatted" /></p>
<p>2020.5.22: ä»Šå¤©çŸ¥é“äº†directçš„æ˜¯ä¸ç³»ç»Ÿæ¨¡æ‹Ÿæ—¶è¦ç»è¿‡TLBç›¸å¯¹çš„ã€‚</p>
<p>ç»­ä¸Šé¢çš„æµ‹è¯•ï¼Œçœ‹çœ‹è¯¥æ¡å†™å†…å­˜æŒ‡ä»¤ä¼šå˜æˆå“ªäº›x86æŒ‡ä»¤ï¼Œ</p>
<pre><code class="language-assembly"># æµ‹è¯•çš„æ±‡ç¼–æŒ‡ä»¤
# AT&amp;Té£æ ¼çš„x86æ±‡ç¼–
# æ³¨ï¼šeaxçš„å€¼ä¸º0x80490a9ï¼Œebxçš„å€¼ä¸º2
movl	%ecx, 4(%eax, %ebx, 8) # opcode 0x89

# ç¼–è¯‘å¥½åqemu-i386 -d out_asm PATH_TO_TEST # æ³¨ï¼šæ­¤å¤„ä½¿ç”¨çš„æ˜¯X86åç«¯

mov	$0x80490bd,%ebx # åœ°å€å€¼æ˜¯ä¸ªå¸¸é‡ï¼Œè¢«è®¡ç®—å‡ºæ¥äº†
addr32 mov %ebp,%gs:(%ebx) # æ³¨ï¼šè¿™é‡Œçš„ebpé‡Œæ”¾çš„å€¼å°±æ˜¯ç¿»è¯‘å‰ä»£ç çš„ecxçš„å€¼ï¼Œéœ€è¦å­˜å…¥å†…å­˜çš„å€¼
</code></pre>
<p>ç”±æ­¤å¯ä»¥<strong>çŒœæµ‹</strong>X86åç«¯é‡Œçš„guest baseå¯»å€æ–¹å¼åˆ©ç”¨äº†X86æŒ‡ä»¤çš„ç®€ä»‹å¯»å€ï¼Œå¦‚ä¸‹ï¼Œï¼ˆä»¥åæœ‰æ—¶é—´å†æ¥è¯¦ç»†ç ”ç©¶ï¼‰</p>
<pre><code class="language-assembly">mov %src_reg, %x86_guest_base_reg: $x86_guest_base_offset( %dest_reg, %x86_guest_base_index, )
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼šç¡®å®ç”¨åˆ°äº†guest baseï¼æ¥ä¸‹çš„é‡ç‚¹æ˜¯çœ‹MIPSåç«¯é‡Œå¦‚ä½•ä½¿ç”¨guest baseçš„ã€‚</p>
<div style="font-size:3em; text-align:right;">2019.12.30</div>
## TCG=>hostï¼ˆåç«¯ä¸ºMIPSï¼‰
<p><code>tcg_gen_code</code>çš„MIPSçš„ç»“æ„å’ŒX86çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œä»£ç æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/tcg_gen_code-mips-formatted.svg" alt="tcg_gen_code-mips-formatted" /></p>
<p>âœ…ğŸ¤”<span style="color:red;"><b>ç–‘æƒ‘</b>ï¼šguest_baseåº”è¯¥æ˜¯<code>linux-user/main.c</code>é‡Œå£°æ˜çš„guest_baseï¼Œ<del>å¹¶ä¸æ˜¯å…¨å±€å˜é‡ï¼Œ</del>å¹¶æ²¡æœ‰å£°æ˜ä¸º<code>extern</code>å˜é‡ï¼Œå¦‚ä½•èƒ½å¤Ÿåœ¨<code>mips/tcg-target.inc.c</code>é‡Œç”¨åˆ°guest_baseè¿™ä¸ªå˜é‡å‘¢ï¼Ÿ</span></p>
<p><strong>ç­”</strong>ï¼šè¿™ä¸ªè¯¦ç»†éœ€è¦çœ‹Cè¯­è¨€å…³é”®å­—<code>static</code>å’Œ<code>extern</code>çš„ç”¨æ³•ï¼Œå‚è€ƒstack overflowçš„é—®ç­”ï¼Œ<strong>æ³¨</strong>ï¼šè¦æ˜¯èƒ½å¤Ÿåšä¸ªå®éªŒè¯•è¯•èƒ½ä¸èƒ½ä¸å£°æ˜<code>extern</code>ä¹Ÿèƒ½è®¿é—®å…¶ä»–æ–‡ä»¶çš„å…¨å±€å˜é‡ï¼ˆè‹¥èƒ½çš„è¯ï¼Œè¿™è¾¹æ˜¯clionçš„ç¼ºé™·äº†ï¼Œæˆ–è€…æŸä¸ªæ ‡å‡†Cçš„è¯­è¨€ä¸æ¨èè¿™æ ·åšï¼‰ï¼Œ</p>
<ul>
<li><a href="https://stackoverflow.com/questions/572547/what-does-static-mean-in-c">What does â€œstaticâ€ mean in C?</a>
<ul>
<li>å¯¹äºå…¨å±€å˜é‡/å‡½æ•°æ¥è¯´ï¼Œ<code>static</code>ä½¿å¾—è¯¥å˜é‡/å‡½æ•°åªèƒ½åœ¨æ–‡ä»¶å¯è§ï¼›</li>
</ul>
</li>
<li><a href="https://stackoverflow.com/questions/496448/how-to-correctly-use-the-extern-keyword-in-c">How to correctly use the extern keyword in C</a>
<ul>
<li><code>extern</code>ä½¿å¾—å˜é‡ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œé“¾æ¥å™¨éœ€è¦ä»å…¶ä»–çš„åœ°æ–¹æ‰¾åˆ°è¿™ä¸ªå˜é‡çš„å£°æ˜ï¼›</li>
</ul>
</li>
</ul>
<h1 id="x86-qemu-mipsçš„checkåŠŸèƒ½çš„è®¾è®¡"><a class="header" href="#x86-qemu-mipsçš„checkåŠŸèƒ½çš„è®¾è®¡">x86-qemu-mipsçš„checkåŠŸèƒ½çš„è®¾è®¡</a></h1>
<p>å†™åœ¨å‰é¢çš„ç»“è®ºï¼šæ—¢è¦è®°å½•QEMUçš„å†™å†…å­˜æ“ä½œï¼Œä¹Ÿè¦è®°å½•X86toMipsçš„å†™å†…å­˜æ“ä½œã€‚è‹¥åªè®°å½•å…¶ä¸­çš„ä¸€ä¸ªå†™å†…å­˜æ“ä½œçš„è¯åªèƒ½è¯æ˜è¢«è®°å½•è€…å®Œæˆçš„æ“ä½œæ˜¯æ¯”è¾ƒè€…çš„å­é›†ï¼</p>
<p>x86-qemu-mipsçš„ç¼–è¯‘é€‰é¡¹ï¼Œ</p>
<pre><code class="language-shell">./configure --enable-debug --enable-debug-info  --enable-x86tomips --enable-loongson-check --disable-werror --target-list=&quot;i386-linux-user&quot;
</code></pre>
<p>qemuçš„ç¼–è¯‘é€‰é¡¹ï¼Œ</p>
<pre><code class="language-shell">./configure --enable-debug --enable-debug-info --enable-loongson-check --disable-werror --target-list=&quot;i386-linux-user&quot;
</code></pre>
<p>check serverç¼–è¯‘é€‰é¡¹</p>
<pre><code class="language-shell">gcc -g3 target/i386/X86toMIPS/checkServerMain.c -lrt -std=c99 # å¯èƒ½éœ€è¦-std=c99
</code></pre>
<p>äºæ˜¯è®¾æƒ³çš„checkæ¶æ„ï¼Œæœ‰3ä¸ªç¨‹åºï¼Œ</p>
<p><img src="pictures/checkArchitecture-formatted.svg" alt="checkArchitecture-formatted" /></p>
<p>ä¸€ä¸ªcheck serverå’Œclientsé€šè®¯çš„ä¾‹å­ï¼Œ</p>
<p><img src="pictures/checkTimeline-formatted.svg" alt="checkTimeline-formatted" /></p>
<h2 id="åŒæ—¶ç¼–è¯‘qemu-i386å’Œx86-qemu-mips"><a class="header" href="#åŒæ—¶ç¼–è¯‘qemu-i386å’Œx86-qemu-mips">åŒæ—¶ç¼–è¯‘qemu-i386å’Œx86-qemu-mips</a></h2>
<p>è¿™ä¸ªç”±è„šæœ¬è°ƒç”¨ä¸¤æ¬¡./configureå®ç°å§</p>
<h3 id="checkserverè¿›ç¨‹é—´é€šè®¯"><a class="header" href="#checkserverè¿›ç¨‹é—´é€šè®¯">checkServerè¿›ç¨‹é—´é€šè®¯</a></h3>
<p>æœ‰å¾…æ€è€ƒçš„é—®é¢˜ï¼š</p>
<ul>
<li>ğŸ¤”å¦‚ä½•ç¡®ä¿checkç¨‹åºçš„mainå‡½æ•°ä¹Ÿèƒ½æ¥æ”¶åˆ°<code>int argc, char **argv, char **envp</code>æ˜¯ä¸æ˜¯è¦ç»™ç¼–è¯‘å™¨ä»€ä¹ˆæŒ‡ä»¤ï¼Ÿç¡®ä¿ä¼ é€’ç»™qemuå’Œx86-qmeu-mipsçš„è¿™3ä¸ªå‚æ•°æ­£ç¡®ã€‚</li>
</ul>
<p>ä¹‹å‰ï¼ˆ2019.12.16ï¼‰åœ¨æµ‹è¯•x86-qemu-mipsçš„ç³»ç»Ÿè°ƒç”¨æ—¶æœ‰ç”¨è¿‡message queueï¼ˆæ¶ˆæ¯é˜Ÿåˆ—ï¼‰ï¼Œè§ç¬”è®°<a href="./linux-user.html">x86-qmeu-mipsçš„linux-user</a>ï¼Œå†³å®šé‡‡ç”¨message queueæ¥åšè¿›ç¨‹é—´é€šè®¯ã€‚</p>
<p>2019.1.6 ~~Message Queueåªèƒ½ä¼ è¾“charç±»å‹çš„ä¿¡æ¯ï¼Œä¸å¤ªæ–¹ä¾¿ï¼Œè¿˜æ˜¯ç”¨MPIå§ï¼ˆé«˜æ€§èƒ½è®¡ç®—è¯¾ä¸Šè®²è¿‡çš„Message Passing Interfaceï¼Œè¿™ä¸ªå¯ä»¥ä¼ è¾“è‡ªå®šä¹‰ç±»å‹çš„æ•°æ®ï¼Œç›¸å¯¹æ¥è¯´æ–¹ä¾¿å¾—å¤šï¼‰ã€‚~~Noï¼é¾™èŠ¯ä¸Šç¼–è¯‘open MPIå¯èƒ½ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ï¼Œç®—æ³•è¿˜æ˜¯ç”¨Message Queueå§ã€‚</p>
<h3 id="qemuè®°å½•å†™å†…å­˜"><a class="header" href="#qemuè®°å½•å†™å†…å­˜">QEMUè®°å½•å†™å†…å­˜</a></h3>
<p>tcgçš„å†™å†…å­˜æŒ‡ä»¤å¹¶ä¸å¤š</p>
<h3 id="x86tomipsè®°å½•å†™å†…å­˜"><a class="header" href="#x86tomipsè®°å½•å†™å†…å­˜">X86toMipsè®°å½•å†™å†…å­˜</a></h3>
<pre><code class="language-c">// é‡‡ç”¨å¦‚ä¸‹çš„å®å®šä¹‰
#ifdef CONFIG_X86toMIPS_CHECK
// ...
#endif
</code></pre>
<p>ç›®å‰çœ‹åˆ°å†™å†…å­˜æŒ‡ä»¤åœ¨<code>target/i386/X86toMIPS/translator/tr_opnd_process.c</code>é‡Œã€‚</p>
<div style="font-size:3em; text-align:right;">2019.12.31</div>
ç›®å‰çœ‹æ¥ç¿»è¯‘å†™å†…å­˜çš„æŒ‡ä»¤æœ‰3ä¸ªé˜¶æ®µï¼ŒæŠŠè®°å½•ä»£ç ï¼ˆInstrument Codesï¼‰æ”¾åœ¨å“ªä¸ªé˜¶æ®µæ¯”è¾ƒå¥½ï¼Ÿ**ç»“è®º**ï¼šæ”¾åœ¨`store_i/freg_to_ir1_mem`è¿™ä¸ªå‡½æ•°é‡Œï¼Œå³ä¸‹é¢è®¨è®ºçš„ç¬¬2ä¸ªé˜¶æ®µï¼Œ
<ol>
<li>
<p>âœ…<code>target/i386/X86toMIPS/translator/tr_XXX.c: translate_XXX</code></p>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨æ‰€æœ‰ç¿»è¯‘å’Œå†™å†…å­˜ç›¸å…³çš„X86æŒ‡ä»¤çš„åœ°æ–¹æ¤å…¥è®°å½•ä»£ç ï¼Œè¿™æ ·è‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œä½†å·¥ä½œé‡ç›¸å¯¹è¾ƒå¤§</p>
</li>
<li>
<p>âœ”ï¸<code>target/i386/X86toMIPS/translator/tr_opnd_process.c: store_i/freg_to_ir1_mem</code></p>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨å¤„ç†å†™å†…å­˜çš„æ“ä½œæ•°çš„åœ°æ–¹ï¼ˆå†™å†…å­˜çš„å¤§å°ï¼Œå†™éå¯¹é½çš„å†…å­˜åœ°å€MDAï¼‰æ¤å…¥è®°å½•ä»£ç ï¼Œè¿™æ ·è¦ä¿è¯åªæœ‰<code>tranlate_XXX</code>ä¼šç”¨åˆ°è¿™äº›å‡½æ•°æ‰è¡Œã€‚</p>
<p>ä½¿ç”¨CLionçš„find usageåŠŸèƒ½ï¼Œä¸¤ä¸ªå¤„ç†å†™å†…å­˜çš„æ“ä½œæ•°çš„å‡½æ•°çš„<strong>è¢«è°ƒç”¨å…³ç³»</strong>å¦‚ä¸‹ï¼Œ</p>
<ul>
<li>store_ireg_to_ir1_mem
<ul>
<li>store_ireg_to_ir1
<ul>
<li><code>target/i386/X86toMIPS/translator</code> <strong>258 usages</strong>
<ul>
<li>tr_arith.c <strong>29 usages</strong></li>
<li>tr_arith_byhand.c <strong>23 usages</strong></li>
<li>ç•¥ï¼Œå‰©ä¸‹è¿˜æœ‰10ä¸ªæ–‡ä»¶</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>store_freg_to_ir1_mem
<ul>
<li>store_freg_to_ir1
<ul>
<li><code>target/i386/X86toMIPS/translator</code> <strong>28 usages</strong>
<ul>
<li>tr_fldst.c <strong>2 usages</strong></li>
<li>tr_mov.c <strong>1 usage</strong></li>
<li>tr_smid.c <strong>12 usages</strong></li>
<li>tr_simd.c <strong>13 usages</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥çœ‹æ¥åªæœ‰<code>translate_XXX</code>ä¼šç”¨åˆ°è¿™ä¸¤ä¸ªå¤„ç†å†™å†…å­˜çš„æ“ä½œæ•°çš„å‡½æ•°ï¼Œå› æ­¤åœ¨è¿™ä¿©å‡½æ•°é‡Œæ·»åŠ è®°å½•ä»£ç ï¼ˆInstrument Codesï¼‰æœ€åˆé€‚ã€‚</p>
</li>
<li>
<p>âŒ<code>target/i386/X86toMIPS/ir2/ir2.c: append_ir2</code></p>
<p>è¿™ä¸ªè‚¯å®šè¡Œä¸é€šï¼Œå› ä¸ºåœ¨éç¿»è¯‘çš„åœ°æ–¹éƒ½ç”¨åˆ°äº†append_ir2ï¼Œæ¯”å¦‚ä¸Šä¸‹æ–‡åˆ‡æ¢æ—¶ã€‚æ˜¾ç„¶è¿™ä¸ªå·²ç»ä¸æ˜¯å¯¹åº”TBçš„è¡Œä¸ºäº†ï¼Œä¸åº”è¯¥è¢«è®°å½•ã€‚</p>
</li>
</ol>
<h4 id="è®°å½•ä»£ç "><a class="header" href="#è®°å½•ä»£ç ">è®°å½•ä»£ç </a></h4>
<p><span style="font-size:1em;"><strong>2019.1.2æ³¨</strong>ï¼šä¸‹è¿°æ“ä½œåªæ˜¯ç”¨äºç”¨é€šç”¨å¯„å­˜å™¨çš„å†™å†…å­˜ï¼ˆ<code>store_ireg_to_ir1_mem</code>ï¼‰ï¼Œæµ®ç‚¹å¯„å­˜å™¨å†™å†…å­˜ä¹‹ååœ¨æ¥è€ƒè™‘å§ï¼ˆ<code>store_freg_to_ir2_mem</code>ï¼‰ğŸ˜ğŸ˜ğŸ˜</span>ã€‚2019.1.3ç°åœ¨è€ƒè™‘å¥½äº†ï¼Œä¸æ”¹å˜ä¸‹è¿°ä»£ç ï¼Œå°†æµ®ç‚¹å¯„å­˜å™¨çš„æ•°æ®ç§»åˆ°é€šç”¨å¯„å­˜å™¨ä¸­ï¼Œå†è°ƒç”¨ä¸‹é¢çš„ä»£ç ï¼Œè¯¦ç»†è®¾è®¡æ€è·¯åé¢çš„<code>store_freg_to_ir1_mem</code>çš„æ¡†æ¶å›¾é‚£é‡Œæœ‰ï¼Œ</p>
<pre><code class="language-assembly"># æ‹¬å·é‡Œçš„æ•°å­—è¡¨ç¤ºä½¿ç”¨çš„ä¸´æ—¶å¯„å­˜å™¨çš„æ•°é‡
L_IMM64 %temp_wrs_index_addr(2), $wrs_index_addr
lw %temp_wrs_index(1), %temp_wrs_index_addr(2)
ori %temp_bytes(3), %zero, $bytes
or %temp_v_opnd(4), %zero, %v_opnd
dsubu %temp_a_opnd(5), %a_opnd, %guest_base # substract guest base (MIPS address)
addiu $temp_a_opnd(5), $temp_a_opnd(5), $a_opnd._imm16 # add disp to x86 address
LOOP:
# branch if less than zero
blez %temp_bytes(3), $LOOPEND
nop
# record addr (i386 32-bit address)
sw %temp_a_opnd(5), %temp_wrs_index(1)
addiu %temp_a_opnd(5), %temp_a_opnd(5), 1
addiu %temp_wrs_index(1), %temp_wrs_index(1), 4
# record value (a byte)
sb %temp_v_opnd(4), %temp_wrs_index(1)
addiu %temp_wrs_index(1), %temp_wrs_index(1), 4
srl %temp_v_opnd(4), %temp_v_opnd(4), %temp_shift_bits_number
# update loop condition
addiu %temp_bytes(3), %temp_bytes(3), -1
B $LOOP
nop
LOOPEND:
sw %temp_wrs_index(1), %temp_wrs_index_addr(2)
</code></pre>
<div style="font-size:3em; text-align:right;">2020.1.2</div>
ä¸Šé¢çš„æ±‡ç¼–æ”¹äº†å¥½å‡ æ¬¡æ‰æ­£å¸¸è¿è¡Œï¼Œé‡åˆ°å‡ ä¸ªæœ‰è¶£çš„åœ°æ–¹è®°å½•å¦‚ä¸‹ï¼ˆå¹¶éæŒ‰é­é‡é—®é¢˜çš„æ—¶é—´é¡ºåºè®°å½•ï¼‰ï¼š
<ol>
<li>mipsçš„åœ°å€æ˜¯64ä½ï¼Œi386çš„åœ°å€æ˜¯32ä½ï¼Œå› æ­¤è®¡ç®—ä¸¤ä¸ªåœ°å€éœ€è¦ç”¨ä¸åŒçš„ç®—æ•°æŒ‡ä»¤ï¼Œæ¯”å¦‚ä¸Šé¢å¯¹<code>temp_a_opnd(5)</code>å³ç”¨åˆ°äº†<code>dsubu</code>ï¼ˆ64ä½ï¼‰ä¹Ÿç”¨åˆ°äº†<code>addiu</code>ï¼ˆ32ä½ï¼‰ï¼›</li>
<li>ä¸ºäº†å®ç°x86æ±‡ç¼–é‡Œçš„<a href="https://sourceware.org/binutils/docs/as/i386_002dMemory.html#i386_002dMemory">memory references</a>ï¼Œindexã€scaleå’Œsectionæ˜¯ç”¨ç‹¬ç«‹çš„ä»£ç å®ç°å¥½äº†çš„ï¼Œè€Œdispæ˜¯ç”¨<code>IR2_OPND</code>çš„<code>_imm16</code>å®ç°çš„ï¼Œæ‰€ä»¥åœ¨ä¿å­˜åœ°å€æ—¶å¿…é¡»è¦åŠ ä¸Šdispï¼›</li>
<li>ğŸ¤”<span style="color:red;">è™½ç„¶ç›®å‰èƒ½æ­£å¸¸è¿è¡Œï¼Œä½†extension modeçš„å…·ä½“ç”¨é€”è¿˜æ˜¯æœ‰ç‚¹è¿·ç³Šï¼Œæœ‰æœºä¼šä¸€å®šè¦å¥½å¥½ç ”ç©¶ä¸€ä¸‹</span>ï¼›</li>
<li>X86toMipsé‡Œå¯ä»¥ç›´æ¥ç”¨labelè¿˜æ˜¯å¾ˆæ£’çš„ï¼Œå…å»äº†æˆ‘è®¡ç®—ç›¸å¯¹åç§»çš„éº»çƒ¦ï¼›</li>
</ol>
<div style="font-size:3em; text-align:right;">2020.1.3</div>
#### `store_ireg_to_ir1_mem`
<p>è¿™ä¸ªå‡½æ•°å°†åœ°å€å’Œæ•°æ®éƒ½å¤„ç†çš„å¾ˆå¥½äº†ï¼ˆä¸åƒ<code>store_freg_to_ir1_mem</code>é‚£æ ·æ··ä¹±ï¼‰ï¼Œåœ°å€æ˜¯<code>mem_opnd</code>ï¼Œæ•°æ®æ˜¯<code>value_opnd</code>ï¼Œæ‰€ä»¥åªéœ€è¦åœ¨æœ«å°¾å‡ºæ·»åŠ ä¸€å¥è®°å½•ä»£ç å³å¯ï¼Œå¦‚ä¸‹ï¼Œä»£ç æ¡†æ¶å›¾ç•¥ï¼Œ</p>
<pre><code>append_ir2s_addWriteRecords(mem_opnd, value_opnd, (uint16)ir1_opnd_size(opnd1)/8);
</code></pre>
<h4 id="store_freg_to_ir1_mem"><a class="header" href="#store_freg_to_ir1_mem"><code>store_freg_to_ir1_mem</code></a></h4>
<p>å› ä¸º<strong>è®°å½•ä»£ç </strong>é‡Œç”¨çš„éƒ½æ˜¯é€šç”¨å¯„å­˜å™¨ï¼Œæ‰€ä»¥è¦å®ç°æµ®ç‚¹å†™å†…å­˜çš„è¯ï¼Œ</p>
<ul>
<li>è¦ä¹ˆæ”¹<strong>è®°å½•ä»£ç </strong>ï¼Œ</li>
<li>è¦ä¹ˆå°†æµ®ç‚¹å¯„å­˜å™¨çš„å€¼è½¬ç§»åˆ°é€šç”¨å¯„å­˜å™¨é‡Œï¼Œ</li>
</ul>
<p>æˆ‘é€‰æ‹©åè€…ï¼Œå› ä¸ºåœ¨ç°æœ‰çš„<code>store_freg_to_ir1_mem</code>ä»£ç é‡Œä¸ºäº†å¤„ç†éå¯¹é½çš„å†…å­˜æ•°æ®è®¿é—®ï¼ˆMDAï¼‰ï¼Œä¸ºäº†ä½¿ç”¨<code>swl/swr</code>æˆ–<code>sdl/sdr</code>æŒ‡ä»¤ï¼Œå·²ç»å°†æµ®ç‚¹å¯„å­˜å™¨çš„æ•°æ®è½¬ç§»åˆ°äº†é€šç”¨å¯„å­˜å™¨é‡Œã€‚æ‰€ä»¥æˆ‘åªéœ€è¦åœ¨éMDAçš„æƒ…å†µä¸‹åŠ å…¥<span style="background:#B0E3E6;">å°†æµ®ç‚¹å¯„å­˜å™¨çš„æ•°æ®è½¬ç§»åˆ°é€šç”¨å¯„å­˜å™¨çš„è¯­å¥</span>å³å¯ã€‚</p>
<p><code>store_freg_to_ir1_mem</code>ä»£ç æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ<strong>æ³¨</strong>ï¼š<span style="background:#B0E3E6;">æ·¡è“è‰²èƒŒæ™¯çš„éƒ¨åˆ†ä»£ç æ˜¯æ·»åŠ çš„å°†æµ®ç‚¹å¯„å­˜å™¨çš„æ•°æ®è½¬ç§»åˆ°é€šç”¨å¯„å­˜å™¨çš„ä»£ç </span></p>
<p><img src="pictures/store_freg_to_ir1_mem-formatted.svg" alt="store_freg_to_ir1_mem" /></p>
<div style="font-size:3em; text-align:right;">2020.1.8</div>
# checkå‡ºç°çš„é—®é¢˜&è§£å†³
<h2 id="esp"><a class="header" href="#esp">âœ”ï¸esp</a></h2>
<p>2020.2.12<strong>æ³¨</strong>ï¼šespå’Œeipçœ‹ä»£ç æ‰¾é—®é¢˜æ—¶æ¢³ç†çš„ä»£ç æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/initRegs-formatted.svg" alt="initRegs-formatted" /></p>
<p>åœ¨ä¸åŒx86æœºå™¨ä¸Šï¼ˆæˆ‘çš„ç”µè„‘å’Œ56æœåŠ¡å™¨ï¼‰æµ‹è¯•åŒä¸€ä¸ªæ–‡ä»¶<code>hello</code>å‘ç°ï¼Œåœ¨_startå¤„çš„espå°±ä¸åŒï¼æ‰€ä»¥æœ‰å¿…è¦è®©x86-qemu-mipså’Œqemuç›¸åŒçš„espåœ¨å¼€å§‹æ‰§è¡Œæ—¶ç›¸åŒã€‚</p>
<div style="font-size:2em; text-align:right;">2020.2.4</div>
ç›®å‰è¿½è¸ªåˆ°äº†åœ¨targetå†…å­˜ç©ºé—´åˆ†é…æ ˆç©ºé—´çš„åœ°æ–¹ï¼Œ`x86-qemu-mips/linux-user/elfload.c: 1765: target_mmap`ã€‚guest_baseä¸åŒæˆ‘è§‰å¾—è¿˜èƒ½ç†è§£ï¼Œä½†æ˜¯targetç©ºé—´çš„åœ°å€ä¸ºä»€ä¹ˆè¿˜ä¸ä¸€æ ·å•Šï¼Ÿç”¨pmapè§‚å¯Ÿ`target_mmap`å‡½æ•°å‰åå¯ä»¥å‘ç°æ–°è¢«åˆ†é…çš„åŒºåŸŸ=guest_base+target_mmapçš„ç»“æœï¼Œå¦‚ä¸‹
<ul>
<li>
<p>qemu-i386</p>
<pre><code>guest_base = 0xfef6fc0000
</code></pre>
</li>
</ul>
<p>guest_mmap =   0xff7f8000
æ–°åˆ†é…çš„åŒºåŸŸï¼ˆé€šè¿‡pmapæŸ¥çœ‹ï¼‰000000fff67b8000 </p>
<pre><code>
* qemu-i386-x86tomips
</code></pre>
<p>guest_base = 0xff76fc0000
guest_mmap =   0x7f7f8000
æ–°åˆ†é…çš„åŒºåŸŸï¼ˆé€šè¿‡pmapæŸ¥çœ‹ï¼‰000000fff67b8000</p>
<pre><code>
&lt;span style=&quot;font-size: 1.5em;&quot;&gt;å³æ–°åˆ†é…çš„æ ˆç©ºé—´åœ¨hosté‡Œåœ°å€æ˜¯ç›¸åŒçš„ï¼ï¼ŸğŸ¤”ğŸ¤”ğŸ¤”&lt;/span&gt;

&lt;div style=&quot;font-size:2em; text-align:right;&quot;&gt;2020.2.5&lt;/div&gt;
guest_mmapåˆ†é…çš„åœ°å€ç”¨çš„æ˜¯`mmap_next_start`å˜é‡çš„å€¼ã€‚è¿™ä¸ªå˜é‡åœ¨`main: 805`ç”±`reserved_va`å¤åˆ¶æ—¶äº§ç”Ÿåˆ†æ­§ï¼ˆ`0xffffc00, ` `0x7fffc000`ï¼‰ã€‚æ‰€ä»¥æ¥ä¸‹æ¥æœ‰å¿…è¦è¿½è¸ª`reserved_va`è¢«èµ‹å€¼çš„è¿‡ç¨‹ã€‚

**æ‰¾åˆ°é—®é¢˜äº†ï¼**`5743956119`commité‡Œå¼ ç¦æ–°æ”¹åŠ¨äº†`MAX_RESERVED_VA`çš„å€¼ã€‚å°†qemuå’Œx86tomipsçš„æ”¹å®å®šä¹‰åœ¨checkæ—¶ç»Ÿä¸€å³å¯ã€‚

## âœ”ï¸eip

**x86-qemu-mips**

x86tomipsçš„eipï¼ˆenvé‡Œå­˜æ”¾çš„eipï¼‰æŒ‡çš„åœ°æ–¹ä¸å¯¹ã€‚

**qemu**

eipåªä¼šåœ¨tbç»“æŸç±»æŒ‡ä»¤ï¼ˆtbç»“æŸç±»æŒ‡ä»¤æœ‰æœ‰å“ªäº›å¯ä»¥å‚è€ƒx86-qemu-mipsé‡Œçš„å®šä¹‰`target/i386/X86toMIPS/ir1/ir1/c: ir1_is_tb_ending`ï¼‰å¤„æ›´æ–°ï¼š

* jmpç±»æŒ‡ä»¤åœ¨`target/i386/translate.c`é‡Œæœç´¢next_eipï¼Œ
* ç³»ç»Ÿè°ƒç”¨ï¼Œ`gen_jmp_im`
* retï¼Œ`gen_op_jmp_v`

eipåœ¨TBç»“æŸæ—¶æŒ‡å‘çš„æ˜¯TBçš„æœ€åä¸€æ¡æŒ‡ä»¤ï¼Œ

## âœ”ï¸mq_open invalid argument

æ¥è‡ªman mq_open

&gt; EINVAL O_CREAT   was  specified  in  oflag,  and  attr  was  not  NULL,  but attr-&gt;mq_maxmsg or  attr-&gt;mq_msqsize  was  invalid.   Both  of  these fields  must be greater than zero.  In a process that is unprivileged (does not have the CAP_SYS_RESOURCE capability), attr-&gt;mq_maxmsg must be less than or equal to the msg_max limit, and attr-&gt;mq_msgsize must be less than or equal to the msgsize_max limit.  In addition, even in a  privileged  process,  attr-&gt;mq_maxmsg  cannot  exceed the HARD_MAX limit.  (See mq_overview(7) for details of these limits.)

æ˜¯mq_msgsizeè¶…å‡ºäº†èŒƒå›´ï¼Œæ‰€ä»¥éœ€è¦ç”¨sudoæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚ç°åœ¨å°†mq_msgsizeè®¾ç½®å°äº†ï¼Œ**äºæ˜¯åœ¨è€ƒè™‘ä¼ è¾“å†™å†…å­˜æ“ä½œæ—¶éœ€è¦æ³¨æ„å¤šæ¬¡ä¼ è¾“çš„é—®é¢˜äº†**ï¼ï¼

&lt;div style=&quot;font-size:3em; text-align:right;&quot;&gt;2020.2.5&lt;/div&gt;
## âœ”ï¸ä»£ç å—åˆ†å—å¤§å°åŒæ­¥

ç”¨ç›®å‰ç‰ˆæœ¬çš„checkè·‘helloworldx86ï¼Œå‘ç°ç¬¬ä¸€æ¬¡å‡ºé”™åœ¨ï¼Œ

* x86tomipsçš„eip = 8048bc1
* qemuçš„eip = 8048bcb

è¯¥ä»£ç ç‰‡æ®µå¦‚ä¸‹ï¼š

</code></pre>
<p>8048bc1:       83 c0 04                add    $0x4,%eax
8048bc4:       8b 50 fc                mov    -0x4(%eax),%edx
8048bc7:       85 d2                   test   %edx,%edx
8048bc9:       75 f6                   jne    8048bc1 &lt;__libc_start_main+0x61&gt;
8048bcb:       83 ec 0c                sub    $0xc,%esp</p>
<pre><code>
å¾ˆæ˜æ˜¾æ˜¯å¾ªç¯ä½“å‡ºé—®é¢˜äº†ã€‚

&lt;div style=&quot;font-size:3em; text-align:right;&quot;&gt;2020.2.6&lt;/div&gt;
&gt; å¼ ç¦æ–°ï¼šé™¤äº†espå·®å¼‚ï¼Œè¿˜æœ‰ï¼Œ
&gt;
&gt; 1. repç±»æŒ‡ä»¤çš„ç¿»è¯‘x86tomipsæ²¡æœ‰åˆ‡åˆ†æ–°çš„åŸºæœ¬å—å¯¼è‡´çš„å·®å¼‚ï¼Œè¿™ä¸ªæˆ‘æƒ³æ˜¯ä¸æ˜¯å¯ä»¥çœ‹çœ‹é€šè¿‡ä»€ä¹ˆæœºåˆ¶å¿½ç•¥æ‰ï¼Œæ¯”å¦‚å‘ç°å¤šå‡ºæ¥çš„æŒ‡ä»¤æ˜¯repç±»çš„æŒ‡ä»¤ï¼›
&gt; 2. syscall/intå¥½åƒä¹Ÿæ˜¯æ²¡åˆ†åŸºæœ¬å—ï¼›
&gt; 3. ç†è®ºä¸Šå¤ªé•¿çš„åŸºæœ¬å—è¢«åˆ‡å¼€ä¹Ÿä¼šå¯¼è‡´ä¸åŒï¼›
&gt; 4. å‘ç°è¿‡ä¼¼ä¹æœ‰æ—¶å€™loaderå‡†å¤‡çš„envè¿˜æ˜¯å…¶ä»–æ•°ç»„æœ‰å·®å¼‚å¯¼è‡´ç¨‹åºåˆå§‹åŒ–è¿‡ç¨‹æœ‰ç‚¹å·®å¼‚ã€‚

ç›®å‰æœ‰ä¸¤ä¸ªæƒ³æ³•æ¥è§£å†³åˆ†å—ä¸åŒè€Œå¸¦æ¥çš„1~3çš„é—®é¢˜ï¼Œ

1. å»¶è¿Ÿæ¯”è¾ƒï¼Œç­‰åˆ°eipéƒ½ç›¸åŒæ—¶å†æ¯”è¾ƒ

   è¿™ä¸ªæ–¹æ³•äººå·¥æ“ä½œååˆ†å¯è¡Œï¼Œä½†æ˜¯å¯¹äºè‡ªåŠ¨åˆ¤å®šæ—¶ä¸¤ä¸ªç¨‹åºè°æ‰§è¡Œçš„æ›´å¤šï¼Œè°æ‰§è¡Œçš„æ›´å°‘å¾ˆéš¾åˆ¤æ–­ï¼Œæ¯•ç«Ÿeipä¸ä¸€å®šæ˜¯ä¸€ç›´å¢åŠ çš„ã€‚

2. ç”¨checkServeræ¥åŒæ­¥ä¸¤ä¸ªqemuå’Œx86tomipsçš„åˆ†å—

   å…ˆ

   åœ¨é˜…è¯»äº†x86-qemu-mipsçš„ä»£ç åæˆ‘æƒ³é‡‡ç”¨å¦‚ä¸‹æ–¹æ¡ˆ

   1. x86tomipså…ˆåˆ†å—ï¼ˆé‡‡ç”¨çš„æ˜¯x86tomips-config.c: tr_disasm(tb)è¿™ä¸ªå‡½æ•°ï¼‰ï¼Œ
   2. x86tomipså°†åˆ†å—çš„æŒ‡ä»¤æ•°`x86tomips_insns_num`é€šè¿‡checkServerå‘ç»™qemuï¼Œ
   3. qemuåˆ†å—ï¼ˆé‡‡ç”¨translate-all.c: gen_intermediate_code(cpu, tb, max_insns)è¿™ä¸ªå‡½æ•°ï¼‰ï¼Œå°†`x86tomips_max_insns`è®¾ç½®ä¸º`insns_num`ï¼Œ
   4. qemuå°†åˆ†å—çš„æŒ‡ä»¤æ•°`qemu_insns_num`é€šè¿‡checkServerå‘é€ç»™x86tomipsï¼Œ
   5. x86tomipså¯¹æ¯”`qemu_insns_num`å’Œ`x86tomips_insns_num`ï¼Œåªä¼šæœ‰å°äºæˆ–ç­‰äºä¸¤ç§æƒ…å†µã€‚è‹¥ç­‰äºåˆ™è¡¨ç¤ºåˆ†å—å¤§å°ä¸€è‡´ï¼Œè‹¥å°äºï¼Œåˆ™x86tomipså¤šæ‰§è¡Œä¸€æ­¥mm_reallocå³å¯ä¿è¯åˆ†å—å¤§å°ä¸€è‡´ã€‚

&lt;div style=&quot;font-size:3em; text-align:right;&quot;&gt;2020.2.11&lt;/div&gt;


ç›®å‰å®Œæˆäº†ä¸Šé¢åˆ©ç”¨checkServeræ¥åŒæ­¥ä»£ç åˆ†å—çš„å·¥ä½œã€‚è¿‡ç¨‹ä¸­é‡åˆ°è¯¸å¤šé—®é¢˜ï¼Œä¹Ÿæ¢ç©¶åˆ°å¾ˆå¤šè§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œå·²ç»ä»¥åæœ‰ç©ºçš„æ—¶å€™å¯ä»¥å­¦ä¹ çš„ç¼–ç¨‹çš„å„ç§å°æŠ€å·§ã€‚

2020.2.16

ä»£ç åŒæ­¥çš„æ¶ˆæ¯å‘é€é€»è¾‘çš„æ—¶é—´çº¿å¦‚ä¸‹ï¼Œå’Œ[checkå‡ºç°çš„é—®é¢˜-ä»£ç å—åŒæ­¥](#âœ”ï¸ä»£ç å—åŒæ­¥)çš„æ„æƒ³ä¸€è‡´ï¼Œ

![checkSyncTBTimeline-formatted](pictures/checkSyncTBTimeline-formatted.svg)

å½“ç„¶ï¼Œä¸ºäº†èƒ½å¤Ÿè®©åˆ†å—åŒæ­¥æœ‰æ•ˆï¼Œæœ‰å¿…è¦è®©qemuå’Œx86tomipsæ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªTBã€‚qemué»˜è®¤å¼€å¯TBé“¾ï¼Œx86tomipsé»˜è®¤å…³é—­TBé“¾ã€‚å› æ­¤æ·»åŠ äº†qemuçš„å¯åŠ¨å‚æ•°`-d nochain`ï¼Œä¸ºäº†æ ˆçš„åŒæ­¥ï¼Œä¹Ÿç»™x86tomipsæ·»åŠ äº†åŒæ ·çš„å‚æ•°ã€‚

æ€ªä¸å¾—æ·»åŠ äº†`-d chain`ä¹Ÿä»ç„¶å‘ç°qemuæœ‰é“¾TBï¼ŒåŸæ¥æ˜¯å› ä¸ºæˆ‘æŠŠå¯åŠ¨å‚æ•°æ”¾é”™äº†ä½ç½®ï¼Œå¦‚ä¸‹ï¼Œ

```shell
qemu-i386 -d nochain PATH_TO_X86_BIN X86_BIN_ARGS # æ­£ç¡®é¡ºåº
qemu-i386 PATH_TO_X86_BIN X86_BIN_ARGS -d nochain # é”™è¯¯é¡ºåº
# -d nochainå‚æ•°å˜æˆäº†X86_BINçš„å‚æ•°äº†ï¼Œå› æ­¤qemuå¹¶æ²¡æœ‰æ”¶åˆ°å…³é—­TBçš„æŒ‡ç¤ºï¼
</code></pre>
<div style="font-size:3em; text-align:right;">2020.2.12</div>
## âœ…æŠ¥é”™æœºåˆ¶
<p>æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆmessage queueï¼‰çš„æŠ¥é”™ä¿¡æ¯é <code>errno.h</code>æ¥ä¿å­˜å’Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œæ‰€ä»¥æ²¡æ¯”è¾ƒè‡ªå·±å»æ‰“å°errnoçš„æ•°å€¼ï¼ˆåŒä¸€ä¸ªé”™è¯¯çš„æ•°å€¼å¯èƒ½åœ¨ä¸åŒçš„æ¶æ„é‡Œä¸ä¸€æ ·ï¼‰ï¼Œåº”è¯¥ä½¿ç”¨<code>perror</code>ï¼ˆman 3 perrorï¼‰æ¥æ‰“å°é”™è¯¯ã€‚</p>
<p>åœ¨ç½‘ä¸Šæ‰¾åˆ°æ¶ˆæ¯é˜Ÿåˆ—çš„ä¾‹å­ï¼ˆ<a href="https://stackoverflow.com/questions/3056307/how-do-i-use-mqueue-in-a-c-program-on-a-linux-based-system">How do I use mqueue in a c program on a Linux based system?</a>ï¼‰é‡Œç”¨åˆ°çš„æŠ¥é”™æœºåˆ¶èƒ½å¤Ÿæ‰“å°æºç ï¼Œå€¼å¾—ç ”ç©¶å­¦ä¹ ï¼Œ</p>
<pre><code class="language-c">#define CHECK(x) \
    do { \
        if (!(x)) { \
            fprintf(stderr, &quot;%s:%d: &quot;, __func__, __LINE__); \
            perror(#x); \
            exit(-1); \
        } \
    } while (0) \
</code></pre>
<p>âœ…ğŸ¤”<strong>ç–‘æƒ‘</strong>ï¼š</p>
<ol>
<li>âœ”ï¸ä¸ºä»€ä¹ˆè¦ç”¨ä¸€ä¸ªæ— ç”¨çš„å¾ªç¯ï¼Ÿä¸ºäº†é˜²æ­¢è¯¥å®æ’å…¥åœ¨äº†ä¸€ä¸ªelseä¸Šè¾¹ï¼›</li>
<li>âœ”ï¸å®é‡Œçš„<code>#</code>æ“ä½œç¬¦å·æ˜¯ä»€ä¹ˆå«ä¹‰ï¼Ÿå‚è€ƒ<a href="https://gcc.gnu.org/onlinedocs/cpp/Macros.html">gcc online docså…³äºå®çš„é¡µé¢</a>ï¼Œè¿™ç¬¦å·å«åšStringizingï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆè¿™ä¸ªæŠ¥é”™ä»£ç èƒ½å¤Ÿæ‰“å°æºä»£ç ï¼›</li>
<li><code>__func__</code>å’Œ<code>__LINE__</code>æ˜¯ä»€ä¹ˆç”¨æ³•ï¼Ÿ</li>
</ol>
<h2 id="æ‰§è¡Œä¸åŒæ­¥"><a class="header" href="#æ‰§è¡Œä¸åŒæ­¥">æ‰§è¡Œä¸åŒæ­¥</a></h2>
<h3 id="å—å†…å¾ªç¯"><a class="header" href="#å—å†…å¾ªç¯">âœ”ï¸å—å†…å¾ªç¯</a></h3>
<p>ä¸Šé¢è¿™ä¸ªå·¥ä½œå®Œæˆåï¼Œå‘ç°å—å†…å¾ªç¯ä¾ç„¶ä¸åŒæ­¥ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œ</p>
<pre><code class="language-assembly">instructionBeforeTB
# TB starts
mov $99, %eax
LOOP:
dec %eax
jz $LOOP
# TB ends
instructionAfterTB
</code></pre>
<p>qemuæ‰§è¡Œå®Œä¸Šè¿°çš„TBåï¼Œå·²å®Œæˆäº†99æ¬¡å¾ªç¯ï¼Œeipå°†æŒ‡å‘<code>instructionAfterTB</code>ï¼Œ</p>
<p>x86tomipsæ‰§è¡Œå®Œä¸Šè¿°çš„TBåï¼Œåªå®Œæˆäº†1æ¬¡å¾ªç¯ï¼Œeipå°†æŒ‡å‘<code>dec %eax</code>ã€‚</p>
<p><strong>è§£å†³åŠæ³•</strong>ç›®å‰æƒ³åˆ°2ç±»ï¼Œ</p>
<ol>
<li>ä¿®æ”¹qemuè®©å…¶å˜æˆä¸€ä¸ªTBåªæ‰§è¡Œ1æ¬¡å¾ªç¯ æˆ– ä¿®æ”¹x86tompisè®©å…¶ä¸€æ¬¡åŠå®Œæˆå¾ªç¯ï¼Œï¼ˆä¿®æ”¹x86tomipsèƒ½å¤Ÿæé«˜æ•ˆç‡ï¼‰</li>
<li>ä¿®æ”¹checkçš„é€»è¾‘ï¼Œè®©checkå¯ä»¥ç­‰å¾…x86tomipså®Œæˆå¾ªç¯åå†æ¯”è¾ƒï¼ˆä»¥åè¦å¢åŠ äº†å†…å­˜æ¯”è¾ƒï¼Œè¿™é‡Œè¿˜å¾—æš‚å­˜x86tomipsçš„å†…å­˜æ“ä½œï¼Œcheckçš„é€»è¾‘å°±å˜å¾—å¤æ‚äº†ï¼‰ã€‚</li>
</ol>
<p>æˆ‘æ›´å€¾å‘ä¿®æ”¹x86tomipsæˆ–è€…ä¿®æ”¹checkçš„é€»è¾‘ã€‚</p>
<div style="font-size:3em; text-align:right;">2020.2.16</div>
æˆ‘é€‰æ‹©ä¿®æ”¹checkçš„é€»è¾‘ï¼Œä¸å»æ”¹åŠ¨x86tomipså’Œqemuçš„ä»£ç ã€‚åœ¨checké‡Œæ·»åŠ äº†ä»…ä»…è®©x86tomipsè¿è¡Œçš„æ¨¡å¼ï¼ˆonlyX86tomipsModeï¼‰ï¼Œ~~å½“å‘ç°qemuå’Œx86tomipsä¸‹ä¸€ä¸ªå—çš„eipä¸åŒæ—¶ï¼Œå°±è®¤ä¸ºé‡åˆ°äº†å—å†…å¾ªç¯~~åˆ¤æ–­é€»è¾‘æ›´æ–°ä¸ºå’ŒrepæŒ‡ä»¤ä¸€è‡´ï¼Œè§ä¸‹é¢repæŒ‡ä»¤çš„åˆ¤æ–­é€»è¾‘ã€‚è®©qemuåœä¸‹é‡Œç­‰x86tomipsï¼Œç›´åˆ°x86tomipsè¿½ä¸Šqemuçš„è¿›åº¦æ—¶ï¼Œå†æ¢å¤qemuæ­£å¸¸çš„æ‰§è¡Œã€‚
<p><strong>æ³¨</strong>ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå¼ºçš„æ¡ä»¶ï¼Œåœ¨x86tomipså•ç‹¬æ‰§è¡Œæ—¶eipä¸èƒ½å˜ï¼ˆè¿™æ‰æ˜¯å—å†…å¾ªç¯çš„ç‰¹å¾ï¼‰ã€‚</p>
<p>x86tomipsåœ¨å•ç‹¬æ‰§è¡Œæ—¶è‹¥å—å†…å¾ªç¯çš„å¼€å§‹åœ°å€å¹¶ä¸æ˜¯å—çš„å¼€å§‹åœ°å€ï¼Œé‚£ä¹ˆx86tomipså°†ä¼šåˆ†é…æ–°çš„TBã€‚ä¸ºæ­¤æ·»åŠ äº†æ–°çš„æ¶ˆæ¯ç±»å‹<code>check_onlyX86tomips_mode</code>ï¼Œç”±checkServerå‘ç»™x86tomipsã€‚ç›®å‰æ”¹ä¸ºäº†<code>check_only_mode</code>ï¼Œæ—¢å¯ä»¥å‘ç»™qemuä¹Ÿå¯ä»¥å‘ç»™x86tomipsï¼Œç”¨äºè·³è¿‡ä¼ è¾“tb_sizeçš„è¿‡ç¨‹ï¼Œå¦‚ä¸‹å›¾ï¼Œ</p>
<p><img src="pictures/checkSyncTBOnlyModeTimeline.svg" alt="checkSyncTBOnlyModeTimeline" /></p>
<h3 id="repæŒ‡ä»¤"><a class="header" href="#repæŒ‡ä»¤">âœ”ï¸repæŒ‡ä»¤</a></h3>
<p><strong>ç›®å‰çš„åšæ³•</strong></p>
<p>åœ¨æ¯æ¬¡åˆ†é…TBçš„æ—¶å€™ï¼Œx86tomipsä¼šæŠŠæ–°åˆ†é…çš„TBçš„æœ€åä¸€æ¡æŒ‡ä»¤æ˜¯å¦æ˜¯repå‘Šè¯‰checkServerï¼Œç”±æ­¤checkServerå°±èƒ½è®©qemuè¿›å…¥only modeã€‚ä½†æ˜¯ç›®å‰æ˜¯åœ¨qemuçš„<code>-d chain</code>å‚æ•°å†™é”™ä½ç½®çš„åŸºç¡€ä¸Šæ¥çš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚ç°åœ¨å·²ç»æŠŠ<code>-d nochain</code>çš„å‚æ•°è°ƒæ•´æ­£ç¡®äº†ï¼Œqemuèƒ½å•TBæ‰§è¡Œï¼Œäºæ˜¯å‡ºç°äº†æ–°çš„é—®é¢˜ï¼Œqemuæ¯æ¬¡åªä¼šæ‰§è¡ŒrepæŒ‡ä»¤ä¸€æ¬¡ï¼Œæ‰€ä»¥ç°æœ‰é€šè¿‡åˆ†é…æ–°TBçš„æ—¶å€™æ¥åˆ¤æ–­æ˜¯å¦æ˜¯repå°±ä¼šå¤±æ•ˆï¼ˆrepæŒ‡ä»¤çš„TBå—x86tomipsåªä¼šåˆ†é…ä¸€æ¬¡ï¼Œä½†æ˜¯qemuä¸‹ä¸€æ¬¡å†åˆ°è¿™ä¸ªrepæŒ‡ä»¤çš„åœ°æ–¹ï¼Œx86tomipså°±ä¸ä¼šåˆ†é…TBäº†ï¼‰ï¼Œä¾‹å­è§é™æ€ç¼–è¯‘çš„helloworldçš„mempcpyå‡½æ•°çš„0x806ae6cä½ç½®ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œåˆ°è¯¥å¤„çš„repæŒ‡ä»¤å°±ä¼šå‡ºé—®é¢˜ã€‚</p>
<p><strong>æ–°çš„repæŒ‡ä»¤(qemu)å’Œå—å†…å¾ªç¯(x86tomips)çš„åˆ¤æ–­é€»è¾‘</strong></p>
<p>ç›®å‰æƒ³åˆ°çš„æ¯”è¾ƒå¥½çš„è§£å†³åŠæ³•æ¯æ¬¡qemu/x86tomipså‘checkServerå‘é€<code>check_tb_end</code>æ¶ˆæ¯æ˜¯æå¸¦æ”¹TBçš„å¤§å°ï¼ˆä¸æ˜¯æŒ‡ä»¤æ•°ï¼Œè€Œæ˜¯bytesï¼‰ï¼Œè‹¥ä¸‹ä¸€æ¡æŒ‡ä»¤è½åœ¨äº†æ”¹TBçš„èŒƒå›´å†…ï¼Œ</p>
<ul>
<li>å¯¹äºqemuå³è®¤ä¸ºå…¶é‡åˆ°äº†repæŒ‡ä»¤ï¼Œåˆ™è¿›å…¥only qemu modeï¼Œ</li>
<li>å¯¹äºx86tomipså³è®¤ä¸ºå…¶é‡åˆ°äº†å—å†…å¾ªç¯ï¼Œåˆ™è¿›å…¥only x86tomips modeï¼Œ</li>
</ul>
<p><strong>æ³¨</strong>ï¼šæœ¬æ¥æ˜¯æ‰“ç®—è®©<code>check_tb_end</code>æå¸¦ä¸Šä¸€æ¡æŒ‡ä»¤çš„eipçš„ï¼Œä½†æ˜¯å‘ç°å¤ªéš¾è·å–è¿™ä¸ªå€¼äº†ï¼Œç›¸å¯¹è€Œè¨€TBçš„å¤§å°æ›´å®¹æ˜“è·å–ï¼Œä¸”èƒ½å¤Ÿç»Ÿä¸€repæŒ‡ä»¤å’Œå—å†…å¾ªç¯çš„åˆ¤æ–­ï¼Œä½•ä¹ä¸ä¸ºï¼Ÿ</p>
<p><strong>é£é™©</strong>ï¼šå› ä¸ºæ‰§è¡Œä¸åŒæ­¥ï¼Œæ‰€ä»¥å¦‚æœç‹¬è‡ªåˆ†é…çš„è¿™ä¸ªTBåœ¨ä»¥åçš„æ‰§è¡Œä¼šå†æ¬¡ç”¨åˆ°çš„è¯ï¼Œqemuå’Œx86tomipsçš„è¡Œä¸ºå°†ä¼šå‡ºç°åˆ†æ­§ï¼ï¼ˆqemuä¼šè¯·æ±‚åˆ†é…å—ï¼Œè€Œx86tomipsä¼šè¯·æ±‚æ¯”è¾ƒè¿™ä¸ªå—çš„ç»“æœï¼Œäº¦æˆ–ç›¸åï¼‰è¿™ä¸ªé—®é¢˜ï¼Œ~~å°æ¦‚ç‡äº‹ä»¶ï¼Œç­‰é‡åˆ°æ—¶å†ç€æ‰‹è§£å†³ï¼~~å°†ç»Ÿä¸€è§£å†³ï¼</p>
<p><strong>é£é™©è§£å†³æ–¹æ¡ˆ</strong>ï¼šæ·»åŠ æ¶ˆæ¯ç±»å‹<code>check_tb_start</code>åœ¨å¹¶æå¸¦æ”¹åˆ†å—çš„æŒ‡ä»¤æ•°</p>
<p>æ¥ä¸‹æ¥çš„å†…å®¹å°†å†™åˆ°<a href="check_manual.html">checkæ‰‹å†Œ</a>é‡Œå»</p>

                    </main>
                    <script src="https://utteranc.es/client.js"
                        repo="xieby1/xieby1.github.io"
                        issue-term="pathname"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                    </script>
                </div>
            </div>
        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>



        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
