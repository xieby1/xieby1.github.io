<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>logs.md - xieby1&#x27;s notes</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../../favicon.svg">
                        <link rel="shortcut icon" href="../../../favicon.png">
                <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../..//fonts/lxgwwenkai-regular.css" />
        <link rel="stylesheet" href="../../..//fonts/lxgwwenkaimono-regular.css" />
                <link rel="stylesheet" href="../../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="../../../custom.css">
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../../index.html">Welcome</a></li><li class="chapter-item "><a href="../../../my_Essays.html">Essays</a></li><li class="chapter-item "><a href="../../../abbreviations.html">Abbreviations</a></li><li class="chapter-item affix "><li class="part-title">xieby1's notes</li><li class="chapter-item "><div>ABI</div></li><li class="chapter-item "><div>AI</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../AI/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>Algo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Graph</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Algo/Graph/1998.distance.bunke.prl.775.html">1998.distance.bunke.prl.775.md</a></li><li class="chapter-item "><a href="../../../Algo/Graph/2002.inexact_match.bengoetxea.doc_thesis.107.html">2002.inexact_match.bengoetxea.doc_thesis.107.md</a></li><li class="chapter-item "><a href="../../../Algo/Graph/2014.attributed.zhang.cvpr.19.html">2014.attributed.zhang.cvpr.19.md</a></li><li class="chapter-item "><a href="../../../Algo/Graph/2016.survey.yan.icmr.108.html">2016.survey.yan.icmr.108.md</a></li><li class="chapter-item "><a href="../../../Algo/Graph/2021.igraphmatch.qiao..0.html">2021.igraphmatch.qiao..0.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Arch</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/2014.è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡.å§šæ°¸æ–Œ.html">2014.è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡.å§šæ°¸æ–Œ.md</a></li><li class="chapter-item "><div>Analysis</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>2015.top_down.yasin.ispass.232</div></li><li class="chapter-item "><a href="../../../Arch/Analysis/2015.top_down.yasin.ispass.232.html">2015.top_down.yasin.ispass.232.md</a></li></ol></li><li class="chapter-item "><div>Cache</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/Cache/2022.dsa_cache.sedaghati.isca.0.html">2022.dsa_cache.sedaghati.isca.0.md</a></li></ol></li><li class="chapter-item "><div>HT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/HT/2005.cell.kahle.ibmjrd.1093.html">2005.cell.kahle.ibmjrd.1093.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2011.multi_isa.karaki.iceac.1.html">2011.multi_isa.karaki.iceac.1.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2012.process_migration.devuyst.asplos.83.html">2012.process_migration.devuyst.asplos.83.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2014.isa_explore.venkat.isca.112.html">2014.isa_explore.venkat.isca.112.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2015.overview.mitra.jip.15.html">2015.overview.mitra.jip.15.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2018.process_migration.venkat.doc_thesis.5.html">2018.process_migration.venkat.doc_thesis.5.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2019.composite_isa.venkat.hpca.17.html">2019.composite_isa.venkat.hpca.17.md</a></li><li class="chapter-item "><a href="../../../Arch/HT/2020.byoc_framework.balkind.asplos.3.html">2020.byoc_framework.balkind.asplos.3.md</a></li></ol></li><li class="chapter-item "><div>Issue</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/Issue/1996.quantify_complexity.palacharla..123.html">1996.quantify_complexity.palacharla..123.md</a></li><li class="chapter-item "><a href="../../../Arch/Issue/1997.complexity.palacharla.isca.923.html">1997.complexity.palacharla.isca.923.md</a></li><li class="chapter-item "><a href="../../../Arch/Issue/2000.pipeline_schedule.stark.micro.137.html">2000.pipeline_schedule.stark.micro.137.md</a></li><li class="chapter-item "><a href="../../../Arch/Issue/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>PRF</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/PRF/2017.survey.mittal.ccpe.15.html">2017.survey.mittal.ccpe.15.md</a></li></ol></li><li class="chapter-item "><a href="../../../Arch/QnA.html">QnA.md</a></li><li class="chapter-item "><div>TLB</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/TLB/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>VLIW</div></li><li class="chapter-item "><a href="../../../Arch/overview.html">overview.md</a></li><li class="chapter-item "><div>reconf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Arch/reconf/1997.chimaera.hauck.fccm.461.html">1997.chimaera.hauck.fccm.461.md</a></li><li class="chapter-item "><a href="../../../Arch/reconf/2008.reconf_acc.beck.date.97.html">2008.reconf_acc.beck.date.97.md</a></li></ol></li></ol></li><li class="chapter-item "><div>BT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Box86</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/Box86/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><div>HQEMU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/HQEMU/codeReading-deprecated.html">codeReading-deprecated.md</a></li><li class="chapter-item "><a href="../../../BT/HQEMU/codeReading.html">codeReading.md</a></li></ol></li><li class="chapter-item "><div>HW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/HW/2008.coprocessor.li.amasbt.3.html">2008.coprocessor.li.amasbt.3.md</a></li><li class="chapter-item "><a href="../../../BT/HW/2009.godson3_x86_emu.hu.micro.84.html">2009.godson3_x86_emu.hu.micro.84.md</a></li><li class="chapter-item "><a href="../../../BT/HW/2013.fpga_co-design.yao.fpl.6.html">2013.fpga_co-design.yao.fpl.6.md</a></li><li class="chapter-item "><a href="../../../BT/HW/2020.co_design_arm32_riscv.cheng.carrv.0.html">2020.co_design_arm32_riscv.cheng.carrv.0.md</a></li><li class="chapter-item "><div>VLIW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/HW/VLIW/2015.denver.nvidia.micro.36.html">2015.denver.nvidia.micro.36.md</a></li><li class="chapter-item "><a href="../../../BT/HW/VLIW/2019.hybrid_dbt.rokicki.tcad.2.html">2019.hybrid_dbt.rokicki.tcad.2.md</a></li><li class="chapter-item "><div>crusoe</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/HW/VLIW/crusoe/2000.crusoe.klaiber.transmeta.118.html">2000.crusoe.klaiber.transmeta.118.md</a></li><li class="chapter-item "><a href="../../../BT/HW/VLIW/crusoe/2000.transmeta.geppert.spectrum.38.html">2000.transmeta.geppert.spectrum.38.md</a></li></ol></li><li class="chapter-item "><div>daisy</div></li></ol></li><li class="chapter-item "><div>codeCache</div></li><li class="chapter-item "><div>reconf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/HW/reconf/2013.x86_mips_reconf.junior.jsa.4.html">2013.x86_mips_reconf.junior.jsa.4.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Mem</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/Mem/2008.thread_safe_by_tm.chung.hpca.51.html">2008.thread_safe_by_tm.chung.hpca.51.md</a></li><li class="chapter-item "><div>atomic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/Mem/atomic/2016.atomic.rigo.taco.6.html">2016.atomic.rigo.taco.6.md</a></li></ol></li><li class="chapter-item "><div>order</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/Mem/order/2023.dbt_tso_weak.gouicem.asplos.0.html">2023.dbt_tso_weak.gouicem.asplos.0.md</a></li></ol></li></ol></li><li class="chapter-item "><div>QEMU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/QEMU/16k.html">16k.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/2005.qemu.bellard.usenix.2217.html">2005.qemu.bellard.usenix.2217.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/2017.qemu_multi_cores.cota.cgo.8.html">2017.qemu_multi_cores.cota.cgo.8.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/LA-backend.html">LA-backend.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/linux-user-32.html">linux-user-32.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/linux-user-memory_region.html">linux-user-memory_region.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/linux-user.html">linux-user.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/logs.html">logs.md</a></li><li class="chapter-item "><div>lx</div></li><li class="chapter-item "><a href="../../../BT/QEMU/mt-tcg.html">mt-tcg.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/qemu-wine.html">qemu-wine.md</a></li><li class="chapter-item "><a href="../../../BT/QEMU/signal.html">signal.md</a></li><li class="chapter-item "><div>target</div></li><li class="chapter-item "><a href="../../../BT/QEMU/test.html">test.md</a></li></ol></li><li class="chapter-item "><div>Rosetta</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/Rosetta/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>Tarmac</div></li><li class="chapter-item "><div>X86toMips</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/X86toMips/Pseudo-README.html">Pseudo-README.md</a></li><li class="chapter-item "><a href="../../../BT/X86toMips/X86toMipsè°ƒç ”-ç»­.html">X86toMipsè°ƒç ”-ç»­.md</a></li><li class="chapter-item "><a href="../../../BT/X86toMips/X86toMipsè°ƒç ”.html">æ­¦æˆå²—</a></li><li class="chapter-item "><a href="../../../BT/X86toMips/dbtæµ‹è¯•ç»“æœ.html">dbtæµ‹è¯•ç»“æœ.md</a></li></ol></li><li class="chapter-item "><div>algo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/2006.lib.æ¨æµ©.è®¡ç®—æœºç ”ç©¶ä¸å‘å±•.0.html">2006.lib.æ¨æµ©.è®¡ç®—æœºç ”ç©¶ä¸å‘å±•.0.md</a></li><li class="chapter-item "><div>bt_rules</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/bt_rules/2006.peephole_superopt.bansal.asplos.134.html">2006.peephole_superopt.bansal.asplos.134.md</a></li><li class="chapter-item "><a href="../../../BT/algo/bt_rules/2018.learn.wwwang.asplos.11.html">2018.learn.wwwang.asplos.11.md</a></li></ol></li><li class="chapter-item "><div>code_cache</div></li><li class="chapter-item "><div>excp</div></li><li class="chapter-item "><div>flags</div></li><li class="chapter-item "><div>indirect_jump</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/indirect_jump/2016.static_identify_jump_target.federico.cases.9.html">2016.static_identify_jump_target.federico.cases.9.md</a></li></ol></li><li class="chapter-item "><div>offload</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/offload/2010.distribit.guan.hpdc.5.html">2010.distribit.guan.hpdc.5.md</a></li><li class="chapter-item "><a href="../../../BT/algo/offload/2011.jit_task_farm.bohm.pldi.56.html">2011.jit_task_farm.bohm.pldi.56.md</a></li></ol></li><li class="chapter-item "><div>reg</div></li><li class="chapter-item "><div>smc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/smc/2015.detect.hawkins.cgo.24.html">2015.detect.hawkins.cgo.24.md</a></li></ol></li><li class="chapter-item "><div>trace</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/algo/trace/1994.opt_profiling_tracing.ball.toplas.580.html">1994.opt_profiling_tracing.ball.toplas.580.md</a></li><li class="chapter-item "><a href="../../../BT/algo/trace/2000.net.duesterwald.asplos.141.html">2000.net.duesterwald.asplos.141.md</a></li><li class="chapter-item "><a href="../../../BT/algo/trace/2005.edge_profile.ç™½ç«¥å¿ƒ.è®¡ç®—æœºå·¥ç¨‹.2.html">2005.edge_profile.ç™½ç«¥å¿ƒ.è®¡ç®—æœºå·¥ç¨‹.2.md</a></li><li class="chapter-item "><a href="../../../BT/algo/trace/2005.lei_net.hiniker.micro.39.html">2005.lei_net.hiniker.micro.39.md</a></li></ol></li></ol></li><li class="chapter-item "><div>analysis</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/analysis/2014.simulators_harm.nowatki..19.html">2014.simulators_harm.nowatki..19.md</a></li><li class="chapter-item "><a href="../../../BT/analysis/2020.perfdbt.wu.iccd.2.html">2020.perfdbt.wu.iccd.2.md</a></li><li class="chapter-item "><div>mem</div></li></ol></li><li class="chapter-item "><div>application</div></li><li class="chapter-item "><div>dynamic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/dynamic/2017.mambox64.dantras.pldi.18.html">2017.mambox64.dantras.pldi.18.md</a></li></ol></li><li class="chapter-item "><div>evaluate</div></li><li class="chapter-item "><a href="../../../BT/exagear.html">ExaGear</a></li><li class="chapter-item "><div>kernel</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/kernel/2013.fast.kedia.sosp.18.html">2013.fast.kedia.sosp.18.md</a></li></ol></li><li class="chapter-item "><a href="../../../BT/libDBT/index.html">libDBT</a></li><li class="chapter-item "><div>lift</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>IR</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>LLBT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/lift/IR/LLBT/LLBTè°ƒç ”.html">LLBTè°ƒç ”</a></li><li class="chapter-item "><a href="../../../BT/lift/IR/LLBT/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Šï¼ˆLLBTç›¸å…³ï¼‰.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Šï¼ˆLLBTç›¸å…³ï¼‰.md</a></li></ol></li><li class="chapter-item "><div>REVNG</div></li><li class="chapter-item "><div>mcsema</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/lift/IR/mcsema/2019.mcsema.researchLogs.html">2019.mcsema.researchLogs.md</a></li><li class="chapter-item "><a href="../../../BT/lift/IR/mcsema/2019.mcsema_dyninst.korencik...html">2019.mcsema_dyninst.korencik...md</a></li><li class="chapter-item "><a href="../../../BT/lift/IR/mcsema/remill.html">remill.md</a></li></ol></li><li class="chapter-item "><div>mctoll</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/lift/IR/mctoll/2019.mctoll.yadavalli.lctes.5.html">2019.mctoll.yadavalli.lctes.5.md</a></li><li class="chapter-item "><a href="../../../BT/lift/IR/mctoll/codesReading.html">codesReading.md</a></li><li class="chapter-item "><a href="../../../BT/lift/IR/mctoll/run.html">run.md</a></li></ol></li><li class="chapter-item "><a href="../../../BT/lift/IR/overview.html">overview.md</a></li></ol></li></ol></li><li class="chapter-item "><div>oldProj</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/oldProj/1993.mips2alphaaxp.sites.cacm.267.html">1993.mips2alphaaxp.sites.cacm.267.md</a></li><li class="chapter-item "><a href="../../../BT/oldProj/1998.fx32.chernoff.micro.217.html">1998.fx32.chernoff.micro.217.md</a></li><li class="chapter-item "><div>dbt4AndStatic</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/oldProj/dbt4AndStatic/DBT4ä»£ç é˜…è¯»ç¬”è®°.html">DBT4ä»£ç é˜…è¯»ç¬”è®°</a></li><li class="chapter-item "><a href="../../../BT/oldProj/dbt4AndStatic/dbt-static.html">dbt-static.md</a></li><li class="chapter-item "><a href="../../../BT/oldProj/dbt4AndStatic/å»é™¤orcå·¥ä½œé‡å’Œéš¾åº¦.html">ORCçš„CGIR</a></li></ol></li></ol></li><li class="chapter-item "><div>others</div></li><li class="chapter-item "><div>overview</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/overview/2001.bt_opt_challenges.altman.pieee.38.html">2001.bt_opt_challenges.altman.pieee.38.md</a></li><li class="chapter-item "><a href="../../../BT/overview/2004.bibliography_of_simulators.html">2004.bibliography_of_simulators.md</a></li></ol></li><li class="chapter-item "><div>perf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/perf/2009.overhead.borin.amasbt.26.html">2009.overhead.borin.amasbt.26.md</a></li></ol></li><li class="chapter-item "><div>rewrite</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/rewrite/2018.superset_disassembly.bauman.ndss.40.html">2018.superset_disassembly.bauman.ndss.40.md</a></li><li class="chapter-item "><div>instru</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/rewrite/instru/2009.mt.hazelwood.ismm.28.html">2009.mt.hazelwood.ismm.28.md</a></li><li class="chapter-item "><a href="../../../BT/rewrite/instru/dynamorio.html">dynamorio.md</a></li><li class="chapter-item "><a href="../../../BT/rewrite/instru/mem_count.html">mem_count.md</a></li></ol></li></ol></li><li class="chapter-item "><div>security</div></li><li class="chapter-item "><div>static</div></li><li class="chapter-item "><div>sys</div></li><li class="chapter-item "><div>test</div></li><li class="chapter-item "><div>x86-qemu-mips</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/check.html">check.md</a></li><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/check_manual.html">x86-qemu-mips checkæ‰‹å†Œ</a></li><li class="chapter-item "><div>debugs</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/debugs/OPEN.unknown-loop-in-bios.html">OPEN.unknown-loop-in-bios.md</a></li></ol></li><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/linux-user.html">x86-qemu-mipsåšå‡ºçš„ä¿®æ”¹</a></li><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/mips-llvm.html">mips-llvm.md</a></li><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/mt-tcg.html">mt-tcg.md</a></li><li class="chapter-item "><a href="../../../BT/x86-qemu-mips/tr_miscä¿®æ”¹è®°å½•.html">tr_miscä¿®æ”¹è®°å½•.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Benchmarks</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Benchmarks/coremark.html">coremark.md</a></li><li class="chapter-item "><div>dhrystone</div></li><li class="chapter-item "><div>herdtools7</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Benchmarks/herdtools7/overview.html">å†…å­˜æ¨¡å‹æµ‹è¯•â€”â€”DIYï¼ˆHerdtoolsï¼‰</a></li></ol></li><li class="chapter-item "><a href="../../../Benchmarks/nanobench_bt.html">NanoBench for Binary Translations</a></li><li class="chapter-item "><a href="../../../Benchmarks/spec/index.html">spec</a></li><li class="chapter-item "><a href="../../../Benchmarks/spec2000.html">spec2000.md</a></li></ol></li><li class="chapter-item "><div>Build</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Autotools</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Autotools/2012.autotools_criticism.kamp..html">2012.autotools_criticism.kamp..md</a></li><li class="chapter-item "><a href="../../../Build/Autotools/autotools.html">autotools.md</a></li></ol></li><li class="chapter-item "><div>CMake</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/CMake/Notes.html">CMkake Notes</a></li></ol></li><li class="chapter-item "><div>Compiler</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Compiler/1992.hyperblock.mahlke.micro.html">1992.hyperblock.mahlke.micro.md</a></li><li class="chapter-item "><div>ORC</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Compiler/ORC/2004.ORC-LCPC04-Tutorial.html">2004.ORC-LCPC04-Tutorial.md</a></li><li class="chapter-item "><a href="../../../Build/Compiler/ORC/2004.overview_orc.wuchengyong.iwlcpc.html">2004.overview_orc.wuchengyong.iwlcpc.md</a></li></ol></li><li class="chapter-item "><a href="../../../Build/Compiler/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Build/Compiler/fill_byte_for_align.html">fill_byte_for_align.md</a></li><li class="chapter-item "><div>llvm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Compiler/llvm/disassembler.html">disassembler.md</a></li></ol></li><li class="chapter-item "><div>mingw</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Compiler/mingw/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>trans</div></li></ol></li><li class="chapter-item "><div>Disassemble</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Disassemble/2002.disassembly.bschwarz.pieee.html">2002.disassembly.bschwarz.pieee.md</a></li></ol></li><li class="chapter-item "><a href="../../../Build/ELF/index.html">ELF</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/ELF/ELFè°ƒç ”.html">å‰æ²¿</a></li><li class="chapter-item "><a href="../../../Build/ELF/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>Linker_Loader</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Build/Linker_Loader/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../../Build/distributed.html">distributed.md</a></li><li class="chapter-item "><a href="../../../Build/mingw.html">Windows Development Environment on Linux</a></li></ol></li><li class="chapter-item "><div>CLI</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../CLI/term_pty_sh.html">term_pty_sh.md</a></li></ol></li><li class="chapter-item "><div>CompatLayer</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../CompatLayer/2006.linuxulator.divacky.freebsd..html">2006.linuxulator.divacky.freebsd..md</a></li><li class="chapter-item "><a href="../../../CompatLayer/Alky.html">Alky.md</a></li><li class="chapter-item "><div>UML</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../CompatLayer/UML/user_mode_linux.html">user_mode_linux.md</a></li></ol></li><li class="chapter-item "><div>WINE</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../CompatLayer/WINE/2020_6_25.emu_win_syscall.corbet.lwn.html">2020_6_25.emu_win_syscall.corbet.lwn.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/Design_of_WINE.html">wineä¸­çš„å„ç±»è®¾è®¡</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/References.html">Wineç›¸å…³èµ„æ–™</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/WINEè®¾å¤‡é©±åŠ¨è°ƒç ”.html">èƒŒæ™¯</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/WINEè°ƒç ”.html">Wineè°ƒç ”</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/Winegccè°ƒç ”.html">æœ€ç»ˆç›®æ ‡</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/Winelibè°ƒç ”æŠ¥å‘Š.html">Winelibè°ƒç ”æŠ¥å‘Š.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/optimizable.html">optimizable.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/others.html">others.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/qemu-wine-logs.html">qemu-wine-logs.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/qemu-wine.html">qemu-wine.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/qemu-winetest_debug_logs.html">qemu-winetest_debug_logs.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/qemu-wineç¯å¢ƒæ­å»º.html">qemu-wineç¯å¢ƒæ­å»º.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_FX32_Wine.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_FX32_Wine.md</a></li><li class="chapter-item "><a href="../../../CompatLayer/WINE/äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_Wine.html">äºŒè¿›åˆ¶ç¿»è¯‘è°ƒç ”æŠ¥å‘Š_Wine.md</a></li></ol></li><li class="chapter-item "><a href="../../../CompatLayer/WSL.html">WSL.md</a></li></ol></li><li class="chapter-item "><div>Connect</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Connect/Bluetooth/index.html">Bluetooth</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bluez</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Connect/Bluetooth/bluez/profile_input.html">æ€»ä½“æ¶æ„</a></li></ol></li><li class="chapter-item "><div>btkbdd</div></li><li class="chapter-item "><div>dbus</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Connect/Bluetooth/dbus/Overview.html">Overview.md</a></li></ol></li><li class="chapter-item "><div>hidclient</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Connect/Bluetooth/hidclient/logs.html">logs.md</a></li></ol></li></ol></li><li class="chapter-item "><div>NFC</div></li><li class="chapter-item "><div>Network</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bittorrent</div></li><li class="chapter-item "><div>nginx</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Connect/Network/nginx/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><a href="../../../Connect/Network/p2p.html">p2p.md</a></li><li class="chapter-item "><a href="../../../Connect/Network/streaming_server.html">streaming_server.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Distro</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Distro/JingOS.html">JingOS.md</a></li><li class="chapter-item "><div>Nix</div></li></ol></li><li class="chapter-item "><div>Docs</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Docs/docs_and_codes.html">æ–‡æ¡£å’Œä»£ç </a></li></ol></li><li class="chapter-item "><div>EPaper</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../EPaper/eink.html">eink.md</a></li><li class="chapter-item "><a href="../../../EPaper/laptop.html">laptop.md</a></li></ol></li><li class="chapter-item "><div>Electronics</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Electronics/2015.the_art_of_electronics.horowitz.bookmark.html">2015.the_art_of_electronics.horowitz.bookmark.md</a></li><li class="chapter-item "><a href="../../../Electronics/2015.the_art_of_electronics.horowitz.html">2015.the_art_of_electronics.horowitz.md</a></li><li class="chapter-item "><a href="../../../Electronics/QnA.html">ä¸ºå•¥SRAMéœ€è¦sense amplifier ?</a></li><li class="chapter-item "><a href="../../../Electronics/overview.html">æ™¶ä½“ç®¡çš„é‡è¦ç‰¹å¾</a></li></ol></li><li class="chapter-item "><div>Emulator</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Checkpoint</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Emulator/Checkpoint/2021.elfies.patil.cgo.7.html">2021.elfies.patil.cgo.7.md</a></li><li class="chapter-item "><a href="../../../Emulator/Checkpoint/elfies.log.html">elfies.log.md</a></li><li class="chapter-item "><div>pinball</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Emulator/Checkpoint/pinball/overview.html">overview.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Emulator_Design</div></li><li class="chapter-item "><a href="../../../Emulator/gem5/index.html">gem5</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Emulator/gem5/2019.valid_gem5_haswell.akram.pmbs.10.html">2019.valid_gem5_haswell.akram.pmbs.10.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/cache.html">Cache in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/call_i_perf_degradation.html">call_i_perf_degradation.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/clock.html">Clock in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/commit.html">Commit Stage of Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/debug.html">Debug Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/decode.html">decoding in gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/elf.html">elf.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/fetch.html">Fetch in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/files.html">gem5 files</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/flags.html">Flags in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/iew.html">Issue, Execute and Writeback in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/isa.html">xieby1's Manual for isa, a new DSL(Domain Specific Language)</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/logs.html">logs.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/mem.html">Mem in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/microop.html">microop in gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/mmu.html">X86MMU (X86TLB) in gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/o3cpu.html">O3 CPU in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/ply.html">PLY(Python Lex Yacc) in gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/port.html">Port Abstraction in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/rename.html">rename.md</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/scons.html">Scons</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/simplecpu.html">Simple CPU in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/specialize.html">Specialize in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/syscall.html">Syscall in Gem5 SE</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/troubleShoot.html">Troubles in Gem5</a></li><li class="chapter-item "><a href="../../../Emulator/gem5/ucache_adapter.html">Micro Cache Adapter in Gem5</a></li></ol></li><li class="chapter-item "><a href="../../../Emulator/spike.html">spike.md</a></li><li class="chapter-item "><a href="../../../Emulator/zsim.html">zsim.md</a></li></ol></li><li class="chapter-item "><div>FS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../FS/watch.html">watch.md</a></li></ol></li><li class="chapter-item "><div>GPU</div></li><li class="chapter-item "><div>ISA</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/2000.inst_path_coproc.chou.isca.49.html">2000.inst_path_coproc.chou.isca.49.md</a></li><li class="chapter-item "><a href="../../../ISA/2002.ildp.kim.isca.99.html">2002.ildp.kim.isca.99.md</a></li><li class="chapter-item "><a href="../../../ISA/2009.density.weaver.iccd.20.html">2009.density.weaver.iccd.20.md</a></li><li class="chapter-item "><a href="../../../ISA/2013.power_of_risc_cisc.blem.hpca.144.html">2013.power_of_risc_cisc.blem.hpca.144.md</a></li><li class="chapter-item "><div>Fusion</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Fusion/2011.softhv.deb.cf.11.html">2011.softhv.deb.cf.11.md</a></li><li class="chapter-item "><a href="../../../ISA/Fusion/2017.bt_fuse_riscv_x86.clark.carrv.0.html">2017.bt_fuse_riscv_x86.clark.carrv.0.md</a></li><li class="chapter-item "><a href="../../../ISA/Fusion/2022.fuse_mem.singh.micro.0.html">2022.fuse_mem.singh.micro.0.md</a></li><li class="chapter-item "><div>NonExec</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Fusion/NonExec/2004.bt_fused_isa.hu.cgo.43.html">2004.bt_fused_isa.hu.cgo.43.md</a></li><li class="chapter-item "><a href="../../../ISA/Fusion/NonExec/2004.profile_minigraph.bracy.micro.69.html">2004.profile_minigraph.bracy.micro.69.md</a></li></ol></li><li class="chapter-item "><a href="../../../ISA/Fusion/overview.html">Fusion</a></li></ol></li><li class="chapter-item "><div>Generated</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Generated/1998.subset_sum.choi.iccad.92.html">1998.subset_sum.choi.iccad.92.md</a></li><li class="chapter-item "><a href="../../../ISA/Generated/2003.near_optimal_cuts.atasu.dac.363.html">2003.near_optimal_cuts.atasu.dac.363.md</a></li><li class="chapter-item "><a href="../../../ISA/Generated/2014.overview.shrimal..4.html">2014.overview.shrimal..4.md</a></li></ol></li><li class="chapter-item "><a href="../../../ISA/Semantics/index.html">Semantics</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Semantics/2013.locate.lakhotia.pprew.75.html">2013.locate.lakhotia.pprew.75.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2014.lem.mulligan.icfp.79.html">2014.lem.mulligan.icfp.79.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2015.sail.gray.micro.31.html">2015.sail.gray.micro.31.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2016.learn.heule.pldi.56.html">2016.learn.heule.pldi.56.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2018.sail.armstrong..3.html">2018.sail.armstrong..3.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2019.x64_validation.dasgupta.sigplan.24.html">2019.x64_validation.dasgupta.sigplan.24.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/2021.sail.armstrong.manual.html">2021.sail.armstrong.manual.md</a></li><li class="chapter-item "><a href="../../../ISA/Semantics/asmjit.html">AsmJit</a></li><li class="chapter-item "><div>k</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Semantics/k/logs.html">logs.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Uop</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/Uop/1990.nec_intel.elkins...html">1990.nec_intel.elkins...md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/1996.palcode..manual..html">1996.palcode..manual..md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/2001.ucache.solomon.islped.44.html">2001.ucache.solomon.islped.44.md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/2018.uops_info.abel.asplos.52.html">2018.uops_info.abel.asplos.52.md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/2019.reverse_engineer.koppe.usenix_security.16.html">2019.reverse_engineer.koppe.usenix_security.16.md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/2020.improve_ucache.kotra.micro.3.html">2020.improve_ucache.kotra.micro.3.md</a></li><li class="chapter-item "><a href="../../../ISA/Uop/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>arm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/arm/aarch64.html">aarch64.md</a></li><li class="chapter-item "><div>software_opt</div></li></ol></li><li class="chapter-item "><div>enhance</div></li><li class="chapter-item "><div>java</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/java/overview.html">Java Processor</a></li></ol></li><li class="chapter-item "><div>mips</div></li><li class="chapter-item "><div>mips_lx</div></li><li class="chapter-item "><div>riscv</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ISA/riscv/2022.riscv-unpriv.html">2022.riscv-unpriv.md</a></li></ol></li><li class="chapter-item "><div>ultrasparc</div></li><li class="chapter-item "><div>umips</div></li><li class="chapter-item "><div>x86</div></li><li class="chapter-item "><div>xtensa</div></li></ol></li><li class="chapter-item "><div>Input</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Input/logs.html">logs.md</a></li></ol></li><li class="chapter-item "><div>JIT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../JIT/2008.llvm_sim.brandner..29.html">2008.llvm_sim.brandner..29.md</a></li><li class="chapter-item "><a href="../../../JIT/2011.llvm_sim.helmstetter.imecs.6.html">2011.llvm_sim.helmstetter.imecs.6.md</a></li><li class="chapter-item "><div>dynarmic</div></li><li class="chapter-item "><div>opt</div></li></ol></li><li class="chapter-item "><a href="../../../Journals.html">Journals</a></li><li class="chapter-item expanded "><a href="../../../Kernel/index.html">Kernel</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/2020_9_9.prepare_new_feat.edge.lwn-lpc.html">2020_9_9.prepare_new_feat.edge.lwn-lpc.md</a></li><li class="chapter-item "><div>Driver</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Driver/2019.linux_win_printer.é‡‘èé€š.è½¯ä»¶æ‰€ç¡•å£«.html">2019.linux_win_printer.é‡‘èé€š.è½¯ä»¶æ‰€ç¡•å£«.md</a></li></ol></li><li class="chapter-item "><div>Linux</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Linux/2002.rcu.mckenney..216.html">2002.rcu.mckenney..216.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/2016.sched_bug.lozi.eurosys.120.html">2016.sched_bug.lozi.eurosys.120.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/2018.concurrency.alglave.asplos.31.html">2018.concurrency.alglave.asplos.31.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/2020.rcu.mckenney...html">2020.rcu.mckenney...md</a></li><li class="chapter-item "><div>Android</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Linux/Android/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/Android/Waydroid.html">Waydroid.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/Android/anbox.html">anbox.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/Android/to_mainline.html">to_mainline.md</a></li></ol></li><li class="chapter-item "><a href="../../../Kernel/Linux/QnA-alpine.html">QnA-alpine.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/cache_alias.html">ğŸš§cacheåˆ«åã€é¡µç€è‰²</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/cache_alias_page_color.html">cache_alias_page_color.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/docsReading.html">docsReading.md</a></li><li class="chapter-item "><div>drivers</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Linux/drivers/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/drivers/ioctl.html">ioctl.md</a></li></ol></li><li class="chapter-item "><a href="../../../Kernel/Linux/idle.html">idle.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/lx.html">lx.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/memory_mapping.html">memory_mapping.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/module.logs.html">module.logs.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/mtlb.logs.html">mtlb.logs.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/page_fault.html">do_page_faultæºç åˆ†æ</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/page_size.html">page_size.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/startup.html">startup.md</a></li><li class="chapter-item "><a href="../../../Kernel/Linux/syscalls.html">syscalls.md</a></li></ol></li><li class="chapter-item "><div>WinCmptbl</div></li><li class="chapter-item expanded "><div>Windows</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Windows/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/ReactOS/index.html">ReactOS</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/compilation.html">compilation.md</a></li><li class="chapter-item expanded "><a href="../../../Kernel/Windows/driver/index.html">driver</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/Windows/driver/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/driver/ddiwrapper.html">ddiwrapper.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/driver/logs-1.html">logs-1.md</a></li><li class="chapter-item expanded "><a href="../../../Kernel/Windows/driver/logs.html" class="active">logs.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/driver/ndis.html">ndis.md</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>err</div></li></ol></li><li class="chapter-item "><a href="../../../Kernel/Windows/driver/printer.html">é©±åŠ¨å®‰è£…åŒ…æ„æˆ</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/driver/types.html">types.md</a></li></ol></li><li class="chapter-item "><a href="../../../Kernel/Windows/nameConventions.html">Windowså‘½åé£æ ¼</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/service.html">service.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/subsystem.html">subsystem.md</a></li><li class="chapter-item "><a href="../../../Kernel/Windows/syscall.html">syscall.md</a></li></ol></li><li class="chapter-item "><div>XNU</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Darling</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/XNU/Darling/overview.html">overview.md</a></li></ol></li></ol></li><li class="chapter-item "><div>exo</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/exo/1995.intro.engler.sosp.1259.html">1995.intro.engler.sosp.1259.md</a></li></ol></li><li class="chapter-item "><a href="../../../Kernel/memory.html">memory.md</a></li><li class="chapter-item "><div>micro</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/micro/1995.u_kernel.lietdke.sosp.308.html">1995.u_kernel.lietdke.sosp.308.md</a></li><li class="chapter-item "><a href="../../../Kernel/micro/2013.l3_sel4.elphinstone.sosp.126.html">2013.l3_sel4.elphinstone.sosp.126.md</a></li></ol></li><li class="chapter-item "><div>multi</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/multi/2009.intro.baumann.sosp.856.html">2009.intro.baumann.sosp.856.md</a></li></ol></li><li class="chapter-item "><div>syscall</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Kernel/syscall/2020_9_8.extensible_syscall.corbet.lwn-lpc.html">2020_9_8.extensible_syscall.corbet.lwn-lpc.md</a></li></ol></li><li class="chapter-item "><a href="../../../Kernel/transkernel.html">transkernel.md</a></li><li class="chapter-item "><div>unikernel</div></li></ol></li><li class="chapter-item "><div>Lang</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Asm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/Asm/asm.html">asm.md</a></li><li class="chapter-item "><div>riscv</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/Asm/riscv/QnA.html">QnA.md</a></li></ol></li></ol></li><li class="chapter-item "><div>C.f</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/C.f/macro.html">macro.md</a></li></ol></li><li class="chapter-item "><div>Dot</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/Dot/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Lang/Dot/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>IR</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/IR/1999.JVM_Specification.html">1999.JVM_Specification.md</a></li><li class="chapter-item "><a href="../../../Lang/IR/2000.llvm.lattner.master_thesis.241.html">2000.llvm.lattner.master_thesis.241.md</a></li><li class="chapter-item "><a href="../../../Lang/IR/2004.llvm.lattner.cgo.4340.html">2004.llvm.lattner.cgo.4340.md</a></li><li class="chapter-item "><a href="../../../Lang/IR/2013.importance.chow...html">2013.importance.chow...md</a></li><li class="chapter-item "><div>Common2</div></li><li class="chapter-item "><a href="../../../Lang/IR/LLVM-IR.html">LLVM-IR.md</a></li><li class="chapter-item "><a href="../../../Lang/IR/MapleIRDesign.html">Introduction </a></li><li class="chapter-item "><a href="../../../Lang/IR/adve-LowLevelVirtual.html">adve-LowLevelVirtual.md</a></li></ol></li><li class="chapter-item "><div>JS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/JS/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>Latex</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/Latex/multi_line_cite.html">\citeæœ«å°¾ç©ºæ ¼</a></li></ol></li><li class="chapter-item "><div>Lisp</div></li><li class="chapter-item "><div>Py</div></li><li class="chapter-item "><div>SMT-LIB</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/SMT-LIB/2012.smt_lib_v2.cok..47.html">2012.smt_lib_v2.cok..47.md</a></li></ol></li><li class="chapter-item "><div>TclTk</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/TclTk/1995.tcl_tk.welch.html">1995.tcl_tk.welch.md</a></li></ol></li><li class="chapter-item "><div>Verilog</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/Verilog/2005.verilog_std.html">2005.verilog_std.md</a></li><li class="chapter-item "><a href="../../../Lang/Verilog/2008.Verilogæ•°å­—ç³»ç»Ÿè®¾è®¡æ•™ç¨‹.å¤å®‡é—».ocr.html">2008.Verilogæ•°å­—ç³»ç»Ÿè®¾è®¡æ•™ç¨‹.å¤å®‡é—».ocr.md</a></li><li class="chapter-item "><a href="../../../Lang/Verilog/QnA.html">QnA</a></li></ol></li><li class="chapter-item "><div>WebAsm</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/WebAsm/2017.intro.haas.pldi.194.html">2017.intro.haas.pldi.194.md</a></li><li class="chapter-item "><a href="../../../Lang/WebAsm/linux_desktop.html">Web Assembly and Linux GUI (GUI Shell)</a></li><li class="chapter-item "><a href="../../../Lang/WebAsm/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><a href="../../../Lang/awk.html">AWK</a></li><li class="chapter-item "><a href="../../../Lang/bc.html">BC</a></li><li class="chapter-item "><div>functional</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lang/functional/data_struct.html">data_struct.md</a></li><li class="chapter-item "><a href="../../../Lang/functional/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><a href="../../../Lang/spinalhdl.html">spinalhdl.md</a></li></ol></li><li class="chapter-item "><div>Lib</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Glibc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lib/Glibc/QnA.html">QnA.md</a></li><li class="chapter-item "><a href="../../../Lib/Glibc/glibc.html">glibc.md</a></li><li class="chapter-item "><a href="../../../Lib/Glibc/mmap.html">mmapç‰¹æ€§</a></li><li class="chapter-item "><a href="../../../Lib/Glibc/pthread.html">pthread.md</a></li></ol></li><li class="chapter-item "><div>Libc</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lib/Libc/Musl/index.html">Musl</a></li></ol></li><li class="chapter-item "><div>igraph</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Lib/igraph/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../../Lib/uClibc.html">uClibc.md</a></li></ol></li><li class="chapter-item "><div>Mem</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Mem/cat.html">cat.md</a></li><li class="chapter-item "><div>model</div></li><li class="chapter-item "><a href="../../../Mem/model.html">model.md</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Mem/model/2017.memalloy.wickerson.popl.77.html">2017.memalloy.wickerson.popl.77.md</a></li></ol></li><li class="chapter-item "><a href="../../../Mem/order.html">C++11è®¿å­˜é¡ºåº</a></li><li class="chapter-item "><a href="../../../Mem/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../../Mem/test.html">test.md</a></li></ol></li><li class="chapter-item "><div>OS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>page_size</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../OS/page_size/overview.html">overview.md</a></li><li class="chapter-item "><a href="../../../OS/page_size/transparent_huge_page.html">transparent_huge_page.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Opinions</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Opinions/notes.html">notes.md</a></li><li class="chapter-item "><a href="../../../Opinions/openEcoSys.html">openEcoSys.md</a></li></ol></li><li class="chapter-item "><div>Perf</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Perf/flamegraph.html">flamegraph.md</a></li><li class="chapter-item "><a href="../../../Perf/tools.html">tools.md</a></li></ol></li><li class="chapter-item "><div>PoSh</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../PoSh/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>Pwr</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Pwr/2009.mcpat.li.micro.2319.html">2009.mcpat.li.micro.2319.md</a></li></ol></li><li class="chapter-item "><a href="../../../QnA-Daliy.html">QnA-Daliy.md</a></li><li class="chapter-item "><div>Repos</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Repos/llvm-tutor.html">llvm-tutor.md</a></li></ol></li><li class="chapter-item "><div>SQL</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SQL/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>SW</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Vim</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SW/Vim/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><div>WM</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SW/WM/gnome.html">gnome.md</a></li></ol></li><li class="chapter-item "><a href="../../../SW/barrier.html">Barrier</a></li><li class="chapter-item "><a href="../../../SW/cli_browsers.html">CLI Browsers (TUI Browsers)</a></li><li class="chapter-item "><a href="../../../SW/drawio.html">drawio.md</a></li><li class="chapter-item "><a href="../../../SW/launchers.html">launchers.md</a></li><li class="chapter-item "><a href="../../../SW/ocrmypdf.html">ocrmypdf.md</a></li><li class="chapter-item "><a href="../../../SW/pandoc.html">pandoc.md</a></li><li class="chapter-item "><a href="../../../SW/paperless-ngx.html">paperless-ngx.md</a></li><li class="chapter-item "><a href="../../../SW/tmux_zellij.html">tmux vs zellij</a></li><li class="chapter-item "><a href="../../../SW/tree_timeline_note.html">tree_timeline_note.md</a></li></ol></li><li class="chapter-item "><div>Sandbox</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>Docker</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Sandbox/Docker/Overview.html">Overview.md</a></li><li class="chapter-item "><a href="../../../Sandbox/Docker/QnA.html">QnA.md</a></li></ol></li><li class="chapter-item "><a href="../../../Sandbox/chroot.html">chroot.md</a></li><li class="chapter-item "><a href="../../../Sandbox/proot.html">proot.md</a></li></ol></li><li class="chapter-item "><div>Sim</div></li><li class="chapter-item "><div>SoC</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SoC/2009.static_timing_analysis.chadha.html">2009.static_timing_analysis.chadha.md</a></li><li class="chapter-item "><a href="../../../SoC/2009.static_timing_analysis.chadha.note.html">2009.static_timing_analysis.chadha.note.md</a></li><li class="chapter-item "><a href="../../../SoC/2020.soc_design_guide.chakravarthi.html">2020.soc_design_guide.chakravarthi.md</a></li><li class="chapter-item "><div>Chipyard</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SoC/Chipyard/2023.chisel-book.html">2023.chisel-book.md</a></li><li class="chapter-item "><a href="../../../SoC/Chipyard/nixos.html">nixos.md</a></li></ol></li><li class="chapter-item "><div>FPGA</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SoC/FPGA/iverilog.html">iverilog.md</a></li></ol></li><li class="chapter-item "><a href="../../../SoC/HLS/index.html">HLS</a></li><li class="chapter-item "><a href="../../../SoC/OpenTimer.html">OpenTimer</a></li><li class="chapter-item "><a href="../../../SoC/STA.html">Static Timing Analysis (STA)</a></li><li class="chapter-item "><div>XLS</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../SoC/XLS/dslx.html">DSLX for Google XL</a></li><li class="chapter-item "><a href="../../../SoC/XLS/xlscc.html">xlscc.md</a></li></ol></li><li class="chapter-item "><a href="../../../SoC/metastability.html">Metastability äºšç¨³æ€</a></li><li class="chapter-item "><a href="../../../SoC/terminologies.html">Terminologies</a></li></ol></li><li class="chapter-item "><div>SymExec</div></li><li class="chapter-item "><div>Virt</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Virt/1988.386.smith.programmers_journal..html">1988.386.smith.programmers_journal..md</a></li><li class="chapter-item "><a href="../../../Virt/2002.esx.waldspurger.opsr.1402.html">2002.esx.waldspurger.opsr.1402.md</a></li><li class="chapter-item "><a href="../../../Virt/2003.xen.barham.opsr.6475.html">2003.xen.barham.opsr.6475.md</a></li><li class="chapter-item "><a href="../../../Virt/2003.xen.barham.opsr.6475.sync-conflict-20211220-085833-2SHHM4X.html">2003.xen.barham.opsr.6475.sync-conflict-20211220-085833-2SHHM4X.md</a></li><li class="chapter-item "><a href="../../../Virt/2006.cmp_soft_hard_x86.adams.asplos.700.html">2006.cmp_soft_hard_x86.adams.asplos.700.md</a></li><li class="chapter-item "><a href="../../../Virt/2012.dune.belay.osdi.215.html">2012.dune.belay.osdi.215.md</a></li><li class="chapter-item "><div>BT</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Virt/BT/2016.cross_arch_captive.spink.taco.3.html">2016.cross_arch_captive.spink.taco.3.md</a></li><li class="chapter-item "><a href="../../../Virt/BT/2019.cross_arch_captive.spink.usenix.1.html">2019.cross_arch_captive.spink.usenix.1.md</a></li></ol></li><li class="chapter-item "><div>addr_trans</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Virt/addr_trans/2018.1_qemu_dune_2_lkm.faravelon.doc_thesis.1.html">2018.1_qemu_dune_2_lkm.faravelon.doc_thesis.1.md</a></li></ol></li><li class="chapter-item "><a href="../../../Virt/overview.html">overview.md</a></li><li class="chapter-item "><div>virtualBox</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Virt/virtualBox/install.html">install.md</a></li></ol></li></ol></li><li class="chapter-item "><div>Vulnerability</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../Vulnerability/2008.reversi.wagner.iccd.54.html">2008.reversi.wagner.iccd.54.md</a></li><li class="chapter-item "><a href="../../../Vulnerability/2023.reptar.html">2023.reptar.md</a></li></ol></li><li class="chapter-item "><div>Web</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>rss</div></li><li class="chapter-item "><a href="../../../Web/vue.html">vue.md</a></li></ol></li><li class="chapter-item "><div>Write</div></li><li class="chapter-item "><a href="../../../X11/index.html">X11</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../X11/windowManage.html">windowManage.md</a></li></ol></li><li class="chapter-item "><div>analysis</div></li><li class="chapter-item "><div>binary_tools</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../binary_tools/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><a href="../../../cheatsheet.html">cheatsheet.md</a></li><li class="chapter-item "><div>dataViz</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../dataViz/overview.html">overview.md</a></li></ol></li><li class="chapter-item "><div>fonts</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>files</div></li></ol></li><li class="chapter-item "><div>hackthon</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../hackthon/Untitled.html">Untitled.md</a></li></ol></li><li class="chapter-item "><div>other_read_list</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../other_read_list/cambridge.html">Cambrige Advanced Topics in Computer Architecture Reading List</a></li><li class="chapter-item "><a href="../../../other_read_list/stanford/index.html">stanford</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../other_read_list/stanford/1999.codesigned_vm.smith.iwia.html">1999.codesigned_vm.smith.iwia.md</a></li><li class="chapter-item "><a href="../../../other_read_list/stanford/2001.vm_intro.smith.html">2001.vm_intro.smith.md</a></li><li class="chapter-item "><a href="../../../other_read_list/stanford/2002.vector_vs_ss.kozyrakis.micro.html">2002.vector_vs_ss.kozyrakis.micro.md</a></li></ol></li></ol></li><li class="chapter-item "><div>revealjs</div><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../revealjs/plugins.html">TOC</a></li></ol></li><li class="chapter-item "><a href="../../../scripts/index.html">scripts</a><a class="toggle"><div>â±</div></a></li><li><ol class="section"><li class="chapter-item "><div>bash</div></li></ol></li><li class="chapter-item "><div>security</div></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="shuimitao">æ°´èœœæ¡ƒ</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                            </div>

                    <h1 class="menu-title">xieby1&#x27;s notes</h1>

                    <div class="right-buttons">
                                                                        <a href="https://github.com/xieby1/xieby1.github.io" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                                                
                    </div>
                </div>

                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><strong>æœ¯è¯­</strong></p>
<table><thead><tr><th>Windows</th><th>Linux</th><th>æ³¨</th></tr></thead><tbody>
<tr><td>checked</td><td>debug</td><td>buildç±»å‹</td></tr>
<tr><td>free</td><td>release</td><td>buildç±»å‹</td></tr>
<tr><td></td><td></td><td></td></tr>
</tbody></table>
<div style="text-align:right; font-size:3em;">2020.10.30</div>
<h2 id="windowsé©±åŠ¨å‘å±•"><a class="header" href="#windowsé©±åŠ¨å‘å±•">Windowsé©±åŠ¨å‘å±•</a></h2>
<p>å‚è€ƒ<a href="https://www.cnblogs.com/hyddd/archive/2009/03/15/1412684.html">ã€hydddé©±åŠ¨å¼€å‘å­¦ä¹ ã€‘DDKä¸WDK</a>ï¼Œ</p>
<table><thead><tr><th>ç³»ç»Ÿ</th><th>é©±åŠ¨æ¨¡å‹</th><th>é©±åŠ¨åç¼€</th><th>å¼€å‘åŒ…</th></tr></thead><tbody>
<tr><td>95/98/ME</td><td>Vxd</td><td>.vxd</td><td>æ— </td></tr>
<tr><td>2000/XP/2003</td><td>WDM (Windows Driver Model)</td><td>.sys</td><td>DDK</td></tr>
<tr><td>Vistaå’Œä¹‹å</td><td>WDF (Windows Driver Frameworks)</td><td>.sys</td><td>WDK</td></tr>
</tbody></table>
<p>WDKå…¼å®¹DDKã€‚</p>
<div style="text-align:right; font-size:3em;">2020.10.27</div>
<h2 id="å®‰è£…"><a class="header" href="#å®‰è£…">å®‰è£…</a></h2>
<p>å®‰è£…åŒ…æ¥è‡ªå¾®è½¯å®˜æ–¹<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/other-wdk-downloads">Other WDK downloads</a>çš„Windows XP Windows Server 2003çš„<a href="https://www.microsoft.com/download/confirmation.aspx?id=11800">WDK 7.1.0</a>ã€‚</p>
<p>åœ¨windows XPè™šæ‹Ÿæœºï¼ˆvirtual boxï¼‰é‡Œå®‰è£…ã€‚</p>
<p>è£…å¥½äº†å‘ç°å°±æ˜¯DDKï¼ä½äº<code>C:\WinDDK\</code>ï¼</p>
<div style="text-align:right; font-size:3em;">2020.10.26</div>
<h2 id="ç¼–è¯‘ç¨‹åº"><a class="header" href="#ç¼–è¯‘ç¨‹åº">ç¼–è¯‘ç¨‹åº</a></h2>
<p>åœ¨winXPé‡Œç¼–è¯‘äº†æ‰“å°æœºé©±åŠ¨çš„ç¤ºä¾‹ç¨‹åºâ€”â€”msplotï¼ˆåœ¨<code>C:\WinDDK\ç‰ˆæœ¬\src\print\msplot\</code>é‡Œï¼‰ï¼Œè¿è¡Œ<code>x86 Checked Build Environment</code>ç„¶åå»msplotç›®å½•é‡Œè¿è¡Œ<code>build</code>å°±å¯ä»¥äº†ã€‚æ›´æƒ³äº†è§£windowsçš„ç¼–è¯‘ç³»ç»Ÿäº†ã€‚</p>
<p>2020.10.28</p>
<p><strong><a href="https://docs.microsoft.com/en-us/cpp/build/building-on-the-command-line?view=vs-2019">Use the Microsoft C++ toolset from the command line</a></strong></p>
<p><a href="https://docs.microsoft.com/en-us/cpp/build/reference/compiling-a-c-cpp-program?view=vs-2019">CL</a>
Use the compiler (cl.exe) to compile and link source code files into apps, libraries, and DLLs.</p>
<p><a href="https://docs.microsoft.com/en-us/cpp/build/reference/linking?view=vs-2019">Link</a>
Use the linker (link.exe) to link compiled object files and libraries into apps and DLLs.</p>
<p><a href="https://docs.microsoft.com/en-us/cpp/build/reference/nmake-reference?view=vs-2019">NMAKE</a>
Use NMAKE (nmake.exe) on Windows to build C++ projects based on a traditional makefile.</p>
<p><strong><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/print/plotter-driver-components">Plotter Driver Components</a></strong></p>
<p>msplotçš„ç¼–è¯‘è¿‡ç¨‹åº”è¯¥ä¸æ˜¯ç”±namek+makefileå®Œæˆçš„ï¼Œè€Œæ˜¯<code>plotter/sources</code>å’Œ<code>plotui/sources</code>è¿™ä¿©æ–‡ä»¶æŒ‡å¯¼æŸä¸ªç¨‹åºå®Œæˆçš„ã€‚</p>
<p>2020.10.29</p>
<p>é€šè¿‡æœç´¢sourcesé‡Œçš„å…³é”®è¯<code>TARGETNAME=</code>ï¼Œæœç´¢åˆ°äº†sourceæ–‡ä»¶ç›¸å…³çš„å†å²æ–‡æ¡£ï¼š</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/ff552920(v=vs.85)">TARGETTYPE</a>
<ul>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/ff551804(v=vs.85)">Sources file</a>
<ul>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/ff554126(v=vs.85)">Using Macros and Environment Variables</a>
<ul>
<li><a href="http://go.microsoft.com/fwlink/?linkid=153241">Macros and NMAKE</a>ï¼šå¯ä»¥ä¸‹è½½åˆ°Visual Studio 2003 Retired Technical documentationã€‚<strong>æ³¨</strong>ï¼šè¿™äº›pdfå°±æ˜¯ç½‘é¡µæ–‡æ¡£ä¸€æ¨¡ä¸€æ ·çš„æ ¼å¼ï¼Œé“¾æ¥éå¸¸å¤šã€‚</li>
</ul>
</li>
<li><a href="https://docs.microsoft.com/en-us/previous-versions/ff556072(v=vs.85)">Utilizing a Sources file Template</a>ï¼šè¯´æ˜äº†sourcesæ–‡ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚æ¨¡æ¿é‡Œå¯¹TARGETNAMEçš„æ³¨é‡Šâ€œIt is the name of the target (component) that is being built by this makefileâ€è¯´æ˜äº†sourcesæ–‡ä»¶çš„æœ¬è´¨æ˜¯makefileï¼</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>build</code>åœ¨è¿è¡Œæ—¶è¾“å‡ºä¿¡æ¯æ˜¾ç¤ºä¼šå»è¯»å–Winddkæ ¹ç›®å½•é‡Œçš„<code>build.dat</code>æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç”¨é€”æ˜¯ï¼Ÿ</p>
<div style="text-align:right; font-size:3em;">2020.10.30</div>
<p>æ‰¾åˆ°ç¼–è¯‘ç›¸å…³çš„æ–‡æ¡£äº†ï¼Œå®‰è£…DDKæ—¶å°±åŒæ—¶å®‰è£…äº†å¼€å‘æ–‡æ¡£åœ¨å¼€å§‹èœå•æ‰¾æ‰¾DDKçš„helpå­ç›®å½•ï¼Œæ‰¾åˆ°è¿™ä¸ªæ–‡æ¡£çš„è¿‡ç¨‹æœ‰ç‚¹æ›²æŠ˜ï¼Œæ€»çš„æ¥è¯´è¿˜æ˜¯ä¸ç†Ÿæ‚‰windowså¼€å‘æµç¨‹ï¼Œ</p>
<ul>
<li>stack overflow <a href="https://stackoverflow.com/questions/10197148/how-to-start-writing-ddk-code">How to start writing DDK code ?</a> quasoftçš„å›ç­”æåˆ°xpç¼–ç¨‹å¯ä»¥å‚è€ƒï¼Œ
<ul>
<li>guide from Donald D. Burn can be a good start - <a href="https://msdn.microsoft.com/en-us/library/windows/hardware/dn613923(v=vs.85).aspx">Getting Started with Windows Driver Development</a>ï¼Œä¸‹è½½åˆ°äº†Booksé‡Œ<a href="../../../../../Books/Kernel/Windows/drivers/drv_dev_intro.docx">drv_dev_intro.docx</a>ï¼›è¿™ä¸ªæ–‡æ¡£åœ¨è®²Build Commandl Lineæ—¶æåˆ°äº†â€œThe Build utility has many options, which are all documented in the WDK.â€ï¼Œæˆ‘å½“æ—¶æƒŠå‘†äº†ï¼ŒWDKæœ‰æ–‡æ¡£ï¼Ÿï¼ä»”ç»†æƒ³æƒ³ï¼Œå½“æ—¶åªæœç´¢äº†<code>C:\WinDDK</code>ç›®å½•ï¼Œæ²¡æœ‰æ‰¾åˆ°æ–‡æ¡£ï¼Œæ–‡æ¡£å¯èƒ½åœ¨åˆ«çš„åœ°æ–¹æ”¾ç€ï¼
<ul>
<li>æœç„¶DDKçš„å¼€å‘è€…æ–‡æ¡£åœ¨å¼€å§‹èœå•é‡Œçš„DDK-helpå­ç›®å½•ä¸‹æœ‰ï¼ï¼ˆåœ¨å®‰è£…æ—¶è¦é€‰æ‹©å®‰è£…å¸®åŠ©æ–‡æ¡£æ‰ä¼šæœ‰ï¼ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="text-align:right; font-size:3em;">2020.11.06</div>
<p><strong>æ³¨</strong>ï¼šå¾ˆå¤šç¨‹åºåœ¨Zç›˜å®‰è£…å¤±è´¥ï¼Œåœ¨Cç›˜å®‰è£…æˆåŠŸã€‚</p>
<hr />
<p>HP 1020 plus windows xp 32é©±åŠ¨ï¼ˆåœ¨HPå®˜ç½‘ä¸‹è½½ï¼‰</p>
<ul>
<li>Windows XPï¼šä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥ç›´æ¥é©±åŠ¨USBæ‰“å°æœº</li>
<li>ReactOSï¼šå®‰è£…ç¨‹åºå¡æ­»</li>
<li>WINEï¼šå®‰è£…ç¨‹åºæ— æ³•æ‰¾åˆ°USBè®¾å¤‡</li>
</ul>
<hr />
<p>PDFè™šæ‹Ÿæ‰“å°æœºTinyPDF</p>
<ul>
<li>Windows XPï¼šä¸€åˆ‡æ­£å¸¸ï¼Œå¯ä»¥æ‰“å°å‡ºPDFæ–‡ä»¶</li>
<li>ReactOSï¼šå®‰è£…æ­£å¸¸ï¼Œä½†æ‰“å°æœºåˆ—è¡¨æ²¡æœ‰å‡ºç°è™šæ‹Ÿæ‰“å°æœº</li>
<li>WINEï¼šå®‰è£…æ­£å¸¸ï¼Œæ‰“å°æœºåˆ—è¡¨é‡Œæœ‰è™šæ‹Ÿæ‰“å°æœºï¼Œä½†æ˜¯æ‰“å°ä¼šå¡æ­»</li>
</ul>
<hr />
<div style="text-align:right; font-size:3em;">2020.11.19</div>
<h2 id="è°ƒè¯•notepadtinypdf"><a class="header" href="#è°ƒè¯•notepadtinypdf">è°ƒè¯•notepad+TinyPDF</a></h2>
<p>æ€»è·¯çº¿</p>
<ul>
<li>
<p>WINE</p>
<ul>
<li>winedbg: è°ƒè¯•notepadæ‰“å°è¿‡ç¨‹winedbgæ€»æ˜¯ä¹±è·³ï¼Œå¾ˆå¤šå˜é‡æ— æ³•æ˜¾ç¤ºã€‚çŒœæµ‹æ˜¯winedbgå¯¹å†…æ ¸çš„debugæ”¯æŒçš„ä¸å¥½ã€‚ç›´æ¥ç”¨gdbè°ƒè¯•å§ã€‚</li>
<li>ğŸŒ±gdb: </li>
</ul>
</li>
<li>
<p>winxp</p>
<ul>
<li>
<p>windbg/ollydbgï¼šå‚è€ƒ<a href="https://stackoverflow.com/questions/19269350/how-to-generate-pdb-files-while-building-library-using-mingw">how to generate pdb files while building library using mingw?</a>ï¼Œéœ€è¦pdbç¬¦å·æ–‡ä»¶å’Œgnu(mingw)çš„<code>-g</code>ä¸ä¸€æ ·ï¼Œéœ€è¦ç”¨vcç¼–è¯‘ï¼Œä½†notepadæºç æ˜¯ç”¨mingwçš„Makefileå†™çš„ã€‚</p>
<ul>
<li>æŠŠmingwç¼–è¯‘å‡ºæ¥çš„notepadä¸­çš„debugä¿¡æ¯è½¬æ¢æˆwindbgå¯ä»¥è¯†åˆ«çš„pdbæ–‡ä»¶</li>
</ul>
</li>
<li>
<p>gdb</p>
<ul>
<li>
<p>ç›´æ¥ä¸‹è½½binæ–‡ä»¶ç¼ºå„ç§ä¾èµ–æ— æ³•è¿è¡Œ</p>
<ul>
<li>ğŸŒŸç¼ºå•¥dllè£…å•¥dllï¼Œæ·»åŠ äº†9ä¸ªdllæœ€ç»ˆå¯ä»¥è¿è¡Œgdbäº†ğŸŒŸ</li>
</ul>
</li>
<li>
<p>ç”¨mingw-getï¼ˆå‘½ä»¤è¡Œï¼‰å®‰è£…ç½‘ç»œå®Œå…¨è¿ä¸ä¸Šï¼Œ<a href="https://superuser.com/questions/434686/where-can-i-find-system-proxy-settings">Where can I find â€œsystem proxy settingsâ€?</a></p>
<p><a href="https://superuser.com/questions/ask">Ask Question</a>ï¼Œwinxpçš„ç³»ç»Ÿä»£ç†ï¼ˆIEé‡Œè®¾ç½®ï¼‰ä¼¼ä¹ä¸ç®¡ç”¨ï¼ŒIEå¯ä»¥æ­£å¸¸è®¿é—®googleã€‚<strong>æ³¨</strong>ï¼švirtualboxç½‘ç»œè®¾ç½®ä¸ºNATï¼Œwinxpçš„ipconfigå‘½ä»¤å¯ä»¥çœ‹åˆ°å®¿ä¸»æœºipåº”è¯¥æ˜¯10.0.2.2ã€‚</p>
</li>
<li>
<p>ç”¨mingw-get-setupï¼ˆå›¾å½¢ç•Œé¢ï¼‰å’Œå‘½ä»¤è¡ŒæŠ¥é”™ä¸€æ¨¡ä¸€æ ·</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="text-align:right; font-size:3em;">2020.11.20</div>
<h2 id="winå†…æ ¸debug"><a class="header" href="#winå†…æ ¸debug">Winå†…æ ¸debug</a></h2>
<p>å‚è€ƒ<a href="https://stackoverflow.com/questions/12696825/debugging-windows-kernel-from-linux">Debugging Windows Kernel from Linux</a>ï¼Œ<strong>æ³¨</strong>ï¼šdebuggeråˆ›å»ºpipeï¼Œdebuggeeè¿æ¥pipeã€‚</p>
<div style="text-align:right; font-size:3em;">2020.11.30</div>
<h3 id="dllå†…éƒ¨å‡½æ•°"><a class="header" href="#dllå†…éƒ¨å‡½æ•°">dllå†…éƒ¨å‡½æ•°</a></h3>
<ul>
<li>
<p>ç”¨æˆ·æ€è°ƒè°ƒè¯•ç”¨æˆ·æ€</p>
<p>å› ä¸ºçœ‹ä¸åˆ°dllå†…éƒ¨çš„å‡½æ•°ï¼ˆå’Œexportç›¸å¯¹ç«‹ï¼‰ï¼Œä»¥ä¸ºéœ€è¦å†…æ ¸æ€æ‰èƒ½çœ‹åˆ°å“¦ï¼Œæ‰€ä»¥å°è¯•å»ç”¨å†…æ ¸æ€è°ƒè¯•ã€‚</p>
</li>
<li>
<p>å†…æ ¸æ€è°ƒè¯•ç”¨æˆ·æ€</p>
<p><strong>æ³¨</strong>ï¼šå‚è€ƒ<a href="https://blog.csdn.net/lixiangminghate/article/details/52847658">ç”¨windbgå†…æ ¸æ¨¡å¼è°ƒè¯•ç”¨æˆ·æ€ç¨‹åº</a>å‘ç°ï¼šè¯¸å¤šå†…æ ¸debugæŒ‡ä»¤åœ¨<a href="http://windbg.info/doc/1-common-cmds.html">Common WinDbg Commands</a>é‡Œæ²¡æœ‰ã€‚</p>
<p>å†…æ ¸æ€ç»“æœä¸€æ ·çœ‹ä¸åˆ°ã€‚å¼ºåˆ¶é‡æ–°åŠ è½½ä¸è¡Œï¼Œ<code>.reload /f &lt;module&gt;</code>ã€‚</p>
</li>
</ul>
<p>å‚è€ƒ<a href="https://blog.csdn.net/cssxn/article/details/101371417">æ‰‹åŠ¨åŠ è½½PDBç¬¦å·æ–‡ä»¶</a>å¯ä»¥ç”¨<code>!sym noisy</code>æç¤ºåŠ è½½ç¬¦å·çš„å¾ˆå¤šé”™è¯¯ä¿¡æ¯ï¼æŠ¥é”™ä¿¡æ¯æ˜¯<code>mismatched pdb</code>ã€‚ç”±æ­¤å‘ç°çš„é—®é¢˜æ˜¯<span style="background:red; color:white; font-weight: bold;">dllå’Œpdbä¸åŒ¹é…ï¼</span></p>
<p>ä¾ç¨€è®°å¾—ä¹‹å‰åœ¨æŸä¸ªåœ°æ–¹çœ‹åˆ°è¿‡ï¼Œä¸ºäº†ä¿è¯è°ƒè¯•ä¿¡æ¯ï¼ˆpdbï¼‰å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆdllå’Œexeï¼‰å¯¹åº”ï¼Œå­˜åœ¨ä¸€ä¸ªpdbåŒ¹é…æœºåˆ¶çš„ã€‚</p>
<p>å¤§æ¦‚éœ€è¦è‡ªå·±ç¼–è¯‘ä¸€éwindowsæ‰å¥½å§ã€‚ç¼–è¯‘windowsè¿™ä¸ªåå§‹ç»ˆå¾—è¿ˆè¿‡å»ã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.01</div>
<p><code>binaries.x86fre/</code>æ–‡ä»¶å¤¹é‡Œçš„dllå’Œ<code>WINDOWS/system32/</code>é‡Œçš„dllçš„å¤§å°ä¸€æ¨¡ä¸€æ ·ï¼Œæˆ‘ä»¥ä¸ºæ–‡ä»¶æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯ç”¨<code>diff -s</code>æ¯”è¾ƒç«Ÿç„¶ä¸ä¸€æ ·ï¼Œå°è¯•ç€ç”¨å‰è€…è¦†ç›–åè€…ï¼Œpdbæ–‡ä»¶å°±å¯ä»¥åŠ è½½ä¸Šäº†ï¼å¤§æ¦‚ç›®å‰å¯ä»¥ä¸ç”¨é‡æ–°ç¼–è¯‘windowsï¼ç›´æ¥ç”¨<code>binaries.x86fre/</code>çš„dllè¦†ç›–<code>WINDOWS/system32/</code>å°±å¥½äº†ã€‚</p>
<p>æ‰€ä»¥ä¸æ˜¯å†…æ ¸è°ƒè¯•å’Œç”¨æˆ·è°ƒè¯•çš„é—®é¢˜ï¼Œè€Œæ˜¯åŠ è½½ç¬¦å·ä¿¡æ¯çš„é—®é¢˜ã€‚</p>
<h2 id="åŠ è½½comdlgç¬¦å·"><a class="header" href="#åŠ è½½comdlgç¬¦å·">åŠ è½½comdlgç¬¦å·</a></h2>
<p>comdlg32çš„<code>g_hinst</code>æ¥è‡ªäº<code>init.c</code>çš„<code>LibMain</code>ï¼Œåœ¨<code>sources.inc</code>é‡Œå£°æ˜ä¸ºdllçš„å…¥å£å‡½æ•°ã€‚å…¥å£å‡½æ•°çš„å‚æ•°æ˜¯è¿è¡Œç¯å¢ƒç»™çš„ï¼Œè§<a href="https://docs.microsoft.com/en-us/windows/win32/dlls/dllmain">DllMain entry point</a>ã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.02</div>
<p>comctl32æœ‰ç‚¹ç‰¹æ®Šï¼Œç”¨çš„æ˜¯<code>C:\WINDOWS\WinSxS\x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.100.0_x-ww_8417450B\comctl32.dll</code>ï¼Œæ²¡æœ‰å¯¹åº”çš„pdbæ–‡ä»¶ã€‚</p>
<p>ç”¨<code>binaries.x86fre/winsxs/x86_Microsoft.Windows.Common-Controls_6595b64144ccf1df_6.0.100.0_x-ww_8417450B/comctl32.dll</code>æ›¿æ¢å°±å¥½äº†ï¼ï¼ï¼</p>
<p>å¾ˆæœ‰æ„æ€ï¼ï¼ï¼åŸå› ä¸æ˜ï¼Œä¸ºå•¥åŒä¸€ä¸ªcomctl32ä¼šæœ‰è¿™ä¹ˆå¤šç‰ˆæœ¬ï¼Ÿå¾ˆå¤šdlléƒ½æœ‰å¾ˆå¤šç‰ˆæœ¬ã€‚</p>
<p>å‘½ä»¤<code>sxe ld:tinypdf.dll</code>å’Œ<code>sxe ld:tinypdf2.dll</code>å½“åŠ è½½tinypdf.dllå’Œtinypdf2.dllæ—¶åœä¸‹æ¥ã€‚</p>
<p>âœ…<span style="background: green; color: white; font-weight: bold;">æ‰“å°å‡ºåŠ è½½tinypdf.dllæ—¶å€™çš„è°ƒç”¨æ ˆï¼Œé‡Œè¾¹å®Œå…¨æ²¡æœ‰å‡ºç°notepadã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿæ­¤æ—¶åªæœ‰ä¸€ä¸ªè¿›ç¨‹å’Œä¸€ä¸ªçº¿ç¨‹ã€‚</span></p>
<p><strong>çŒœæµ‹</strong>ï¼š</p>
<ul>
<li>notepadèµ°ç³»ç»Ÿè°ƒç”¨å®Œæˆçš„å·¥ä½œï¼Œæ‰€ä»¥åœ¨ç”¨æˆ·è°ƒç”¨æ ˆé‡Œçœ‹ä¸åˆ°ã€‚</li>
<li>windbgä¸å¯é ï¼Œå®ƒè‡ªå·±æŠ¥é”™ä¸º<code>Stack unwind information not available. Following frames may be wrong</code></li>
</ul>
<p><strong>å·²è§£å†³</strong>ï¼šæŠŠæ‰€æœ‰ç›¸å…³çš„dllçš„ç¬¦å·ä¿¡æ¯æ·»åŠ ä¸Šå°±å¥½äº†ã€‚ï¼ˆæŠŠdllæ›¿æ¢æˆæœ‰pdbå¯¹åº”çš„ç‰ˆæœ¬ï¼‰</p>
<div style="text-align:right; font-size:3em;">2020.12.03</div>
<h2 id="tinypdf"><a class="header" href="#tinypdf">tinypdf</a></h2>
<p><del>é€šè¿‡<code>sxe ld:tinypdf.dll</code>å’Œ<code>sxe ld:tinypdf2.dll</code>åœåœ¨åŠ è½½è¿™ä¿©dllæ—¶ï¼Œè°ƒç”¨æ ˆå¦‚ä¸‹ï¼Œ</del></p>
<p>é€šè¿‡<code>sxe ld</code>å‘ç°è¿˜ä¼šåŠ è½½tinypdf1.dllï¼Œåœ¨**åŒä¸€æ¬¡windbgç¯å¢ƒé‡Œï¼ˆè°ƒç”¨æ ˆç›¸åŒï¼‰**é¡ºåºä¾æ¬¡ä¸ºtinypdf2, tinypdf, tinypdf1ï¼Œå¦‚ä¸‹ï¼Œ</p>
<h3 id="tinypdf2dll"><a class="header" href="#tinypdf2dll">tinypdf2.dll</a></h3>
<pre><code>ChildEBP RetAddr  
0006e2d0 77f4be04 SharedUserData!SystemCallStub+0x4
0006e2d4 77f57b8e ntdll!ZwMapViewOfSection(void)+0xc [c:\srv03rtm\base\ntdll\daytona\obj\i386\usrstubs.asm @ 1027]
0006e3c4 77f511df ntdll!LdrpMapDll(
			unsigned short * DllPath = 0x0009a960, 
			unsigned short * DllName = 0x0006e3f0, 
			unsigned long * DllCharacteristics = 0x0006e904, 
			unsigned char StaticLink = 0x00 '', 
			unsigned char Redirected = 0x00 '', 
			struct _LDR_DATA_TABLE_ENTRY ** LdrDataTableEntry = 0x0006e634)+0x75a [c:\srv03rtm\base\ntdll\ldrsnap.c @ 2781]
0006e650 77f472df ntdll!LdrpLoadDll(
			unsigned long Flags = 0, 
			unsigned short * DllPath = 0x0009a960, 
			unsigned long * DllCharacteristics = 0x0006e904, 
			struct _UNICODE_STRING * DllName = 0x0006e8e4 &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf2.dll&quot;, 
			void ** DllHandle = 0x0006e900, 
			unsigned char RunInitRoutines = 0x01 '')+0x16f [c:\srv03rtm\base\ntdll\ldrapi.c @ 385]
0006e8b8 77e7439f ntdll!LdrLoadDll(
			unsigned short * DllPath = 0x0009a960, 
			unsigned long * DllCharacteristics = 0x0006e904, 
			struct _UNICODE_STRING * DllName = 0x0006e8e4 &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf2.dll&quot;, 
			void ** DllHandle = 0x0006e900)+0x133 [c:\srv03rtm\base\ntdll\ldrapi.c @ 219]
0006e920 73159904 kernel32!LoadLibraryExW(
			unsigned short * lpwLibFileName = 0x0006ec0a, 
			void * hFile = 0x00000000, 
			unsigned long dwFlags = 8)+0x1af [c:\srv03rtm\base\win32\client\module.c @ 506]
0006e940 7315c83b WINSPOOL!LoadNewCopy(
			unsigned short * pConfigFile = 0x0006ec0a, 
			unsigned long dwFlags = 8, 
			unsigned long dwVersion = 0)+0x27 [c:\srv03rtm\printscan\print\spooler\spoolss\client\winspool.c @ 5452]
0006e95c 7315c92e WINSPOOL!RefCntLoadDriver(
			unsigned short * pConfigFile = 0x0006ec0a, 
			unsigned long dwFlags = 8, 
			unsigned long dwVersion = 0, 
			int bUseVersion = 0n1)+0x42 [c:\srv03rtm\printscan\print\spooler\spoolss\client\winspool.c @ 5578]
0006ed88 73156a44 WINSPOOL!LoadPrinterDriver(
			void * hPrinter = 0x0009632c)+0x88 [c:\srv03rtm\printscan\print\spooler\spoolss\client\winspool.c @ 5722]
0006eda4 7315ca3a WINSPOOL!DocumentPropertySheets(
			struct _PROPSHEETUI_INFO * pCPSUIInfo = 0x00000000, 
			long lParam = 0n454072)+0x11e [c:\srv03rtm\printscan\print\spooler\spoolss\client\prop.c @ 591]
0006eddc 76339ccc WINSPOOL!DocumentPropertiesWNative(
			void * hWnd = 0x000700f2, 
			void * hPrinter = 0x0009632c, 
			unsigned short * pDeviceName = 0x0009c1dc, 
			struct _devicemodeW * pDevModeOutput = 0x00000000, 
			struct _devicemodeW * pDevModeInput = 0x00000000, 
			unsigned long fMode = 0)+0xe4 [c:\srv03rtm\printscan\print\spooler\spoolss\client\winspool.c @ 5892]
0006f244 7633a0d9 comdlg32!PrintDlgX(
			struct PRINTINFO * pPI = 0x00096200)+0x2f7 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 525]
0006f28c 7633ad01 comdlg32!PageSetupDlgX(
			struct PRINTINFO * pPI = 0x0006f2a0)+0x1af [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 1031]
0006f740 01005c41 comdlg32!PageSetupDlgW(
			struct tagPSDW * pPSD = 0x0100a4a0)+0x41 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 835]
0006f7ac 01006ab9 notepad!GetPrinterDCviaDialog(void)+0x2e [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 283]
0006f7b4 01006aee notepad!NpPrint(
			_PRINT_DIALOG_TYPE type = 0n16788912 (No matching enumerant))+0x2f [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 381]
0006fae8 01002db0 notepad!PrintIt(
			_PRINT_DIALOG_TYPE type = UseDialog (0n0))+0x1a [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
0006fd58 010037e1 notepad!NPCommand(
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
0006fd7c 77d38403 notepad!NPWndProc(
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x4fc [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1348]
0006fda8 77d3ddde USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006fe20 77d1470f USER32!UserCallWinProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x010032e5, 
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int msg = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			void * pww = 0x0046d05c, 
			int fEnableLiteHooks = 0n1)+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006fe7c 77d14924 USER32!DispatchClientMessage(
			struct tagWND * pwnd = 0x0046d048, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			unsigned long pfn = 0x10032e5)+0xd9 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 3037]
0006fea4 77f66dbf USER32!__fnDWORD(
			struct _FNDWORDMSG * pmsg = 0x0006feb4)+0x22 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 639]
0006fec8 77d5c2ec ntdll!KiUserCallbackDispatcher(void)+0x13 [C:\srv03rtm\base\ntos\rtl\i386\userdisp.asm @ 153]
0006fecc 77d19845 USER32!NtUserTranslateAccelerator(
			int a1 = 0n16777216, 
			int a2 = 0n0, 
			int a3 = 0n597750)+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 4619]
0006fedc 01002927 USER32!TranslateAcceleratorW(
			struct HWND__ * hwnd = 0x010070f0, 
			struct HACCEL__ * hAccel = 0x01000000, 
			struct tagMSG * lpMsg = 0x00000000)+0x33 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 236]
0006ff1c 010070f0 notepad!WinMain(
			struct HINSTANCE__ * hInstance = 0x01000000, 
			struct HINSTANCE__ * hPrevInstance = 0x00000000, 
			char * lpAnsiCmdLine = 0x00091ef6 &quot;&quot;, 
			int cmdShow = 0n10)+0xc2 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1522]
0006ffc0 77e7d5ba notepad!WinMainCRTStartup(void)+0x182 [c:\srv03rtm\base\crts\crtw32\dllstuff\crtexe.c @ 493]
0006fff0 00000000 kernel32!BaseProcessStart(
			&lt;function&gt; * lpStartAddress = 0x01006f6e)+0x23 [c:\srv03rtm\base\win32\client\support.c @ 580]
</code></pre>
<h3 id="tinypdfdll--tinypdf1dll"><a class="header" href="#tinypdfdll--tinypdf1dll">tinypdf.dll &amp; tinypdf1.dll</a></h3>
<p>tinypdf.dll</p>
<pre><code>ChildEBP RetAddr  
0006d6ec 77f4be04 SharedUserData!SystemCallStub+0x4
0006d6f0 77f57767 ntdll!ZwMapViewOfSection(void)+0xc [c:\srv03rtm\base\ntdll\daytona\obj\i386\usrstubs.asm @ 1027]
0006d7e0 77f57fd7 ntdll!LdrpMapDll(
			unsigned short * DllPath = 0x0009be08, 
			unsigned short * DllName = 0x7ffdec00, 
			unsigned long * DllCharacteristics = 0x00000000, 
			unsigned char StaticLink = 0x01 '', 
			unsigned char Redirected = 0x00 '', 
			struct _LDR_DATA_TABLE_ENTRY ** LdrDataTableEntry = 0x0006da58)+0x333 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 2290]
0006da34 77f58635 ntdll!LdrpLoadImportModule(
			unsigned short * DllPath = 0x0009be08, 
			char * ImportName = 0x008e7fbc &quot;tinypdf1.dll&quot;, 
			struct _LDR_DATA_TABLE_ENTRY ** DataTableEntry = 0x0006da58, 
			unsigned char * AlreadyLoaded = 0x0006da5f &quot;&quot;)+0x10f [c:\srv03rtm\base\ntdll\ldrsnap.c @ 254]
0006da60 77f586f2 ntdll!LdrpHandleOneOldFormatImportDescriptor(
			unsigned short * DllPath = 0x0009be08, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70, 
			struct _IMAGE_IMPORT_DESCRIPTOR ** ImportDescriptorInOut = 0x0006da84)+0x59 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 530]
0006da74 77f46427 ntdll!LdrpHandleOldFormatImportDescriptors(
			unsigned short * DllPath = 0x0009be08, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70, 
			struct _IMAGE_IMPORT_DESCRIPTOR * ImportDescriptor = 0x008e7938)+0x1a [c:\srv03rtm\base\ntdll\ldrsnap.c @ 601]
0006dafc 77f5122f ntdll!LdrpWalkImportDescriptor(
			unsigned short * DllPath = 0x0009be08, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70)+0x1a5 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 848]
0006dd78 77f472df ntdll!LdrpLoadDll(
			unsigned long Flags = 0, 
			unsigned short * DllPath = 0x0009be08, 
			unsigned long * DllCharacteristics = 0x0006e02c, 
			struct _UNICODE_STRING * DllName = 0x0006e00c &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf.dll&quot;, 
			void ** DllHandle = 0x0006e028, 
			unsigned char RunInitRoutines = 0x01 '')+0x1bf [c:\srv03rtm\base\ntdll\ldrapi.c @ 426]
0006dfe0 77e7439f ntdll!LdrLoadDll(
			unsigned short * DllPath = 0x0009be08, 
			unsigned long * DllCharacteristics = 0x0006e02c, 
			struct _UNICODE_STRING * DllName = 0x0006e00c &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf.dll&quot;, 
			void ** DllHandle = 0x0006e028)+0x133 [c:\srv03rtm\base\ntdll\ldrapi.c @ 219]
0006e048 77c6374d kernel32!LoadLibraryExW(
			unsigned short * lpwLibFileName = 0x0009aeea, 
			void * hFile = 0x00000000, 
			unsigned long dwFlags = 8)+0x1af [c:\srv03rtm\base\win32\client\module.c @ 506]
0006e080 77c63890 GDI32!LoadUserModePrinterDriverEx(
			struct _DRIVER_INFO_5W * pDriverInfo5 = 0x0009b8f8, 
			unsigned short * pwstrPrinterName = 0x0009bfe8, 
			struct _UMPD ** ppUMPD = 0x0006e0f8, 
			struct _PRINTER_DEFAULTSW * pdefaults = 0x0006e0dc, 
			void * hPrinter = 0x00099474)+0xff [c:\srv03rtm\windows\core\ntgdi\client\umpd.cxx @ 429]
0006e0a8 77c3bf56 GDI32!LoadUserModePrinterDriver(
			void * hPrinter = 0x00099474, 
			unsigned short * pwstrPrinterName = 0x0009bfe8, 
			struct _UMPD ** ppUMPD = 0x0006e0f8, 
			struct _PRINTER_DEFAULTSW * pdefaults = 0x0006e0dc)+0x3f [c:\srv03rtm\windows\core\ntgdi\client\umpd.cxx @ 544]
0006e108 77c3ccbf GDI32!hdcCreateDCW(
			struct _UNICODE_STRING * pustrDevice = 0x0006e12c &quot;TinyPDF&quot;, 
			struct _UNICODE_STRING * pustrPort = 0x00000000, 
			struct _devicemodeW * pdm = 0x0009bfe8, 
			int bDisplay = 0n0, 
			int bIC = 0n1)+0x8b [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 392]
0006e140 77c3ccda GDI32!bCreateDCW(
			unsigned short * pszDriver = 0x00000000, 
			unsigned short * pszDevice = 0x0009bfe8, 
			unsigned short * pszPort = 0x00000000, 
			struct _devicemodeW * pdm = 0x0009bfe8, 
			int bIC = 0n1)+0xb4 [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 739]
0006e158 76333eed GDI32!CreateICW(
			unsigned short * pwszDriver = 0x76337777, 
			unsigned short * pwszDevice = 0x000600de, 
			unsigned short * pwszPort = 0x0006f2a0, 
			struct _devicemodeW * pdm = 0x0009bfe8)+0x17 [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 931]
0006e1a4 76337777 comdlg32!PrintSetMinMargins(
			struct HWND__ * hDlg = 0x000600de, 
			struct PRINTINFO * pPI = 0x0006f2a0, 
			struct _devicemodeW * pDM = 0x0009bfe8)+0xd7 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 4490]
0006e240 76337d32 comdlg32!PrintUpdatePageSetup(
			struct HWND__ * hDlg = 0x000600de, 
			struct PRINTINFO * pPI = 0x0000002a, 
			struct _devicemodeW * pDM = 0x0009bfe8, 
			unsigned int uiOldId = 0x420, 
			unsigned int uiNewId = 3)+0x401 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 7179]
0006e25c 7633820e comdlg32!PrintSetOrientation(
			struct HWND__ * hDlg = 0x000600de, 
			struct PRINTINFO * pPI = 0x0006f2a0, 
			struct _devicemodeW * pDM = 0x0009bfe8, 
			unsigned int uiOldId = 0x420, 
			unsigned int uiNewId = 0x420)+0x93 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 6893]
0006ea94 7633aa12 comdlg32!PrintInitSetupDlg(
			struct HWND__ * hDlg = 0x00096200, 
			unsigned int wParam = 0x100a4a0, 
			struct PRINTINFO * pPI = 0x00000002)+0xd0 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 3916]
0006eac8 77d38403 comdlg32!PrintSetupDlgProc(
			struct HWND__ * hDlg = 0x000600de, 
			unsigned int wMsg = 0x110, 
			unsigned int wParam = 0x1015a, 
			long lParam = 0n0)+0x8eb [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 2268]
0006eaf4 77d3deef USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006eb70 77d273b3 USER32!UserCallDlgProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x7633a127, 
			struct HWND__ * hwnd = 0x000600de, 
			unsigned int msg = 0x110, 
			unsigned int wParam = 0x1015a, 
			long lParam = 0n455328, 
			void * pww = 0x0046f114, 
			int * pret = 0x0006ebc0)+0xf1 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 218]
0006ebb8 77d375c2 USER32!DefDlgProcWorker(
			struct tagWND * pwnd = 0x00000000, 
			unsigned int message = 0x110, 
			unsigned int wParam = 0x1015a, 
			long lParam = 0n455328, 
			unsigned long fAnsi = 0)+0xa6 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 511]
0006ebd0 77d38403 USER32!DefDlgProcW(
			struct HWND__ * hwnd = 0x77d3ddde, 
			unsigned int message = 0x77d375a1, 
			unsigned int wParam = 0x600de, 
			long lParam = 0n272)+0x21 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 1021]
0006ebfc 77d3ddde USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006ec74 77d157f6 USER32!UserCallWinProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x77d375a1, 
			struct HWND__ * hwnd = 0x000600de, 
			unsigned int msg = 0x110, 
			unsigned int wParam = 0x1015a, 
			long lParam = 0n455328, 
			void * pww = 0x0046f114, 
			int fEnableLiteHooks = 0n1)+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006ecb0 77d28481 USER32!SendMessageWorker(
			struct tagWND * pwnd = 0x0046f100, 
			unsigned int message = 0x46be80, 
			unsigned int wParam = 0x1015a, 
			long lParam = 0n455328, 
			int fAnsi = 0n0)+0x4bb [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 697]
0006ed68 77d45834 USER32!InternalCreateDialog(
			void * hmod = 0x01000000, 
			struct DLGTEMPLATE * lpdt = 0x0046f100, 
			unsigned long cb = 0, 
			struct HWND__ * hwndOwner = 0x000600de, 
			&lt;function&gt; * lpfnDialog = 0x7633a127, 
			long lParam = 0n455328, 
			unsigned int fSCDLGFlags = 1)+0x9c9 [c:\srv03rtm\windows\core\ntuser\client\dlgbegin.c @ 1309]
0006ed9c 77d369db USER32!InternalDialogBox(
			void * hModule = 0x01000000, 
			struct DLGTEMPLATE * lpdt = 0x01012088, 
			struct HWND__ * hwndOwner = 0x00050138, 
			&lt;function&gt; * pfnDialog = 0x7633a127, 
			long lParam = 0n455328, 
			unsigned int fSCDLGFlags = 1)+0xa7 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 1339]
0006edbc 76335352 USER32!DialogBoxIndirectParamAorW(
			struct HINSTANCE__ * hmod = 0x01000000, 
			struct DLGTEMPLATE * lpDlgTemplate = 0x01012088, 
			struct HWND__ * hwndOwner = 0x00050138, 
			&lt;function&gt; * lpDialogFunc = 0x7633a127, 
			long dwInitParam = 0n455328, 
			unsigned int fAnsiFlags = 0)+0x35 [c:\srv03rtm\windows\core\ntuser\client\clres.c @ 806]
0006edf0 76339e97 comdlg32!PrintDisplaySetupDlg(
			struct PRINTINFO * pPI = 0x01000000)+0xe1 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 1353]
0006f244 7633a0d9 comdlg32!PrintDlgX(
			struct PRINTINFO * pPI = 0x00096200)+0x4c2 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 620]
0006f28c 7633ad01 comdlg32!PageSetupDlgX(
			struct PRINTINFO * pPI = 0x0006f2a0)+0x1af [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 1031]
0006f740 01005c41 comdlg32!PageSetupDlgW(
			struct tagPSDW * pPSD = 0x0100a4a0)+0x41 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 835]
0006f7ac 01006ab9 notepad!GetPrinterDCviaDialog(void)+0x2e [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 283]
0006f7b4 01006aee notepad!NpPrint(
			_PRINT_DIALOG_TYPE type = 0n16788912 (No matching enumerant))+0x2f [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 381]
0006fae8 01002db0 notepad!PrintIt(
			_PRINT_DIALOG_TYPE type = UseDialog (0n0))+0x1a [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
0006fd58 010037e1 notepad!NPCommand(
			struct HWND__ * hwnd = 0x00050138, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
0006fd7c 77d38403 notepad!NPWndProc(
			struct HWND__ * hwnd = 0x00050138, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x4fc [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1348]
0006fda8 77d3ddde USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006fe20 77d1470f USER32!UserCallWinProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x010032e5, 
			struct HWND__ * hwnd = 0x00050138, 
			unsigned int msg = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			void * pww = 0x0046c724, 
			int fEnableLiteHooks = 0n1)+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006fe7c 77d14924 USER32!DispatchClientMessage(
			struct tagWND * pwnd = 0x0046c710, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			unsigned long pfn = 0x10032e5)+0xd9 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 3037]
0006fea4 77f66dbf USER32!__fnDWORD(
			struct _FNDWORDMSG * pmsg = 0x0006feb4)+0x22 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 639]
0006fec8 77d5c2ec ntdll!KiUserCallbackDispatcher(void)+0x13 [C:\srv03rtm\base\ntos\rtl\i386\userdisp.asm @ 153]
0006fecc 77d19845 USER32!NtUserTranslateAccelerator(
			int a1 = 0n16777216, 
			int a2 = 0n0, 
			int a3 = 0n597750)+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 4619]
0006fedc 01002927 USER32!TranslateAcceleratorW(
			struct HWND__ * hwnd = 0x010070f0, 
			struct HACCEL__ * hAccel = 0x01000000, 
			struct tagMSG * lpMsg = 0x00000000)+0x33 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 236]
0006ff1c 010070f0 notepad!WinMain(
			struct HINSTANCE__ * hInstance = 0x01000000, 
			struct HINSTANCE__ * hPrevInstance = 0x00000000, 
			char * lpAnsiCmdLine = 0x00091ef6 &quot;&quot;, 
			int cmdShow = 0n10)+0xc2 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1522]
0006ffc0 77e7d5ba notepad!WinMainCRTStartup(void)+0x182 [c:\srv03rtm\base\crts\crtw32\dllstuff\crtexe.c @ 493]
0006fff0 00000000 kernel32!BaseProcessStart(
			&lt;function&gt; * lpStartAddress = 0x01006f6e)+0x23 [c:\srv03rtm\base\win32\client\support.c @ 580]
</code></pre>
<p>tinypdf1.dll</p>
<pre><code>ChildEBP RetAddr  
0006d6ec 77f4be04 SharedUserData!SystemCallStub+0x4
0006d6f0 77f57767 ntdll!ZwMapViewOfSection(void)+0xc [c:\srv03rtm\base\ntdll\daytona\obj\i386\usrstubs.asm @ 1027]
0006d7e0 77f57fd7 ntdll!LdrpMapDll(
			unsigned short * DllPath = 0x0009b950, 
			unsigned short * DllName = 0x7ffdec00, 
			unsigned long * DllCharacteristics = 0x00000000, 
			unsigned char StaticLink = 0x01 '', 
			unsigned char Redirected = 0x00 '', 
			struct _LDR_DATA_TABLE_ENTRY ** LdrDataTableEntry = 0x0006da58)+0x333 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 2290]
0006da34 77f58635 ntdll!LdrpLoadImportModule(
			unsigned short * DllPath = 0x0009b950, 
			char * ImportName = 0x008e7fbc &quot;tinypdf1.dll&quot;, 
			struct _LDR_DATA_TABLE_ENTRY ** DataTableEntry = 0x0006da58, 
			unsigned char * AlreadyLoaded = 0x0006da5f &quot;&quot;)+0x10f [c:\srv03rtm\base\ntdll\ldrsnap.c @ 254]
0006da60 77f586f2 ntdll!LdrpHandleOneOldFormatImportDescriptor(
			unsigned short * DllPath = 0x0009b950, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70, 
			struct _IMAGE_IMPORT_DESCRIPTOR ** ImportDescriptorInOut = 0x0006da84)+0x59 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 530]
0006da74 77f46427 ntdll!LdrpHandleOldFormatImportDescriptors(
			unsigned short * DllPath = 0x0009b950, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70, 
			struct _IMAGE_IMPORT_DESCRIPTOR * ImportDescriptor = 0x008e7938)+0x1a [c:\srv03rtm\base\ntdll\ldrsnap.c @ 601]
0006dafc 77f5122f ntdll!LdrpWalkImportDescriptor(
			unsigned short * DllPath = 0x0009b950, 
			struct _LDR_DATA_TABLE_ENTRY * LdrDataTableEntry = 0x00192b70)+0x1a5 [c:\srv03rtm\base\ntdll\ldrsnap.c @ 848]
0006dd78 77f472df ntdll!LdrpLoadDll(
			unsigned long Flags = 0, 
			unsigned short * DllPath = 0x0009b950, 
			unsigned long * DllCharacteristics = 0x0006e02c, 
			struct _UNICODE_STRING * DllName = 0x0006e00c &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf.dll&quot;, 
			void ** DllHandle = 0x0006e028, 
			unsigned char RunInitRoutines = 0x01 '')+0x1bf [c:\srv03rtm\base\ntdll\ldrapi.c @ 426]
0006dfe0 77e7439f ntdll!LdrLoadDll(
			unsigned short * DllPath = 0x0009b950, 
			unsigned long * DllCharacteristics = 0x0006e02c, 
			struct _UNICODE_STRING * DllName = 0x0006e00c &quot;C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf.dll&quot;, 
			void ** DllHandle = 0x0006e028)+0x133 [c:\srv03rtm\base\ntdll\ldrapi.c @ 219]
0006e048 77c6374d kernel32!LoadLibraryExW(
			unsigned short * lpwLibFileName = 0x0009f012, 
			void * hFile = 0x00000000, 
			unsigned long dwFlags = 8)+0x1af [c:\srv03rtm\base\win32\client\module.c @ 506]
0006e080 77c63890 GDI32!LoadUserModePrinterDriverEx(
			struct _DRIVER_INFO_5W * pDriverInfo5 = 0x0009b440, 
			unsigned short * pwstrPrinterName = 0x0009c208, 
			struct _UMPD ** ppUMPD = 0x0006e0f8, 
			struct _PRINTER_DEFAULTSW * pdefaults = 0x0006e0dc, 
			void * hPrinter = 0x00099694)+0xff [c:\srv03rtm\windows\core\ntgdi\client\umpd.cxx @ 429]
0006e0a8 77c3bf56 GDI32!LoadUserModePrinterDriver(
			void * hPrinter = 0x00099694, 
			unsigned short * pwstrPrinterName = 0x0009c208, 
			struct _UMPD ** ppUMPD = 0x0006e0f8, 
			struct _PRINTER_DEFAULTSW * pdefaults = 0x0006e0dc)+0x3f [c:\srv03rtm\windows\core\ntgdi\client\umpd.cxx @ 544]
0006e108 77c3ccbf GDI32!hdcCreateDCW(
			struct _UNICODE_STRING * pustrDevice = 0x0006e12c &quot;TinyPDF&quot;, 
			struct _UNICODE_STRING * pustrPort = 0x00000000, 
			struct _devicemodeW * pdm = 0x0009c208, 
			int bDisplay = 0n0, 
			int bIC = 0n1)+0x8b [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 392]
0006e140 77c3ccda GDI32!bCreateDCW(
			unsigned short * pszDriver = 0x00000000, 
			unsigned short * pszDevice = 0x0009c208, 
			unsigned short * pszPort = 0x00000000, 
			struct _devicemodeW * pdm = 0x0009c208, 
			int bIC = 0n1)+0xb4 [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 739]
0006e158 76333eed GDI32!CreateICW(
			unsigned short * pwszDriver = 0x76337777, 
			unsigned short * pwszDevice = 0x000d00a0, 
			unsigned short * pwszPort = 0x0006f2a0, 
			struct _devicemodeW * pdm = 0x0009c208)+0x17 [c:\srv03rtm\windows\core\ntgdi\client\object.c @ 931]
0006e1a4 76337777 comdlg32!PrintSetMinMargins(
			struct HWND__ * hDlg = 0x000d00a0, 
			struct PRINTINFO * pPI = 0x0006f2a0, 
			struct _devicemodeW * pDM = 0x0009c208)+0xd7 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 4490]
0006e240 76337d32 comdlg32!PrintUpdatePageSetup(
			struct HWND__ * hDlg = 0x000d00a0, 
			struct PRINTINFO * pPI = 0x0000002a, 
			struct _devicemodeW * pDM = 0x0009c208, 
			unsigned int uiOldId = 0x420, 
			unsigned int uiNewId = 3)+0x401 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 7179]
0006e25c 7633820e comdlg32!PrintSetOrientation(
			struct HWND__ * hDlg = 0x000d00a0, 
			struct PRINTINFO * pPI = 0x0006f2a0, 
			struct _devicemodeW * pDM = 0x0009c208, 
			unsigned int uiOldId = 0x420, 
			unsigned int uiNewId = 0x420)+0x93 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 6893]
0006ea94 7633aa12 comdlg32!PrintInitSetupDlg(
			struct HWND__ * hDlg = 0x00096200, 
			unsigned int wParam = 0x100a4a0, 
			struct PRINTINFO * pPI = 0x00000002)+0xd0 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 3916]
0006eac8 77d38403 comdlg32!PrintSetupDlgProc(
			struct HWND__ * hDlg = 0x000d00a0, 
			unsigned int wMsg = 0x110, 
			unsigned int wParam = 0x600c0, 
			long lParam = 0n0)+0x8eb [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 2268]
0006eaf4 77d3deef USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006eb70 77d273b3 USER32!UserCallDlgProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x7633a127, 
			struct HWND__ * hwnd = 0x000d00a0, 
			unsigned int msg = 0x110, 
			unsigned int wParam = 0x600c0, 
			long lParam = 0n455328, 
			void * pww = 0x00483ea4, 
			int * pret = 0x0006ebc0)+0xf1 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 218]
0006ebb8 77d375c2 USER32!DefDlgProcWorker(
			struct tagWND * pwnd = 0x00000000, 
			unsigned int message = 0x110, 
			unsigned int wParam = 0x600c0, 
			long lParam = 0n455328, 
			unsigned long fAnsi = 0)+0xa6 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 511]
0006ebd0 77d38403 USER32!DefDlgProcW(
			struct HWND__ * hwnd = 0x77d3ddde, 
			unsigned int message = 0x77d375a1, 
			unsigned int wParam = 0xd00a0, 
			long lParam = 0n272)+0x21 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 1021]
0006ebfc 77d3ddde USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006ec74 77d157f6 USER32!UserCallWinProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x77d375a1, 
			struct HWND__ * hwnd = 0x000d00a0, 
			unsigned int msg = 0x110, 
			unsigned int wParam = 0x600c0, 
			long lParam = 0n455328, 
			void * pww = 0x00483ea4, 
			int fEnableLiteHooks = 0n1)+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006ecb0 77d28481 USER32!SendMessageWorker(
			struct tagWND * pwnd = 0x00483e90, 
			unsigned int message = 0x46d920, 
			unsigned int wParam = 0x600c0, 
			long lParam = 0n455328, 
			int fAnsi = 0n0)+0x4bb [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 697]
0006ed68 77d45834 USER32!InternalCreateDialog(
			void * hmod = 0x01000000, 
			struct DLGTEMPLATE * lpdt = 0x00483e90, 
			unsigned long cb = 0, 
			struct HWND__ * hwndOwner = 0x000d00a0, 
			&lt;function&gt; * lpfnDialog = 0x7633a127, 
			long lParam = 0n455328, 
			unsigned int fSCDLGFlags = 1)+0x9c9 [c:\srv03rtm\windows\core\ntuser\client\dlgbegin.c @ 1309]
0006ed9c 77d369db USER32!InternalDialogBox(
			void * hModule = 0x01000000, 
			struct DLGTEMPLATE * lpdt = 0x01012088, 
			struct HWND__ * hwndOwner = 0x000700f2, 
			&lt;function&gt; * pfnDialog = 0x7633a127, 
			long lParam = 0n455328, 
			unsigned int fSCDLGFlags = 1)+0xa7 [c:\srv03rtm\windows\core\ntuser\client\dlgmgr.c @ 1339]
0006edbc 76335352 USER32!DialogBoxIndirectParamAorW(
			struct HINSTANCE__ * hmod = 0x01000000, 
			struct DLGTEMPLATE * lpDlgTemplate = 0x01012088, 
			struct HWND__ * hwndOwner = 0x000700f2, 
			&lt;function&gt; * lpDialogFunc = 0x7633a127, 
			long dwInitParam = 0n455328, 
			unsigned int fAnsiFlags = 0)+0x35 [c:\srv03rtm\windows\core\ntuser\client\clres.c @ 806]
0006edf0 76339e97 comdlg32!PrintDisplaySetupDlg(
			struct PRINTINFO * pPI = 0x01000000)+0xe1 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 1353]
0006f244 7633a0d9 comdlg32!PrintDlgX(
			struct PRINTINFO * pPI = 0x00096200)+0x4c2 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 620]
0006f28c 7633ad01 comdlg32!PageSetupDlgX(
			struct PRINTINFO * pPI = 0x0006f2a0)+0x1af [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 1031]
0006f740 01005c41 comdlg32!PageSetupDlgW(
			struct tagPSDW * pPSD = 0x0100a4a0)+0x41 [c:\srv03rtm\shell\comdlg32\prnsetup.c @ 835]
0006f7ac 01006ab9 notepad!GetPrinterDCviaDialog(void)+0x2e [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 283]
0006f7b4 01006aee notepad!NpPrint(
			_PRINT_DIALOG_TYPE type = 0n16788912 (No matching enumerant))+0x2f [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 381]
0006fae8 01002db0 notepad!PrintIt(
			_PRINT_DIALOG_TYPE type = UseDialog (0n0))+0x1a [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
0006fd58 010037e1 notepad!NPCommand(
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
0006fd7c 77d38403 notepad!NPWndProc(
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0)+0x4fc [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1348]
0006fda8 77d3ddde USER32!InternalCallWinProc(void)+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006fe20 77d1470f USER32!UserCallWinProcCheckWow(
			struct _ACTIVATION_CONTEXT * pActCtx = 0x00000000, 
			&lt;function&gt; * pfn = 0x010032e5, 
			struct HWND__ * hwnd = 0x000700f2, 
			unsigned int msg = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			void * pww = 0x0046d05c, 
			int fEnableLiteHooks = 0n1)+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006fe7c 77d14924 USER32!DispatchClientMessage(
			struct tagWND * pwnd = 0x0046d048, 
			unsigned int message = 0x111, 
			unsigned int wParam = 0x10006, 
			long lParam = 0n0, 
			unsigned long pfn = 0x10032e5)+0xd9 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 3037]
0006fea4 77f66dbf USER32!__fnDWORD(
			struct _FNDWORDMSG * pmsg = 0x0006feb4)+0x22 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 639]
0006fec8 77d5c2ec ntdll!KiUserCallbackDispatcher(void)+0x13 [C:\srv03rtm\base\ntos\rtl\i386\userdisp.asm @ 153]
0006fecc 77d19845 USER32!NtUserTranslateAccelerator(
			int a1 = 0n16777216, 
			int a2 = 0n0, 
			int a3 = 0n597750)+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 4619]
0006fedc 01002927 USER32!TranslateAcceleratorW(
			struct HWND__ * hwnd = 0x010070f0, 
			struct HACCEL__ * hAccel = 0x01000000, 
			struct tagMSG * lpMsg = 0x00000000)+0x33 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 236]
0006ff1c 010070f0 notepad!WinMain(
			struct HINSTANCE__ * hInstance = 0x01000000, 
			struct HINSTANCE__ * hPrevInstance = 0x00000000, 
			char * lpAnsiCmdLine = 0x00091ef6 &quot;&quot;, 
			int cmdShow = 0n10)+0xc2 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1522]
0006ffc0 77e7d5ba notepad!WinMainCRTStartup(void)+0x182 [c:\srv03rtm\base\crts\crtw32\dllstuff\crtexe.c @ 493]
0006fff0 00000000 kernel32!BaseProcessStart(
			&lt;function&gt; * lpStartAddress = 0x01006f6e)+0x23 [c:\srv03rtm\base\win32\client\support.c @ 580]
</code></pre>
<p>2020.12.04ï¼šé€šè¿‡æ¯”è¾ƒï¼ˆmeldï¼‰ä¸Šé¢tinypdf.dllå’Œtinypdf1.dllçš„è°ƒç”¨æ ˆï¼Œå¤§æ¦‚æ¨æµ‹åœ¨<code>GDI!hdcCreateDCW</code>åˆ†å‰ã€‚ç”¨windbg<code>sxn ld</code>å‘ç°è¿™ä¸ªå‡½æ•°æ‰§è¡Œå®Œç¡®å®åŠ è½½äº†è¿™ä¿©dllã€‚å¤§è‡´è°ƒç”¨è·¯å¾„å¦‚ä¸‹ï¼Œ</p>
<ul>
<li><code>LoadUserModePrinterDriver(...)</code> @srv03rtm/windows/core/ntgdi/client/umpd.cxx
<ul>
<li><code>LoadUserModePrinterDriverEx(...)</code>
<ul>
<li><code>LoadLibraryExW(DriverPath, ...)</code>ï¼ŒDriverPathå­—ç¬¦ä¸²ç”¨<code>dW</code>æŒ‡ä»¤æ‰“å‡ºæ¥ï¼ˆæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•æ‰“å°å­—ç¬¦ä¸²ï¼Ÿï¼‰æ˜¯<code>C:\WINDOWS\system32\spool\DRIVERS\W32X86\3\tinypdf.dll</code>ã€‚å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexa">LoadLibraryExA function (libloaderapi.h)</a>ï¼ŒåŒæ—¶ä¼šåŠ è½½å®ƒç›¸å…³çš„dllï¼Œå› æ­¤åŠ è½½äº†<code>tingpdf1.dll</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>âœ…<span style="background: green; color:white; font-weight: bold;">å“ªé‡Œå¾ªç¯è°ƒç”¨çš„ï¼Ÿ</span>å†è£…ä¸€ä¸ªæ‰“å°é©±åŠ¨ï¼Œçœ‹ä¸¤æ¬¡è°ƒç”¨æ ˆåœ¨å“ªé‡Œåˆ†å‰çš„å°±å¥½ï¼</p>
<p>2020.12.04ï¼š<strong>ç­”</strong>ï¼šæ²¡æœ‰å¾ªç¯è°ƒç”¨è£…è½½æ‰€æœ‰æ‰“å°é©±åŠ¨ã€‚ç”¨<code>sxe ld</code>è¿½è¸ªæ‰€æœ‰åŠ è½½dllçš„äº‹ä»¶èƒ½å¤Ÿçœ‹çš„å¾ˆæ¸…æ™°ã€‚ä¸Šä¸€æ¬¡ä½¿ç”¨çš„æ‰“å°æœºä¼šæˆä¸ºé»˜è®¤æ‰“å°æœºï¼Œåªä¼šåŠ è½½é»˜è®¤æ‰“å°æœºã€‚å½“é€‰æ‹©å…¶ä»–æ‰“å°æœºå›¾æ—¶æ‰ä¼šå»åŠ è½½å¯¹åº”çš„æ‰“å°é©±åŠ¨ã€‚</p>
<p>åˆ‡æ¢è°ƒç”¨æ ˆå¸§ç”¨<code>.frame &lt;frame index&gt;</code>æŒ‡ä»¤ã€‚</p>
<p>windbgè¾“å‡ºå˜é‡ä¿¡æ¯å‚è€ƒ<a href="https://www.bojankomazec.com/2011/08/some-windbg-commands-for-memory-dump.html">Some WinDbg commands for memory dump analysis</a>ï¼Œä½¿ç”¨<code>dt</code>æŒ‡ä»¤ï¼Œè¯¦ç»†è§windbgé™„å¸¦çš„æ‰‹å†Œã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.04</div>
<h2 id="æ‰€æœ‰æ‰“å°æœº"><a class="header" href="#æ‰€æœ‰æ‰“å°æœº">æ‰€æœ‰æ‰“å°æœº</a></h2>
<p>æ—¢ç„¶åªè£…äº†é»˜è®¤æ‰“å°æœºé©±åŠ¨å’Œæ‰€æœ‰æ‰“å°æœºçš„å›¾æ ‡ï¼Œé‚£ä¹ˆæ‰€æœ‰æ‰“å°æœºçš„ä¿¡æ¯æ˜¯é›†ä¸­å­˜æ”¾åœ¨å“ªé‡Œçš„ï¼Ÿ</p>
<h3 id="ä»ç¬¬ä¸€æ¬¡åŠ è½½é©±åŠ¨å…¥æ‰‹"><a class="header" href="#ä»ç¬¬ä¸€æ¬¡åŠ è½½é©±åŠ¨å…¥æ‰‹">ä»ç¬¬ä¸€æ¬¡åŠ è½½é©±åŠ¨å…¥æ‰‹</a></h3>
<p><code>bp PageSetupDlgW</code>çœ‹å…¶å‚æ•°<code>dt LPPAGESETUPDLG (tagPSDW) pPSD</code>ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨PageSetupDlgWæ˜¯ä¸æ˜¾ç¤ºæ‰“å°çª—å£çš„ï¼Œå¦‚ä¸‹é»‘åº•ç™½å­—çš„é‚£ä¸ªå˜é‡ï¼Œ</p>
<ul>
<li><code>Flags: 0xa486</code>
<ul>
<li><code>0x8000</code>: <strong>PSD_ENABLEPAGESETUPTEMPLATE</strong>: Indicates that the <strong>hInstance</strong> and <strong>lpPageSetupTemplateName</strong> members specify a dialog box template to use in place of the default template.</li>
<li><code>0x2000</code>: <strong>PSD_ENABLEPAGESETUPHOOK</strong>: Enables the hook procedure specified in the <strong>lpfnPageSetupHook</strong> member.</li>
<li><code>0x0400</code>: <span style="background: black; color: white;"><strong>PSD_RETURNDEFAULT</strong></span>: <a href="https://docs.microsoft.com/en-us/previous-versions/windows/desktop/legacy/ms646937(v=vs.85)">PageSetupDlg</a> does not display the dialog box. Instead, it sets the <strong>hDevNames</strong> and <strong>hDevMode</strong> members to handles to <a href="https://docs.microsoft.com/en-us/windows/win32/api/wingdi/ns-wingdi-devmodea">DEVMODE</a> and <a href="https://docs.microsoft.com/en-us/windows/desktop/api/commdlg/ns-commdlg-devnames">DEVNAMES</a> structures that are initialized for the system default printer. <strong>PageSetupDlg</strong> returns an error if either <strong>hDevNames</strong> or <strong>hDevMode</strong> is not <strong>NULL</strong>.</li>
<li><code>0x0080</code>: <strong>PSD_NOWARNING</strong>: Prevents the system from displaying a warning message when there is no default printer.</li>
<li><code>0x0004</code>: <strong>PSD_INTHOUSANDTHSOFINCHES</strong>: Indicates that thousandths of inches are the unit of measurement for margins and paper size. The values in the <strong>rtMargin</strong>, <strong>rtMinMargin</strong>, and <strong>ptPaperSize</strong> members are in thousandths of inches. You can set this flag on input to override the default unit of measurement for the user's locale. When the function returns, the dialog box sets this flag to indicate the units used.</li>
<li><code>0x0002</code>: <strong>PSD_MARGINS</strong>: Causes the system to use the values specified in the <strong>rtMargin</strong> member as the initial widths for the left, top, right, and bottom margins. If <strong>PSD_MARGINS</strong> is not set, the system sets the initial widths to one inch for all margins.</li>
</ul>
</li>
<li><code>lpfnPageSetupHook</code>æŒ‡å‘<code>notepad!PageSetupHookProc</code> </li>
</ul>
<h3 id="ä»ç•Œé¢ç»˜åˆ¶å…¥æ‰‹æ‰¾åˆ°äº†"><a class="header" href="#ä»ç•Œé¢ç»˜åˆ¶å…¥æ‰‹æ‰¾åˆ°äº†">ä»ç•Œé¢ç»˜åˆ¶å…¥æ‰‹(æ‰¾åˆ°äº†)</a></h3>
<p>æœç´¢æ‰“å°æœºé€‰æ‹©é¡µé¢çš„ç”¨è¯â€Select Printerâ€œï¼Œæ‰¾åˆ°äº†<code>srv03rtm/shell/comdlg32/printnew.dlg</code>æ–‡ä»¶ã€‚</p>
<p>è™½ç„¶ä¸æ˜¯å¾ˆæ‡‚dlgæ–‡ä»¶çš„è¯­æ³•ï¼Œä¸è¿‡å¤§æ¦‚çŒœåˆ°äº†dlgæ–‡ä»¶ç”±ç¼–è¯‘å™¨å¤„ç†åå¯ä¾›Cè¯­è¨€ç›´æ¥è°ƒç”¨ã€‚<code>printnew.dlg</code>æ–‡ä»¶å®šä¹‰äº†ä¸¤ä¸ªé¡µé¢<code>IDD_PRINT_GENERAL</code>å’Œ<code>IDD_PRINT_GENERAL_LARGE</code>ã€‚ä¸”çœ‹dlgæ–‡ä»¶å¾ˆæ˜æ˜¾è¿™ä¿©é¡µé¢å°±æ˜¯æ‰“å°æœºé€‰æ‹©é¡µé¢çš„æ¨¡æ¿ï¼Œå‰©ä¸‹çš„å°±æ˜¯æ‰¾åˆ°åœ¨è¿è¡Œæ—¶æ˜¯åœ¨å“ªé‡ŒæŠŠå†…å®¹å¡«å…¥æ¨¡æ¿çš„ã€‚</p>
<p>é¡ºç€è¿™ä¸ªæ‰¾<code>IDD_PRINT_GENERAL</code>æ‰¾ï¼Œå¦‚ä¸‹ï¼Œ</p>
<p><code>printnew.cpp: Print_GeneralDlgProc(...)</code>ï¼Œå‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/dlgbox/dlgbox-programming-considerations">Dialog Box Programming Considerations</a>ï¼Œæ‰“å°æœºé€‰æ‹©é¡µé¢çª—å£çš„ä»»ä½•æ“ä½œä¼šäº¤ç»™è¿™ä¸ªå‡½æ•°å¤„ç†ï¼ˆæ„Ÿè§‰ä¹‹å‰å†™æ‰“é“ºæœºç§¯ç´¯çš„GUIç¼–ç¨‹ç»éªŒï¼Œè®©æˆ‘ä¸€ä¸‹æ˜ç™½è¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½ï¼‰</p>
<p><code>WM_INITDIALOG</code>çš„case</p>
<p><code>printnew.cpp: Print_InitDialog(...)</code></p>
<p>é€šè¿‡windbgæ‰¾åˆ°<code>pDlgStruct-&gt;OnInitDialog</code>æŒ‡å‘<code>printnew.cpp: CPrintBrowser::OnInitDialog(...)</code></p>
<p><code>CPrintBrowser::CreatePrinterShellView</code></p>
<p><code>shell/shell32/folder.cpp: SHCloneSpecialIDList(... ,CSIDL_PRINTERS ,...)</code>ï¼Œå‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/shell/csidl">CSIDL</a>ï¼Œå…¶ä¸­CSIDL_PRINTERSè¡¨ç¤ºè¦å¯»æ‰¾The virtual folder than contains installed printers.æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶å¤¹ä¿¡æ¯åœ¨<code>shell/shell32/folder.cpp: 114~463</code></p>
<p>åœ¨cmdé‡Œè¾“å…¥<code>shell:&lt;ç‰¹æ®Šæ–‡ä»¶å¤¹åå­—&gt;</code>å¯ä»¥æ‰“å¼€è¿™äº›ç‰¹æ®Šæ–‡ä»¶å¤¹ï¼Œå‚è€ƒ<a href="https://superuser.com/questions/673960/shell-shortcuts-in-windows-os">Shell Shortcuts in Windows OS</a>ã€‚<strong>æ³¨</strong>ï¼šæ²¡èƒ½åœ¨regedité‡Œæ‰¾åˆ°<code>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\explorer\FolderDescriptions</code>è¿™ä¸ªè¡¨é¡¹ã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.07</div>
<h2 id="è°ƒç”¨æ‰“å°æœºé©±åŠ¨"><a class="header" href="#è°ƒç”¨æ‰“å°æœºé©±åŠ¨">è°ƒç”¨æ‰“å°æœºé©±åŠ¨</a></h2>
<h3 id="æ‰“å°"><a class="header" href="#æ‰“å°">æ‰“å°</a></h3>
<p><code>printnew.cpp: 4910: GetWindowRect(hWnd, lpRect)</code>å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowrect">GetWindowRect function (winuser.h)</a>ï¼Œ</p>
<p><code>4911: MapWindowRect(hwndFrom, hwndTo, lprc)</code>æ²¡æœ‰ç›´æ¥æ”¶å½•çš„å®˜æ–¹æ–‡æ¡£ï¼ŒHWND_DESKTOPçš„ä½¿ç”¨ååˆ†trickyï¼Œå…¶å®æ˜¯NULLï¼Œè¡¨ç¤ºæŒ‰ç…§å±å¹•åæ ‡ï¼Œå‚è€ƒ<a href="https://stackoverflow.com/questions/26696093/difference-between-getdesktopwindow-and-hwnd-desktop">difference between GetDesktopWindow() and HWND_DESKTOP</a>ï¼ŒæŒ‡å‘äº†ç±»ä¼¼çš„å‡½æ•°<a href="https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-mapwindowpoints?redirectedfrom=MSDN">MapWindowPoints function (winuser.h)</a>ã€‚</p>
<p>åœ¨printnew.hé‡Œå£°æ˜çš„<code>IShellView</code>, <code>IShellFolderView</code>, <code>IShellFolder2</code>, <code>IPrinterFolder</code>ï¼Œåœ¨ä¸Šé¢æåˆ°çš„è¿‡ç¨‹ä¸­å¤šæ¬¡ä½¿ç”¨ã€‚<span style="background: red; color: white; font-weight: bold;">è¿™ä¸€å¥—çš„ç¼–ç¨‹æ¨¡å‹ï¼Œç›´æ¥çœ‹ä»£ç çœ‹ä¸å‡ºæ¥ï¼ŒæŒºä¹±çš„ã€‚æœ‰å¿…è¦ç†ä¸€ç†ã€‚</span></p>
<h3 id="é¡µé¢è®¾ç½®"><a class="header" href="#é¡µé¢è®¾ç½®">é¡µé¢è®¾ç½®</a></h3>
<p>æ‰“å°é¡µé¢<button>P<u>r</u>eferences</button>æ˜¯å¯¹å„ä¸ªæ‰“å°é©±åŠ¨çš„è®¾ç½®ã€‚é€šè¿‡printnew.dlgå¯ä»¥çŸ¥é“ï¼Œ<button>P<u>r</u>eferences</button>å¯¹åº”çš„WM_COMMANDå¤„ç†caseçš„è°ƒç”¨çš„<code>CPrintBrowser::OnCommandMessage()</code>çš„IDC_DRIVERçš„caseã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.08</div>
<p><code>winspool!OpenPrinter(pPrinterName, phPrinter, pDefault)</code>ï¼Œæ‰“å°æœºåå­—ä¸ºTinyPDFã€‚å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/printdocs/openprinter">OpenPrinter Function</a>ã€‚</p>
<p><code>printui!DocumentPropertiesWrap(hwnd, hPrinter, pDeviceName, pDevModeOutput, pDevModeInput, fMode, fExclusionFlags)</code><strong>æ³¨</strong>ï¼šwineçš„printui.dllæ²¡æœ‰exportä»»ä½•å‡½æ•°ï¼å’Œwindowsçš„printui.dllä¸ä¸€æ ·ã€‚ä½äº<code>srv03rtm/printscan/ui/printui/docprop.cxx: 1557</code></p>
<p><code>propmgr.cxx: TPropertySheetManager::bDispalyPages(hWnd, pResult)</code></p>
<p>åŠ è½½<code>COMMON_UI</code>å³<code>compstui.dll</code>å’Œå‡½æ•°<code>COMMON_PROPERTY_SHEETUI</code>å³<code>CommonPropertySheetUIW</code>ï¼Œdefineåœ¨propmgr.hxxã€‚</p>
<p>è°ƒç”¨tinypdf2çš„DrvDocumentPropertySheetsç»˜åˆ¶è®¾ç½®ç•Œé¢çš„ä»£ç æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/printer_interface_dll-formatted.svg" alt="printer_interface_dll-formatted" /></p>
<div style="text-align:right; font-size:3em;">2020.12.14</div>
<h2 id="unidrv"><a class="header" href="#unidrv">unidrv</a></h2>
<p>ä»Šå¤©æ‰å‘ç°ï¼ˆåœ¨å§šé•¿åŠ›çš„æé†’ä¸‹ï¼‰winxpé‡Œæœ‰ç¼–è¯‘unidrvï¼Œä½†æ˜¯æ²¡æœ‰æ”¾åˆ°ç³»ç»Ÿçš„é•œåƒé‡Œè¾¹ï¼å°†binaries.x86freçš„<code>unidrv.dll</code>ã€<code>unidrv.hlp</code>ã€<code>unidrvui.dll</code>æ”¾åˆ°è™šæ‹Ÿæœºçš„<code>c/WINDOWS/system32/spool/drivers/w32x86/3/</code>é‡Œã€‚</p>
<p>è¯•äº†ä¹‹åæ‰æƒ³èµ·ï¼Œè£…é©±åŠ¨ä¸ä»…ä»…æ˜¯æŠŠæ–‡ä»¶å¤åˆ¶åˆ°ä¸Šè¾¹é‚£ä¸ªç›®å½•é‡Œï¼</p>
<div style="text-align:right; font-size:3em;">2020.12.15</div>
<h2 id="graphics_dll"><a class="header" href="#graphics_dll">graphics_dll</a></h2>
<p>tinypdf</p>
<p>åœ¨çœ‹GDI32!GdiPrinterThunk - UMPDDrvEnableDriveræ—¶å‘ç°ï¼Œwindbgæ˜¾ç¤ºçš„å€¼å¹¶ä¸å‡†ï¼ŒpDriverDllNameå­—ç¬¦ä¸²ä¸æ­£å¸¸ï¼Œç”¨<code>dS</code>å‘½ä»¤ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²çš„åœ°å€å’Œç‰ˆæœ¬å·iEngineVersionå°±ä¼šå˜æ­£ç¡®ï¼Ÿï¼</p>
<p>è°ƒç”¨NtGdiOpenDCWï¼Œ</p>
<pre><code class="language-c">// srv03rtm/windows/core/umode/daytona/obj/i386/usrstubs.c
void __declspec(naked) NtGdiOpenDCW(ARGS7)
{
    __asm mov eax, 1000h + 232 // ServiceNumber
    __asm mov edx, call_func
    __asm call edx
    __asm ret 7*4 // NumArgs*4
}

call_func = SharedUserData!SystemCallStub // get by windbg

// call_funcæŒ‡å‘çš„ä»£ç ä½äºKUSER_SHAERD_DATAç»“æ„ä½“çš„ULONGLONG SystemCall[4]ä¸­ï¼Œ64*4å­—èŠ‚
// KUSER_SHARED_DATAåœ¨å¤šä¸ªæ–‡ä»¶ä¸­éƒ½æœ‰å®šä¹‰ï¼Œä¼¼ä¹æ˜¯ä¸€æ ·çš„ï¼Œç”¨ctagséšæ„çœ‹ä¸€ä¸ªå³å¯ã€‚
// base/ntos/ke/i386/misc.c: 655~657å°†KiFastSystemCallCodeå¤åˆ¶åˆ°SystemCall[4]ä¸­
// çŒœæµ‹ç¼–è¯‘å™¨ä¼šç»™Cè¯­è¨€å‡½æ•°åŠ ä¸Š_ï¼Œ_KiFastSystemCallCodeèƒ½å¤Ÿåœ¨base/ntos/ke/i386/trap.asmè¢«æ‰¾åˆ°ã€‚
call_func:
    mov edx, esp
    sysenter
    ret
</code></pre>
<p>è¿™æ˜¯ä¸ªå¾ˆæ˜æ˜¾çš„æ±‡ç¼–çº§åˆ«çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå‚è€ƒ<a href="https://github.com/j00ru/windows-syscalls.git">githubä¸Šçš„windows-syscallsé¡¹ç›®</a>ã€‚å°½ç®¡è¿™ä¸ªè¡¨è¯´winxpçš„NtGdiOpenDCWè°ƒç”¨å·æ˜¯0x1000+233ï¼Œwin2000çš„è°ƒç”¨å·æ‰æ˜¯0x1000+232ã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.16</div>
<h3 id="å†…æ ¸è°ƒè¯•"><a class="header" href="#å†…æ ¸è°ƒè¯•">å†…æ ¸è°ƒè¯•</a></h3>
<p>å†…æ ¸windbgè°ƒè¯•ç”¨æˆ·ç¨‹åºï¼Œå‚è€ƒ</p>
<ul>
<li><a href="https://stackoverflow.com/questions/42776503/how-to-do-hybrid-user-mode-kernel-mode-debugging">How to do hybrid user-mode/kernel-mode debugging?</a>
<ul>
<li><a href="https://mike.melnyk.org/post/windbg_debug_user_mode/">Debug user mode application with kernel debugger</a></li>
</ul>
</li>
</ul>
<p>ç®€è¿°å¦‚ä¸‹</p>
<pre><code class="language-powershell"># stackoverflowçš„conioå›ç­”å»ºè®®æ·»åŠ è¿™ä¸ª
# In order for the kernel debugger to work well with user-mode modules you have to enable the Enable loading of kernel debugger symbols GlobalFlag.
!gflag +ksl
# åŸé—®é¢˜å’Œconioæåˆ°çš„é“¾æ¥çš„æµç¨‹
!process 0 0 &lt;myproc.exe&gt; # æ‰“å°å‡ºmyproc.exeè¿›ç¨‹å·
.process /i /r /p &lt;myproc-process-id&gt; # åˆ‡æ¢åˆ°myproc.exeè¿›ç¨‹
g
.reload /user # é‡æ–°åŠ è½½ç”¨æˆ·è¿›ç¨‹çš„æ¨¡å—çš„ç¬¦å·ä¿¡æ¯
lm u # æ‰“å°ç”¨æˆ·è¿›ç¨‹åŠ è½½çš„æ¨¡å—ï¼Œå¯ä»¥å†™åœ¨ä¸€èµ·å³lmu
</code></pre>
<p>å†…æ ¸è°ƒç”¨GdiPrinterThunkçš„è°ƒç”¨æ ˆï¼Œæ ˆæ ¹éƒ¨å¹¶ä¸å®Œæ•´</p>
<ul>
<li>GDI3!GdiPrinterThunk</li>
<li>...</li>
<li>win32k!NtGdiOpenDCW</li>
<li>...</li>
<li>comdlg32!PrintSetOrientation</li>
</ul>
<p>å‘ç°æœ‰æ„æ€çš„æ˜¯<code>binaries.x86fre</code>çš„ç¬¦å·æ–‡ä»¶å¤¹<code>symbol/</code>åªæœ‰å’Œ<code>symbol.pri/</code>çš„åŒºåˆ«ï¼Œå‰è€…åŒ…å«å‡½æ•°ä¿¡æ¯ä½†æ²¡æœ‰æºç ä¿¡æ¯ï¼Œåè€…éƒ½æœ‰ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡äº¤æ¢windbgçš„symbol pathé‡Œçš„ä¸¤ä¸ªç›®å½•çš„é¡ºåºæµ‹è¯•å‡ºæ¥ã€‚</p>
<h3 id="gdiprinterthunkçºµ"><a class="header" href="#gdiprinterthunkçºµ">GdiPrinterThunkçºµ</a></h3>
<p>ç”±æ­¤å¾—åˆ°è°ƒç”¨ä¸€ä¸ªé©±åŠ¨çš„å‡½æ•°çš„æµç¨‹ï¼Œç”±GdiPrinterThunké›†æŸï¼Œä»¥DrvEnableDriverä¸ºä¾‹ï¼Œ<strong>æ³¨</strong>ï¼š2021.1.13ï¼šCreateDCWä¼¼ä¹æœ€åä¹Ÿä¼šè°ƒç”¨åˆ°è¿™ä¸ªå‡½æ•°ï¼Œ</p>
<p><img src="pictures/DrvXxx-formatted.svg" alt="DrvXxx-formatted" /></p>
<div style="text-align:right; font-size:3em;">2020.12.17</div>
<h3 id="gdiprinterthunkæ¨ª"><a class="header" href="#gdiprinterthunkæ¨ª">GdiPrinterThunkæ¨ª</a></h3>
<p>ä¾æ¬¡è°ƒç”¨çš„Drvå‡½æ•°ä¸ºï¼Œä½äºsrv03rtm/windows/core/ntgdi/client/umpddrv.c</p>
<p>é¦–æ¬¡è°ƒç”¨</p>
<ul>
<li>529: UMPDDrvEnableDriverï¼Œé—´æ¥è°ƒç”¨é©±åŠ¨</li>
<li>367: INDEX_UMDrverFNï¼Œå¹¶æœªç›´æ¥æˆ–é—´æ¥è°ƒç”¨é©±åŠ¨ï¼Œè€Œæ˜¯å°†æ‰“å°é©±åŠ¨æ”¯æŒçš„å‡½æ•°åœ°å€å¯¼å…¥pbDrvFnæ•°ç»„é‡Œ</li>
<li>559: DrvEnablePDEV</li>
<li>641: DrvCompletePDEV</li>
<li>772: DrvDisableDriver</li>
<li>675: DrvDisablePDEV</li>
</ul>
<p>æ‰“å°</p>
<p>2020.12.29: ç”¨tesseractè¯†åˆ«</p>
<pre><code>GDI32!GdiPrinterThunk
USER32!__ClientPrinterThunk+0x26
ntd1l1l!KiUserCallbackDispatcher+0x13
nt !KiCal lUserMode+0x4
nt ! KeUserModeCal lback+0x85
win32k! pppUserModeCal lback+0x23
win32k!ClientPrinterThunk+0*40
win32k!UMPDDrvEnableDriver+0x54
win32k!UMPD_ldevLoadDriver+0x30
win32k!hdcOpenDCW+0x1cc
win32k!NtGdiOpenDCW+0*121
nt !KiSystemService+0xd0
SharedUserData! SystemCallStub+0x4
ntd1ll!KiUserCallbackDispatcher+0x13
GDI32!NtGdiOpenDCW+0xc
GDI32!bCreateDCW+0xb4
GDI32!CreateICU+0x17
comdlg32!PrintSetMinMargins+0xd?
comd1g32!PrintUpdatePageSetup+0#401
comdlg32!PrintSetOrientation+0x93
</code></pre>
<p><code>bp gdi32!GdiPrinterThunk</code>å¯ä»¥çœ‹åˆ°</p>
<p><img src="pictures/DrvXxxs_call_stack-rotated-formatted.svg" alt="DrvXxxs_call_stack-rotated-formatted" /></p>
<div style="text-align:right; font-size:3em;">2020.12.19</div>
<h2 id="çŒœæµ‹gdiç”¨æˆ·æ€ç»´ç¨³çŠ¶æ€æœº"><a class="header" href="#çŒœæµ‹gdiç”¨æˆ·æ€ç»´ç¨³çŠ¶æ€æœº">~~çŒœæµ‹ï¼š~~GDIç”¨æˆ·æ€ç»´ç¨³çŠ¶æ€æœº</a></h2>
<p>~~çŒœæµ‹ï¼š~~å·²å¤§è‡´ç¡®è®¤ï¼šGDIè®¾å¤‡æ˜¯Client-serveræ¨¡å¼ï¼Œç”¨æˆ·æ€-å†…æ ¸æ€ï¼Œä¸ºäº†ç¨³å®šæ€§ï¼Œåœ¨ç”¨æˆ·æ€æœ‰å®¹å¿åº¦é«˜çš„çŠ¶æ€æœºã€‚</p>
<p>è¯æ®å‚è€ƒwindows/core/ntgdi/client/output.c: 2911, 2944, 2955, 2999, 3019ï¼ŒStartPageå‡½æ•°ä¼šè°ƒæ•´çŠ¶æ€ã€‚</p>
<p>çŠ¶æ€æœºçš„çŠ¶æ€æ˜¯ldc.flå˜é‡(Local Device Context flags)ï¼ŒçŠ¶æ€çš„å€¼@<code>windows/core/ntgdi/client/local.h: 313~336</code>ã€‚</p>
<div style="text-align:right; font-size:3em;">2020.12.22</div>
<h2 id="graphics_dllå›è°ƒgdi"><a class="header" href="#graphics_dllå›è°ƒgdi">graphics_dllå›è°ƒGDI</a></h2>
<h3 id="wdk-documentation"><a class="header" href="#wdk-documentation">WDK Documentation</a></h3>
<ul>
<li>
<p>æœç´¢<code>surface</code>ï¼Œæ‰¾åˆ°indexä¸ºsurface device-managed [WDK Unidrv]é¢˜ç›®ä¸ºHandling Device-Managed Surfaces</p>
<ul>
<li>
<p>Rendering a Print Job</p>
<p>è®²è¿°äº†CreateDCè¿›è¡Œçš„æ“ä½œï¼ŒåŒ…å«æˆ‘å·²çœ‹åˆ°çš„GDIè°ƒgraphics_dllçš„<code>DrvEnableDriver</code>, <code>DrvEnablePDEV</code>, <code>DrvCompletePDEV</code>, <code>DrvEnableSurface</code>ï¼Œå’Œæˆ‘æ²¡çœ‹åˆ°çš„graphics_dllå›è°ƒGDIçš„<code>EngCreateBitmap</code>or<code>EngCreateDeviceSurface</code>, <code>EngMarkBandingSurface</code>, <code>EngAssociateSurface</code>ã€‚</p>
<ul>
<li>GDI Support Servicesï¼šGDIæä¾›çš„å‡½æ•°</li>
<li>EngWritePrinterï¼šgraphics_dllå‘spoolerå‘æ•°æ®ï¼Œspoolerå‘print monitorå‘æ•°æ®ã€‚
<ul>
<li>print monitorï¼šç”¨æˆ·æ€dllï¼Œé€šè¿‡å†…æ ¸å‘ç¡¬ä»¶æ‰§è¡ŒIOã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å›è°ƒgdi32!Eng*å‡½æ•°</p>
<ul>
<li>3: EngGetCurrentCodePage</li>
</ul>
<div style="text-align:right; font-size:3em;">2020.12.23</div>
<p>æ˜¨æ™šè·Ÿè¸ªnotepadé€šè¿‡i80æ‰“å°ä¸€è¡Œå­—ï¼ˆç¬¬ä¸€æ¬¡æ˜¯åœ¨PrintHeaderFooteré‡Œï¼‰çš„è¿‡ç¨‹ï¼Œå‘ç°å’Œtinypdfä¸ä¸€æ ·ï¼Œ</p>
<ul>
<li>i80è°ƒç”¨TextOutW [srv03rtm\windows\core\ntgdi\client\output.c @ 1997]åï¼Œè°ƒç”¨MF_ExtTextOut [c:\srv03rtm\windows\core\ntgdi\client\metarec.cxx @ 3801]ï¼Œå…¶ä¸­MFæ˜¯Metadata Fileï¼Œæˆ‘çŒœæµ‹æ˜¯åœ¨ç”Ÿäº§EMFæ–‡ä»¶ç»™spoolerï¼Œç”±spooleræ¸²æŸ“åï¼Œå†è°ƒç”¨æ‰“å°æœºé©±åŠ¨ã€‚</li>
<li>tinypdfè°ƒç”¨TextOutW [c:\srv03rtm\windows\core\ntgdi\client\output.c @ 2011]åè°ƒç”¨StartPage [c:\srv03rtm\windows\core\ntgdi\client\output.c @ 3030]ã€‚</li>
</ul>
<p><strong>çŒœæµ‹</strong>ï¼šå› ä¸ºæ¸²æŸ“å’Œè°ƒç”¨æ‰“å°æœºé©±åŠ¨æ˜¯ç”±spoolerå®Œæˆçš„ï¼Œæ‰€ä»¥åœ¨notepadé‡Œçœ‹ä¸åˆ°å¯¹i80 graphics dllçš„è°ƒç”¨ã€‚åº”è¯¥å»è°ƒè¯•spoolerã€‚</p>
<h2 id="spooler"><a class="header" href="#spooler">spooler</a></h2>
<p><strong>WDK Documentation: Print Spooler Architectureé¡µé¢</strong></p>
<p>enhanced metafile (EMF): åœ¨æˆ‘çœ‹æ¥å°±æ˜¯å¼‚æ­¥æ‰“å°ã€‚
åŒæ­¥æ‰“å°ï¼ˆç”¨æˆ·ç¨‹åºç›´æ¥è°ƒç”¨æ‰“å°æœºé©±åŠ¨graphics dllï¼‰ä¼šé˜»å¡å¾ˆä¹…ï¼›
å¼‚æ­¥æ‰“å°ç”ŸæˆEMFä¾¿èƒ½è¿”å›ç¨‹åºç»§ç»­æ‰§è¡Œï¼ŒEMFäº¤ç”±spoolerï¼ˆå¦ä¸€ä¸ªè¿›ç¨‹ï¼‰å¼‚æ­¥å®Œæˆæ¸²æŸ“ï¼ˆtime-consuming execution of these stored GDI functionsï¼‰ã€æ‰“å°ã€‚
å¼‚æ­¥æ‰“å°ä»åŸç†ä¸Šçœ‹ï¼Œå¯¹æ‰“å°æœºé©±åŠ¨é€æ˜ã€‚</p>
<p><strong>WDK Documentation: Introduction to Print Providersé¡µé¢</strong></p>
<p>æœ‰å±‚æ¬¡æµç¨‹å›¾ï¼Œä¸´æ‘¹å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/wdk_doc_printer_provider_flow_paths-formatted.svg" alt="wdk_doc_printer_provider_flow_paths-formatted" /></p>
<p>ä»¥<code>OpenPrinter</code>å‡½æ•°ä¸ºä¾‹ç”¨æˆ·ç¨‹åºé€šè¿‡<code>winspool.drv</code>è°ƒç”¨spoolsv.exeçš„<code>OpenPrinter</code>å‡½æ•°ï¼ˆåº”è¯¥æ˜¯è¿›ç¨‹é—´è°ƒç”¨ï¼ŒRPCï¼‰ï¼Œspoolsv.exeå†é€šè¿‡<code>spoolss.dll</code>ï¼ˆspooler's routerï¼‰è°ƒç”¨åˆé€‚çš„print providerçš„<code>OpenPrinter</code>å‡½æ•°ã€‚</p>
<p>print provideræœ‰4ä¸ªï¼Œ</p>
<ol>
<li>æœ¬åœ°<code>localspl.dll</code>ï¼Œ</li>
<li>ç½‘ç»œæœºå™¨çš„æœ¬åœ°<code>win32spl.dll</code>ï¼Œ</li>
<li>Novel NetWareçš„<code>nwprovau.dll</code>ï¼Œ</li>
<li>httpçš„<code>inetpp.dll</code>ã€‚</li>
</ol>
<p>æ­¤é¡µé¢èƒ½å¤Ÿæ‰¾åˆ°Local print provideré¡µé¢ï¼Œå³ç›®å‰æˆ‘å…³æ³¨çš„ç›´æ¥è¿æ¥åœ¨ç”µè„‘usbä¸Šçš„æ‰“å°æœºã€‚</p>
<p><strong>WDK Documentation: Local print provideré¡µé¢</strong>ï¼ˆå³<code>localspl.dll</code>ï¼‰</p>
<p>Local print provideræ§åˆ¶æµå›¾ä¸´æ‘¹å¦‚ä¸‹ï¼Œ</p>
<p><img src="pictures/wdk_doc_control_flow_in_local_printer_provider-formatted.svg" alt="wdk_doc_control_flow_in_local_printer_provider" /></p>
<ul>
<li>
<p>functions defined by print providersé¡µé¢</p>
</li>
<li>
<p>printer driver architectureé¡µé¢</p>
<p>å¦‚ä¸‹3ä¸ªé©±åŠ¨èƒ½å¤Ÿæ”¯æŒå¸‚é¢ä¸Šå¤§éƒ¨åˆ†æ‰“å°æœºï¼Œ</p>
<ul>
<li>Microsoft Universal Printer Driveré¡µé¢</li>
<li>Microsoft PostScript Printer Driveré¡µé¢</li>
<li>Microsoft Plotter Driveré¡µé¢</li>
</ul>
</li>
</ul>
<p>Local print provideréœ€è¦æ”¯æŒ</p>
<ul>
<li>vendor-supplied print processorsï¼ˆWriting a Print Processoré¡µé¢ï¼‰</li>
<li>vendor-supplied print monitorsï¼ˆWriting a Print Monitoré¡µé¢ï¼‰</li>
</ul>
<div style="text-align:right; font-size:3em;">2020.12.24</div>
<p>åœ¨windbgé‡Œé€šè¿‡æŒ‡ä»¤<code>x GDI32!MF*</code>å¯ä»¥æ‰“å°å‡ºå’Œç”ŸæˆMetadata Fileç›¸å…³çš„å‡½æ•°ï¼Œ<code>MFP</code>æˆ‘çŒœæµ‹æ˜¯Metadata File Printerçš„ç®€å†™ã€‚</p>
<h3 id="è°ƒè¯•spooler"><a class="header" href="#è°ƒè¯•spooler">è°ƒè¯•spooler</a></h3>
<p>notepad.exeæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œspoolsv.exeæ˜¯å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè¿™ä¿©é…åˆå®Œæˆå¼‚æ­¥æ‰“å°ï¼Œï¼ˆä¸­é—´é€šè¿‡metadata fileä¼ é€’æ‰“å°ä¿¡æ¯ã€‚2021.4.19ï¼šæ‰“å°å¤„ç†å™¨è®¾ç½®é¡µé¢é€‰çš„æ˜¯RAWï¼Œçœ‹æ¥å¹¶æ²¡æœ‰ç”¨metadata fileï¼Œä½†ä¾æ—§æ˜¯å¼‚æ­¥æ‰“å°ï¼‰</p>
<ul>
<li>notepad.exeæ‰§è¡ŒWINSPOOL!RpcCommitSpoolData2ä¹‹å‰ï¼Œå³ä¼šè®©spoolsv.exeå¼€å§‹æ‰“å°ï¼Œ</li>
<li>spoolsv.exeåœ¨GDI32!GdiPrinterThunkæ‰“æ–­ç‚¹å³å¯ï¼Œ</li>
</ul>
<p>spoolsv.exeè°ƒç”¨çš„DrvXxxå‡½æ•°å¦‚ä¸‹ï¼Œ</p>
<ol>
<li>UMPDDrvEnableDriver</li>
<li>INDEX_UMDriverFN</li>
<li>DrvEnablePDEV (1)</li>
</ol>
<p>--- å‡ºç°Canonçš„æ‰“å°UIç•Œé¢æ˜¾ç¤ºCollecting printer status ---</p>
<ol start="4">
<li>DrvCompletePDEV (1)</li>
<li>DrvEscape@srv03rtm/windows/core/ntgdi/client/object.c: 518ä»æ‰“å°æœºè·å–ä¿¡æ¯ï¼Œçœ‹æ˜¯å¦æ˜¯metafileæ‰“å°æœº</li>
<li>DrvEnableSurface (1)</li>
<li>DrvStartDoc (1)</li>
<li>UMPDDrvEnableDriver</li>
<li></li>
<li>554: DrvEnablePDEV (2)</li>
<li>641: DrvCompletePDEV (2)</li>
<li>665: DrvResetPDEV</li>
<li>702: DrvDisableSurface (0)</li>
<li>675: DrvDisablePDEV (1)</li>
<li>692: DrvEnableSurface (1)</li>
<li>720: DrvStartDoc (2)</li>
<li>529: UMPDDrvEnableDriver</li>
<li></li>
<li>554: DrvEnablePDEV (2)</li>
<li>641: DrvCompletePDEV (2)</li>
<li>665: DrvResetPDEV</li>
<li>702: DrvDisableSurface (0)</li>
<li>675: DrvDisablePDEV (1)</li>
<li>692: DrvEnableSurface (1)</li>
<li>720: DrvStartDoc (3)</li>
<li>745: DrvStartPage</li>
</ol>
<p>--- åŠ è½½cnmd55u.dllå’Œcnmop5u.dll --- </p>
<ol start="27">
<li>734: DrvEndDoc </li>
<li>734: DrvEndDoc</li>
<li>1161: DrvTextOut</li>
<li>1161: DrvTextOut</li>
</ol>
<p>--- å·²ç»æ˜¾ç¤ºPrinter is onlineäº†ï¼Œåœ¨è¿™ä¹‹å‰å˜åŒ–çš„ --- </p>
<ol start="31">
<li>1161: DrvTextOut</li>
<li>734: DrvEndDoc</li>
<li>734: DrvEndDoc</li>
<li>734: DrvEndDoc</li>
<li>734: DrvEndDoc</li>
<li>734: DrvEndDoc</li>
<li>734:</li>
<li>734:</li>
<li>734:</li>
<li>734:</li>
<li>734:</li>
<li>734:</li>
<li>1161: DrvTextOut</li>
<li>734:</li>
<li>734:</li>
</ol>
<p>--- æ‰“å° ---</p>
<p>--- æ‰“å°å®Œæˆåå¼€å§‹é—ªç¯ ---</p>
<ol start="46">
<li>734:</li>
<li>702: DrvDisableSurface (0)</li>
</ol>
<p>--- æ‰“å°æœºå·²ç»ä¸é—ªç¯äº† ---</p>
<ol start="48">
<li>675: DrvDisbalePDEV (0)</li>
</ol>
<div style="text-align:right; font-size:3em;">2020.12.25</div>
<p>è¦æ˜¯èƒ½å¤ŸæŠŠæ‰“å°æœºé©±åŠ¨çš„è¿‡ç¨‹ä¹Ÿçœ‹æ¸…æ¥šå°±å¥½äº†</p>
<p>å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/print/installing-a-unidrv-minidriver">Installing a Unidrv Minidriver</a>ï¼Œ</p>
<p>winxpä¸­ntprint.dllå’Œntprint.infé‡ŒåŒ…å«å„ç§æ‰“å°æœºçš„é©±åŠ¨ï¼Ÿ</p>
<p>ä¸­é—´æ–‡ä»¶ï¼Œæ‰“å°æ ˆè°ƒç ”</p>
<h2 id="graphics_dllå›è°ƒgreå‡½æ•°"><a class="header" href="#graphics_dllå›è°ƒgreå‡½æ•°">graphics_dllå›è°ƒGREå‡½æ•°</a></h2>
<p>æŒ‰ç…§<a href="../../../../../Essays/Kernel/Driver/2019.linux_win_printer.%E9%87%91%E8%9E%8D%E9%80%9A.%E8%BD%AF%E4%BB%B6%E6%89%80%E7%A1%95%E5%A3%AB.pdf">2019 - Linux å¹³å°ä¸‹ Windows æ‰“å°è®¾å¤‡é©±åŠ¨å…¼å®¹æ¡†æ¶è®¾è®¡ä¸å®ç°</a>è®ºæ–‡çš„è¯´æ³•ï¼ŒDDIå‡½æ•°ï¼ˆé©±åŠ¨ä¸­Drvå¼€å¤´çš„å‡½æ•°ï¼‰ä¼šå›è°ƒGREå‡½æ•°ï¼ˆEngå¼€å¤´ï¼‰ï¼Œå¸®åŠ©é©±åŠ¨è¿›è¡Œç»˜åˆ¶ã€‚
æˆ‘çŒœæµ‹è¿™æ˜¯å’Œé©±åŠ¨é€‰æ‹©å®ç°DDIå‡½æ•°ç›¸å…³ï¼Œæ²¡å®ç°çš„DDIå‡½æ•°éœ€è¦ä»¥æ¥GREè½¬æ¢æˆå·²å®ç°çš„DDIè¿›è¡Œç»˜åˆ¶ï¼ˆæœ‰æœ€åŸºç¡€çš„å¿…é¡»è¦å®ç°çš„DDIé›†åˆï¼Œæ‰€ä»¥ç†è®ºä¸Šä¸€å®šèƒ½å¤Ÿè½¬æ¢ï¼‰ã€‚
å› æ­¤éœ€è¦æµ‹è¯•å¤æ‚çš„å›¾å½¢æ‰“å°æ‰æœ‰æœºä¼šçœ‹åˆ°GREå›è°ƒï¼Œnotepadä»…ä»…è¾“å‡ºæ–‡å­—ï¼ˆé©±åŠ¨ä¸€å®šä¼šå®ç°DrvTextOutï¼‰ï¼Œæ‰€ä»¥12.22çš„æ²¡èƒ½çœ‹ä¸åˆ°GREå‡½æ•°å›è°ƒã€‚
DDIå‡½æ•°å‚è€ƒ</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/display/using-the-graphics-ddi">Using the Graphics DDI</a>ï¼Œ
<ul>
<li><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/display/supporting-graphics-output">Supporting Graphics Output</a>åŒ…å«DrvTextOutä¸ºå¿…é¡»å®ç°çš„è¯´æ˜ã€‚</li>
</ul>
</li>
</ul>
<div style="text-align:right; font-size:3em;">2020.12.28</div>
<p>srv03rtm/public/oak/inc/winddi.h ClientPrinterThunkå„ç§DrvXxxå‡½æ•°çš„indexçš„å®å®šä¹‰</p>
<h2 id="å°æ’æ›²-æ¿€æ´»winxp"><a class="header" href="#å°æ’æ›²-æ¿€æ´»winxp">[å°æ’æ›²] æ¿€æ´»winxp</a></h2>
<p>å·²è¿‡30å¤©ï¼Œå¼€æœºæŒ‰F8è¿›å…¥å®‰å…¨æ¨¡å¼ï¼Œåˆ é™¤Hkey_Local_Machine\Software\Microsoft\WindowsNT\CurrentVersion\ WPAEvents\lastWPAEventLogedï¼ˆè‹¥æœ‰çš„è¯ï¼‰å’ŒOOBETimer</p>
<p>æœªè¿‡30å¤©ï¼Œå‚è€ƒhttps://blog.csdn.net/wangyaqi123/article/details/24743605ï¼Œ</p>
<blockquote>
<ol start="3">
<li>æ‰¾åˆ°ä¸»é”®Hkey_Local_Machine\Software\Microsoft\WindowsNT\CurrentVersion\ WPAEvents\ </li>
<li>åˆ é™¤å­é”®lastWPAEventLoged (å¦‚æœæœ‰çš„è¯ï¼‰ </li>
<li>ä¿®æ”¹å­é”®OOBETimeré”®å€¼ä¸ºï¼šff d5 71 d6 8b 6a 8d 6f d5 33 93 fd </li>
<li>å³å‡»æ³¨å†Œè¡¨ä¸­â€œWPAEventsâ€é”®â†’â€œæƒé™â€â†’â€œé«˜çº§â€â†’â€œæ‰€æœ‰è€…â€â†’ä½ çš„ç”¨æˆ·åâ†’â€œåº”ç”¨â€â†’â€œç¡®å®šâ€ </li>
<li>å›åˆ°â€œå®‰å…¨â€æ ‡ç­¾â†’â€œé«˜çº§â€â†’é€‰æ‹©åˆ—è¡¨ä¸­çš„â€œsystemâ€â†’â€œç¼–è¾‘â€ </li>
<li>æŠŠâ€œæ‹’ç»â€åˆ—ä¸‹çš„æ–¹æ¡†å…¨éƒ¨æ‰“å‹¾å³å¯ </li>
</ol>
</blockquote>
<p>é‡å¯æç¤ºæ¿€æ´»ç‚¹è”ç½‘æ¿€æ´»åä¼šæ˜¾ç¤ºå·²æ¿€æ´»ã€‚</p>
<p>å…¶ä»–å¯èƒ½çš„å‚è€ƒï¼Œ</p>
<ul>
<li>https://www.cnblogs.com/albertfg/p/10032006.html
<ul>
<li>https://www.reddit.com/r/sysadmin/comments/5m9240/activating_windows_xp_in_2017_still_possible/
<ul>
<li>https://www.wikihow.com/Make-Windows-XP-Genuine-Forever</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="drvtextout"><a class="header" href="#drvtextout">DrvTextOut</a></h2>
<p>æˆªå›¾ç”¨tesseractè¯†åˆ«</p>
<ol start="13">
<li></li>
</ol>
<pre><code>GDI32!GdiPrinterThunk+0x460 [c:\srv03rtm\windows\core\ntgdi\client\umpddrv.c @ 1161]
USER32!__ClientPrinterThunk+0x26
ntd1ll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asn @ 153]
nt!KiCallUserMode+0x4 [C:\srv03rtm\base\ntos\ke\i386\callout.asm @ 109]
nt! KeUserModeCallback+0x85 [c:\srv03rtm\base\ntos\ke\i386\callback.c @ 127]
win32k! pppUserModeCallback+0x23 [c:\srv03rtm\windows\core\ntuser\ine\ntcb.h @ 6375]
win32k!ClientPrinterThunk+0x40 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6458]
win32k!UMPDDrvTextOut+0x1f1 [c:\srv03rtm\windows\core\ntgdi\gre\umpddrv.cxx @ 3466]
win32k!GreExtTextOutWLocked+0xf56 [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 2114]
win32k!GreBatchTextOut+0x34a [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 724
win32k!NtGdiFlushUserBatch+0#119 [c:\srv03rtm\windows\core\ntgdi\gre\maskblt.cxx @ 1018]
nt!_KiSystemService+Oxal [C:\srv03rtm\base\ntos\ke\i386\trap.asm @ 1239]
SharedUserData!SystemCallStub+0x4
ntd1ll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
GDI32!NtGdiGetTextCharsetInfo+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstub
USER32!DrawTextExWorker+0x62 [c:\srv03rtm\windows\core\ntuser\rt l\dravtext.c @ 1795]
USER32!DrawTextExW+0x1lc [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1718]
notepad! NpPrintGivenDC+0x4al [c:\srv03rtm\shell\osshell\accesory\notepad\npprint .c @ 784]
notepad! NpPrint+0x46 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 387]
notepad! PrintIt+0zla [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
</code></pre>
<ol start="14">
<li></li>
</ol>
<pre><code>GDI32!GdiPrinterThunk+0x460 [c:\srv03rtm\windows\core\ntgdi\client\umpddrv.c @ 1161]
USER32!__ClientPrinterThunk+0x26
ntd1ll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
nt !KiCallUserMode+0x4 [C:\srv03rtm\base\ntos\ke\i386\callout.asm @ 109]
nt !KeUserModeCallback+0x85 [c:\srv03rtm\base\ntos\ke\i386\callback.c @ 127]
win32k! pppUserModeCallback+0x23 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6375]
win32k!ClientPrinterThunk+0x40 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6458]
win32k!UMPDDrvTextOut+0x1f1 [c:\srv03rtm\windows\core\ntgdi\gre\umpddrv.cxx @ 3466]
win32k!GreExtTextOutWLocked+0xf56 [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 2114]
win32k!GreBatchTextOut+0x34a [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 724]
win32k!NtGdiFlushUserBatch+0#119 [c:\srv03rtm\windows\core\ntgdi\gre\maskblt .cxx @ 1018]
nt!_KiSystemServicetOxal [C:\srv03rtm\base\ntos\ke\i386\trap.asm @ 1239]
SharedUserData! SystemCallStubt+0x4
ntdll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
GDI32!NtGdiExtSelectClipRgn+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 1267]
USER32!DrawTextExWorker+0x31d [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1984]
USER32!DrawTextExW+0xle [c:\srv03rtm\windows\core\ntuser\rt l\dravtext .c 8
notepad! NpPrintGivenDC+0x4al [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 784]
notepad!NpPrint+0x46 [c:\srv03rtm\shel1l\osshell\accesory\notepad\npprint .c 387
notepad!PrintIt+0xla [srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
</code></pre>
<ol start="15">
<li></li>
</ol>
<pre><code>GDI32!GdiPrinterThunk+0x460 [c:\srv03rtm\windows\core\ntgdi\client\umpddrv.c @ 1161]
USER32!__ClientPrinterThunk+0x26
ntd1l1l!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
nt !KiCallUserMode+0x4 [C:\srv03rtm\base\ntos\ke\i386\callout.asm @ 109)
nt !KeUserModeCallback+0x85 [c:\srv03rtm\base\ntos\ke\i386\callback.c @ 127]
win32k! pppUserModeCallback+0x23 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6375]
win32k!ClientPrinterThunk+0#40 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6458]
win32k!UMPDDrvTextOut+0x1f1 [c:\srv03rtm\windows\core\ntgdi\gre\umpddrv.cxx @ 3466]
win32k!GreExtTextOutWLocked+0xf56 [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 2114]
win32k!GreBatchTextOut+0x34a [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 724]
win32k!NtGdiFlushUserBatch+0x119 [c:\srv03rtm\windows\core\ntgdi\gre\maskblt .czx @ 1018]
nt!_KiSystemServicetOxal [C:\srv03rtm\base\ntos\ke\i386\trap.asm @ 1239]
SharedUserData! SystemCallStub+0x4
ntd1ll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
GDI32'!NtGdiExtSelectClipRgn+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386N\usrstubs.c @ 1267]
USER32! DrawTextExWorker+0x31d [c:\srv03rtm\windows\core\ntuser\rtl\dravtext.c @ 1984]
USER32!DrawTextExW+0xle [c:\srv03rtm\windows\core\ntuser\rtl\drawtext .c @ 1718]
notepad! NpPrintGivenDC+0x4al [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 784]
notepad!NpPrint+0x46 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 387]
notepad! PrintIt+0xla [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
</code></pre>
<ol start="16">
<li></li>
</ol>
<pre><code>GDI32!GdiPrinterThunk+0#460 [c:\srv03rtm\windows\core\ntgdi\client\umpddrv.c @ 1161]
USER32!__ClientPrinterThunk+0x26
ntd1ll!KiUserCallbackDispatcher+0#13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
nt !KiCallUserMode+0x4 [C:\srv03rtm\base\ntos\ke\i386\callout.asm @ 109]
nt !KeUserModeCallback+0x85 [c:\srv03rtm\base\ntos\ke\i386\callback.c @ 127]
win32k! pppUserModeCallback+0x23 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6375]
win32k!ClientPrinterThunk+0x40 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 6458]
win32k!UMPDDrvTextOut+0x1f1 [c:\srv03rtm\windows\core\ntgdi\gre\umpddrv.cxx @ 3466]
win32k!GreExtTextOutWLocked+0xf56 [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 2114]
win32k!GreBatchTextOut+0x34a [c:\srv03rtm\windows\core\ntgdi\gre\textgdi.cxx @ 724]
win32k!NtGdiFlushUserBatch+0*119 [c:\srv03rtm\windows\core\ntgdi\gre\maskblt .cxx @ 1018]
nt!_KiSystemService+Oxal [C:\srv03rtm\base\ntos\ke\i386\trap.asm @ 1239]
SharedUserData! SystemCallStubt+0x4
ntd1ll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rt1\i386\userdisp.asm @ 153]
GDI32!NtGdiEndPagetOxc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 1155]
GDI32!EndPage+O0xb [c:\srv03rtm\windows\core\ntgdi\clientNoutput.c @ 2958]
notepad!NpPrintGivenDC+0x4af [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 786]
notepad! NpPrint+0x46 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 387]
notepad! PrintIt+0xla_ [c:\srv03rtm\shell\Nosshell\accesory\notepad\npprint.c @ 1218]
notepad! NPCommand+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
</code></pre>
<div style="text-align:right; font-size:3em;">2020.12.29</div>
<p>å‚è€ƒã€ŠWindowså†…æ ¸åŸç†ä¸å®ç°ã€‹5.2ç« ï¼Œwindowsä¸­æ–­ä¾‹ç¨‹å…¥å£çš„è¡¨æ˜¯<code>base/ntos/ke/i386/trap.asm</code>çš„<code>_IDT</code>ï¼Œåœ¨<code>base/ntos/ke/i386/newsysbg.asm</code>ä¸­è¢«å¤åˆ¶åˆ°idtå¯„å­˜å™¨ï¼ˆå¤§æ¦‚æ˜¯KissIdt?ï¼‰æ‰€æŒ‡çš„ä½ç½®ã€‚
å‚è€ƒç¬¬8ç« ç³»ç»Ÿè°ƒç”¨çš„ä¸­æ–­ä¾‹ç¨‹ä¸º<code>_KiSystemService</code>ã€‚</p>
<p>ç³»ç»Ÿè°ƒç”¨ä¼šçœ‹æ˜¯å¦æ˜¯å›¾å½¢çš„ç³»ç»Ÿç”¨ï¼Œè‹¥æ˜¯åˆ™ä¼šå…ˆè°ƒç”¨<code>_KeGdiFlushUserBatch</code>ã€‚è¿™ä¸€æ®µå†…å®¹è§<code>srv03rtm/base/ntos/ke/i386/trap.asm: 1222~1240</code>çš„ä»£ç å’Œæ³¨é‡Šã€‚</p>
<p>å‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/api/wingdi/nf-wingdi-gdiflush">GdiFlush function (wingdi.h)</a>ï¼ŒGDI drawingå‡½æ•°ä¼šç´¯è®¡ï¼Œç„¶åå½“</p>
<ul>
<li>Calling the GdiFlush function.</li>
<li>Reaching or exceeding the batch limit set by the GdiSetBatchLimit function.</li>
<li>Filling the batching buffers.</li>
<li>Calling any GDI function that does not return a Boolean value.</li>
</ul>
<p>æ—¶æ‰ä¼šæ‰§è¡Œã€‚</p>
<h3 id="batch"><a class="header" href="#batch">Batch</a></h3>
<p>ç»˜å›¾ä¼šå€¾å‘å»¶è¿Ÿæ“ä½œï¼Œå †åœ¨ä¸€ä¸ªç³»ç»Ÿè°ƒç”¨ä¸­å®Œæˆï¼Œè¿™ä¸ªä¸Šé¢å·²ç»æåˆ°äº†ã€‚ä¹‹å‰åœ¨<code>GdiPrinterThunk</code>æ‰“æ–­çœ‹åˆ°çš„<code>DrvXxx</code>å‡½æ•°çš„è°ƒç”¨æ ˆæ€»è§‰å¾—æœ‰é—®é¢˜ï¼Œæ˜¯å› ä¸ºç»˜å›¾æ“ä½œè¢«å»¶è¿Ÿåˆ°å¦ä¸€ä¸ªä¸ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ä¸­äº†ã€‚</p>
<p>ä¼šå®é™…è°ƒç”¨å†™å…¥batchçš„å‡½æ•°ï¼Œæ¯”å¦‚<code>TextOutW</code>ä¼šè°ƒç”¨<code>bBatchTextOut</code>ï¼Œè‹¥æˆåŠŸçš„è¯å°±ä¸ä¼šè°ƒç”¨ç³»ç»Ÿè°ƒç”¨<code>NtGdiExtTextOutW</code>äº†ã€‚</p>
<p>æ¯”å¦‚Notepadçš„å†™å­—çš„è°ƒç”¨æ ˆå®é™…ä¸ºï¼Œ</p>
<p>PrintHeaderFooter:</p>
<pre><code>ChildEBP RetAddr  
0006f398 01006462 GDI32!TextOutW [c:\srv03rtm\windows\core\ntgdi\client\output.c @ 1970]
0006f3c8 01006959 notepad!PrintHeaderFooter+0xce [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 167]
0006f7a8 01006ad0 notepad!NpPrintGivenDC+0x4a8 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 786]
0006f7b4 01006aee notepad!NpPrint+0x46 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 387]
0006fae8 01002db0 notepad!PrintIt+0x1a [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
0006fd58 010037e1 notepad!NPCommand+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
0006fd7c 77d38403 notepad!NPWndProc+0x4fc [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1348]
0006fda8 77d3ddde USER32!InternalCallWinProc+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006fe20 77d1470f USER32!UserCallWinProcCheckWow+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006fe7c 77d14924 USER32!DispatchClientMessage+0xd9 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 3037]
0006fea4 77f66dbf USER32!__fnDWORD+0x22 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 639]
0006fec8 77d5c2ec ntdll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rtl\i386\userdisp.asm @ 153]
0006fecc 77d19845 USER32!NtUserTranslateAccelerator+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 4619]
0006fedc 01002927 USER32!TranslateAcceleratorW+0x33 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 236]
0006ff1c 010070f0 notepad!WinMain+0xc2 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1522]
0006ffc0 77e7d5ba notepad!WinMainCRTStartup+0x182 [c:\srv03rtm\base\crts\crtw32\dllstuff\crtexe.c @ 493]
0006fff0 00000000 kernel32!BaseProcessStart+0x23 [c:\srv03rtm\base\win32\client\support.c @ 580]
</code></pre>
<p>DrawTextEx:</p>
<pre><code>ChildEBP RetAddr  
0006f264 77d5d12d GDI32!TextOutW [c:\srv03rtm\windows\core\ntgdi\client\output.c @ 1970]
0006f280 77d5d440 USER32!UserTextOutWInternal+0x18 [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 591]
0006f2b4 77d5d528 USER32!DT_DrawStr+0xaf [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1031]
0006f2e8 77d5dcc0 USER32!DT_DrawJustifiedLine+0x5d [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1089]
0006f394 77d20f3c USER32!DrawTextExWorker+0x268 [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1936]
0006f3b8 01006952 USER32!DrawTextExW+0x1c [c:\srv03rtm\windows\core\ntuser\rtl\drawtext.c @ 1718]
0006f7a8 01006ad0 notepad!NpPrintGivenDC+0x4a1 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 784]
0006f7b4 01006aee notepad!NpPrint+0x46 [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 387]
0006fae8 01002db0 notepad!PrintIt+0x1a [c:\srv03rtm\shell\osshell\accesory\notepad\npprint.c @ 1218]
0006fd58 010037e1 notepad!NPCommand+0x308 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 907]
0006fd7c 77d38403 notepad!NPWndProc+0x4fc [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1348]
0006fda8 77d3ddde USER32!InternalCallWinProc+0x1b [C:\srv03rtm\windows\core\ntuser\client\i386\callproc.asm @ 102]
0006fe20 77d1470f USER32!UserCallWinProcCheckWow+0x151 [c:\srv03rtm\windows\core\ntuser\client\clmsg.c @ 165]
0006fe7c 77d14924 USER32!DispatchClientMessage+0xd9 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 3037]
0006fea4 77f66dbf USER32!__fnDWORD+0x22 [c:\srv03rtm\windows\core\ntuser\inc\ntcb.h @ 639]
0006fec8 77d5c2ec ntdll!KiUserCallbackDispatcher+0x13 [C:\srv03rtm\base\ntos\rtl\i386\userdisp.asm @ 153]
0006fecc 77d19845 USER32!NtUserTranslateAccelerator+0xc [c:\srv03rtm\windows\core\umode\daytona\obj\i386\usrstubs.c @ 4619]
0006fedc 01002927 USER32!TranslateAcceleratorW+0x33 [c:\srv03rtm\windows\core\ntuser\client\client.c @ 236]
0006ff1c 010070f0 notepad!WinMain+0xc2 [c:\srv03rtm\shell\osshell\accesory\notepad\notepad.c @ 1522]
0006ffc0 77e7d5ba notepad!WinMainCRTStartup+0x182 [c:\srv03rtm\base\crts\crtw32\dllstuff\crtexe.c @ 493]
0006fff0 00000000 kernel32!BaseProcessStart+0x23 [c:\srv03rtm\base\win32\client\support.c @ 580]
</code></pre>
<div style="text-align:right; font-size:3em;">2021.01.11</div>
<h2 id="wineçš„physdev-stack"><a class="header" href="#wineçš„physdev-stack">WINEçš„physdev stack</a></h2>
<p>åˆ›å»ºDCæ—¶ä¼šç”ŸæˆDCçš„æˆå‘˜å˜é‡physdevæ ˆï¼Œgrepæœç´¢<code>&quot;gdi_dc_funcs.*=&quot;</code>å°±èƒ½æœåˆ°å¾ˆå¤šphysdevå¯¹åº”çš„å‡½æ•°ã€‚</p>
<p>DIBï¼šDevice-Independent Bitmaps</p>
<div style="text-align:right; font-size:3em;">2021.01.12</div>
<h3 id="wine-notepadæ‰“å°çš„createdcè°ƒç”¨æ ˆ"><a class="header" href="#wine-notepadæ‰“å°çš„createdcè°ƒç”¨æ ˆ">WINE notepadæ‰“å°çš„CreateDCè°ƒç”¨æ ˆ</a></h3>
<p>ä»…åˆ†ææºç ï¼ˆè¿è¡Œæ‰“æ–­ç‚¹åˆ°PRINTDLG_CreateDCWæ€»æ˜¯è¿è¡Œèµ·æ¥å´©æºƒï¼‰ï¼Œ</p>
<ul>
<li>
<p>PrintDlgW</p>
<ul>
<li>
<p>PRINTDLG_CreateDCW</p>
<ul>
<li>
<p>CreateDCW/CreateICW</p>
<p>è¯»å–è®¾å¤‡å¯¹åº”çš„é©±åŠ¨ï¼Œè°ƒç”¨è®¾å¤‡é©±åŠ¨æä¾›çš„CreateDC</p>
<ul>
<li>pCreateDCï¼ˆè®¾å¤‡é©±åŠ¨æä¾›çš„å‡½æ•°ï¼‰ï¼Œä¾‹å¦‚PSDRV_CreateDC</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="wineçš„è®¾å¤‡æ ˆphysdev-stackè®¾è®¡çš„çŒœæµ‹"><a class="header" href="#wineçš„è®¾å¤‡æ ˆphysdev-stackè®¾è®¡çš„çŒœæµ‹">WINEçš„è®¾å¤‡æ ˆï¼ˆphysdev stackï¼‰è®¾è®¡çš„çŒœæµ‹</a></h3>
<p>windowså„ä¸ªGDIå‡½æ•°å†…éƒ¨åšå„ä¸ªè®¾å¤‡çš„multiplexeræœºåˆ¶æ˜¯ä¸å…¬å¼€çš„ï¼Œwineé€šè¿‡è®¾å¤‡æ ˆåšmultiplexerã€‚</p>
<p><strong>é—®é¢˜</strong>ï¼šWINEçš„DCå®šä¹‰å’ŒWindowsçš„DCå®šä¹‰ä¸ä¸€è‡´ï¼Œæ€ä¹ˆå¤„ç†ï¼Ÿ</p>
<p>åº”ç”¨ç¨‹åºå‘˜å®Œå…¨çœ‹ä¸è§DCçš„å®šä¹‰ï¼Œèƒ½çœ‹è§çš„HDCä»…ä»…åªæ˜¯ä¸ªæŒ‡é’ˆï¼æ‰€ä»¥æ²¡é—®é¢˜ã€‚</p>
<hr />
<h2 id="è¡¥å…¨ä¸€ä¸ªé©±åŠ¨å‡½æ•°ä»¥gettextextentexpointä¸ºä¾‹"><a class="header" href="#è¡¥å…¨ä¸€ä¸ªé©±åŠ¨å‡½æ•°ä»¥gettextextentexpointä¸ºä¾‹">è¡¥å…¨ä¸€ä¸ªé©±åŠ¨å‡½æ•°ï¼Œä»¥GetTextExtentExPointä¸ºä¾‹</a></h2>
<p>å‚è€ƒwineps.drvè¿›è¡Œè¡¥å…¨wingdi.drvï¼Œ</p>
<p>CreateDCæ—¶DCé©±åŠ¨æ ˆé‡Œåªæœ‰ä¸€ä¸ªwineps.drvè®¾å¤‡é©±åŠ¨ï¼Œfontçš„é©±åŠ¨ä½•æ—¶è¢«å‹å…¥é©±åŠ¨æ ˆï¼Ÿ</p>
<div style="text-align:right; font-size:3em;">2021.01.18</div>
<h2 id="bitmapprintwine"><a class="header" href="#bitmapprintwine">bitmapPrint+WINE</a></h2>
<p>è¿™æ˜¯ä¸Šå‘¨åšçš„äº‹æƒ…ï¼Œç°åœ¨è¯¦ç»†è®°å½•ä¸‹æ¥ã€‚</p>
<p>æ€»ä½“æ€è·¯ï¼š</p>
<ul>
<li>Linuxæ‰“å°æµç¨‹è¾“å‡ºbmpæ–‡ä»¶</li>
<li>bitmapPrintï¼ˆWindowsç¨‹åºï¼ŒWINEè¿è¡Œï¼‰è°ƒç”¨æ‰“å°æœºé©±åŠ¨æ‰“å°bmpæ–‡ä»¶
<ul>
<li>bitmapPrintæ¥è‡ª<a href="https://www.dreamincode.net/forums/topic/261009-bitmap-printing-tutorial-in-c-win32/">Printing a Bitmap to Screen and Printer in C++ Win32</a>ï¼Œ</li>
<li>WINEæ‰“å°é€»è¾‘æ¥è‡ªddiwrapperã€‚</li>
</ul>
</li>
</ul>
<p>2021.1.27ï¼šbitmapPrint+ddiwrapperæ¡†æ¶å›¾ï¼š</p>
<p><img src="pictures/bitmapPrint_stretchBlt-formatted.svg" alt="bitmapPrint_stretchBlt-formatted" /></p>
<p>ç›®å‰çš„é—®é¢˜å‡ºç°åœ¨è°ƒç”¨<code>DrvNextBand</code>å¤±è´¥ï¼Œé”™è¯¯ç¼–å·1813ã€‚
Windowsçš„é”™è¯¯ç¼–å·åœ¨<code>winerror.h</code>ä¸­å®šä¹‰ï¼Œ
æè¿°åœ¨<a href="https://docs.microsoft.com/en-us/windows/win32/debug/system-error-codes">å¾®è½¯æ–‡æ¡£System Error Codes</a>ä¸­å¯æŸ¥é˜…ã€‚</p>
<p>ERROR_RESOURCE_TYPE_NOT_FOUND
1813 (0x715)
The specified resource type cannot be found in the image file.</p>
<h3 id="drvnextband-err1813"><a class="header" href="#drvnextband-err1813">DrvNextBand err1813</a></h3>
<p>æ‰“æ–­ç‚¹SetLastErrorï¼Œçœ‹SetLastErrorçš„è°ƒç”¨è€…ã€‚
SetLastErroræ˜¯å†…è”å‡½æ•°ï¼ˆæ”¹å˜SetLastErrorï¼Œè¦é‡æ–°å®Œå…¨ç¼–è¯‘WINEï¼‰ï¼Œ
ä¸è¿‡é€šè¿‡è®¾ç½®ç‰¹æ®Šçš„å€¼å¯ä»¥æ‰¾åˆ°SetLastErroræ‰€è®¾å®šçš„å†…å­˜åœ°å€ï¼Œ
æ¯”å¦‚SetLastError(0xcafe)ç„¶åè¿è¡Œæ—¶gdbå»é€æ¡æ±‡ç¼–å¯»æ‰¾ï¼Œ
ä¾¿èƒ½çœ‹åˆ°å­˜å‚¨é”™è¯¯ç¼–å·çš„å†…å­˜åœ°å€ä¸º<code>0x7ffd8034</code>ï¼Œ
åœ¨gdbé‡Œwatchè¯¥å†…å­˜åœ°å€å³å¯ã€‚</p>
<p>å‡ºé”™çš„SetLastErrorçš„è°ƒç”¨æ ˆä¸º
<code>0x6640dbc0@cnmdr5u</code>-&gt;<code>FindResourceW+0x23</code>-&gt;<code>FindResourceExW+0x205</code></p>
<p>FindResourceEXWéš¶å±moduleï¼ŒWINEDEBUG=+moduleè¿è¡Œï¼Œ
æ‰¾åˆ°æ‰§è¡ŒDrvNextBandè¿‡ç¨‹çš„moduleç›¸å…³çš„traceä¿¡æ¯ï¼Œ
å¯ä»¥çœ‹åˆ°é©±åŠ¨cnmdr5uåœ¨å°è¯•åŠ è½½wingdi.drvï¼Œ
æˆ‘çŒœæµ‹æ˜¯æ³¨å†Œè¡¨é‡Œ<code>.../Print/Environments/.../Canon i80</code>é‡Œ
åŸæœ¬Driver=CNMDR5u.DLLï¼Œ
è¢«æ”¹ä¸ºäº†Driver=wingdi.drvï¼Œæ–°å¢DriverWin=CNMDR5u.DLLæœ‰å¯†åˆ‡å…³ç³»ã€‚</p>
<p>æ‰“å¼€äº†WINE=+regï¼Œå’Œæ³¨å†Œè¡¨ç›¸å…³çš„è®¿é—®ï¼Œ
åœ¨DrvNextBandä¹‹é—´å¹¶æ²¡æœ‰TRACEä¿¡æ¯è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯è¯´DrvNextBandå¹¶æ²¡æœ‰è®¿é—®è¯»å–æ³¨å†Œè¡¨ï¼Œåº”è¯¥æ˜¯ä¹‹å‰å®¢æˆ·ç¨‹åºè¯»å–çš„æˆ–è€…é©±åŠ¨è¯»å–çš„ã€‚</p>
<p>å°è¯•å»çœ‹CNMDR5u.DLLå¦‚ä½•è°ƒç”¨FindResourceExWçš„ï¼Œ
æ¥æºå¼ ç¦æ–°æä¾›çš„CNMDR5uåæ±‡ç¼–å¹¶æå‡åˆ°Cçš„æ–‡ä»¶ï¼ˆç”¨IDA Proæçš„ï¼‰ï¼Œ
è°ƒç”¨æ¡†æ¶å›¾å¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°&quot;wingdi.drv&quot;å­—ç¬¦ä¸²çš„æ¥æºæ˜¯dhpdevï¼Œæ˜¯é©±åŠ¨è‡ªå®šä¹‰æ•°æ®ç»“æ„PDEVï¼Œ</p>
<p><img src="pictures/err/drvNextBand_Err1813-formatted.svg" alt="drvNextBand_Err1813-formatted" /></p>
<p>PDEVçš„ç”Ÿæˆæ¥è‡ªDrvEnablePDEVï¼Œ
æœ€æœ‰å¯èƒ½çš„æ˜¯pi-&gt;Devmodeï¼ˆç¬¬1ä¸ªå‚æ•°ï¼‰é‡Œå’Œpi-&gt;devnameï¼ˆå€’æ•°ç¬¬2ä¸ªå‚æ•°ï¼‰ä¼šç›´æ¥/é—´æ¥åœ°æä¾›&quot;wingdi.drv&quot;ï¼Œè€Œ</p>
<ul>
<li>pi-&gt;Devmodeåªè®¾ç½®äº†æ‰“å°çº¸å¼ è‰²å½©çš„å‚æ•°ï¼Œ</li>
<li>æŸ¥çœ‹DrvEnablePDEVçš„åæ±‡ç¼–å‘ç°å¹¶æ²¡æœ‰ç›´æ¥ç”¨device nameï¼Œ</li>
</ul>
<p>è¿™è¾¹æœ‰ç‚¹æ£˜æ‰‹äº†ï¼Œåº”è¯¥ä»å…¶ä»–è§’åº¦å…¥æ‰‹ã€‚</p>
<p>ä»å…¨å±€æ¥è¯´ï¼Œåº”è¯¥ä¸å½±å“æ‰€æœ‰windowsçš„ç¨‹åºçš„æ­£å¸¸è¡Œä¸ºï¼Œ
æ‰€ä»¥æ³¨å†Œè¡¨ä¸­æ‰“å°æœºEnvironmentsçš„Driverå˜é‡ä¸åº”è¯¥æ›´æ”¹ï¼Œ
å¯ä»¥å°è¯•ä»è¿™ä¸ªè§’åº¦å‡ºå‘ã€‚</p>
<h3 id="å¯ä»¥æ‰“å°åˆ°æ–‡ä»¶"><a class="header" href="#å¯ä»¥æ‰“å°åˆ°æ–‡ä»¶">å¯ä»¥æ‰“å°åˆ°æ–‡ä»¶ï¼</a></h3>
<p>æˆåŠŸè¾“å‡ºåˆ°æ–‡ä»¶ï¼</p>
<p>å°†æ³¨å†Œè¡¨çš„Driverå˜é‡è¿˜åŸæˆé©±åŠ¨çš„graphics dllï¼ˆCNMDR5u.DLLï¼‰ï¼Œ
ä¸”å°†WINEä¸­load.cçš„DriverWçš„Keyçš„åå­—è¿˜åŸå³å¯ã€‚</p>
<div style="text-align:right; font-size:3em;">2021.01.27</div>
<h3 id="drvcopybits-or-drvbitblt"><a class="header" href="#drvcopybits-or-drvbitblt">DrvCopyBits or DrvBitBlt</a></h3>
<p>DrvBitBltä¼šå›è°ƒEngEraseSurfaceå’ŒEngBitBltã€‚</p>
<p>DrvBitBltä¼šå›è°ƒEngEraseSurfaceå’ŒEngCopyBitsï¼Œï¼ˆEngCopyBitsè¿”å›å¤±è´¥ï¼Œæ‰€ä»¥ä¹‹åè¿˜ä¼šè°ƒç”¨å…¶ä»–çš„EngXxxè¿˜ä¸çŸ¥é“ï¼‰ã€‚</p>
<p>æ‰“å°æœºåæ‰</p>
<hr />
<p>åœ¨winxpé‡Œæµ‹è¯•bitmapPrintï¼Œç”¨mingwåœ¨linuxé‡Œäº¤å‰ç¼–è¯‘å‡ºwin32ç¨‹åºï¼Œ
åœ¨winemakerç”Ÿæˆçš„MakefileåŸºç¡€ä¸Šï¼Œ</p>
<ul>
<li>winegccæ¢ä¸ºi686-w64-mingw32-gcc</li>
<li>wineg++æ¢ä¸ºi686-w64-mingw32-g++</li>
<li>aræ¢ä¸ºi686-w64-mingw32-ar</li>
<li>wrcæ¢ä¸ºi686-w64-mingw32-windres
<ul>
<li>wrcç”Ÿæˆ.resæ¢ä¸ºi686-w64-mingw32-windresç”Ÿæˆ.coffæ–‡ä»¶</li>
</ul>
</li>
</ul>
<div style="text-align:right; font-size:3em;">2021.01.28</div>
<h2 id="é¾™èŠ¯winebitmapprint"><a class="header" href="#é¾™èŠ¯winebitmapprint">é¾™èŠ¯+WINE+bitmapPrint</a></h2>
<p>åœ¨é¾™èŠ¯ä¸Šæµ‹è¯•QEMU-i386 + WINE-printer + bitmapPrintï¼Œwineg++ç¼–è¯‘çš„æ— æ³•è¿è¡Œï¼Œmingw32-g++å¯ä»¥è¿è¡Œä½†æ˜¯æ‰“å°é¡µé¢å‡ºé”™ã€‚</p>
<div style="text-align:right; font-size:3em;">2021.01.29</div>
<p>å‡ºé”™åœ¨0xb7b02e586ï¼Œlppd-&gt;lpPrintDlg-&gt;hDevNamesä¸º-1ï¼Œ
åœ¨x86å¹³å°winedbgè·Ÿè¸ªï¼ˆé¾™èŠ¯å¹³å°çš„winedbgæš‚æ—¶æ²¡æœ‰å»ä¿®ï¼‰å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="pictures/err/loongson_lppd_hdevnames_-1-formatted.svg" alt="loongson_lppd_hdevnames_-1-formatted" /></p>
<p>é¾™èŠ¯ä¸Šå¯¹ç…§ç€notepadæ‰“å°ï¼Œæ‰“å°çª—å£ä¸ä¼šå‡ºé”™ã€‚
notepadä½¿ç”¨çš„æ˜¯unicodeç‰ˆæœ¬çš„è°ƒç”¨ï¼Œ
bitmapPrintä½¿ç”¨çš„æ˜¯asciiç‰ˆæœ¬çš„è°ƒç”¨ï¼Œ
å°è¯•æ¢æˆunicodeç‰ˆæœ¬è¿˜æ˜¯æœ‰æœ‰é—®é¢˜ã€‚</p>
<div style="text-align:right; font-size:3em;">2021.02.01</div>
<h3 id="æ‰¾åˆ°é—®é¢˜"><a class="header" href="#æ‰¾åˆ°é—®é¢˜">æ‰¾åˆ°é—®é¢˜ï¼</a></h3>
<p>æ˜¯å…±äº«å¯å†™é¡µä¿®è¡¥è¿˜ä¸å®Œå…¨å¯¼è‡´çš„ï¼Œ
çœ‹GlobalLockç¡®å®æ˜¯è¦å»å°è¯•è®¿é—®0åœ°å€ï¼Œç„¶åè‡ªå·±æ•è·é”™è¯¯ï¼
æ‰€ä»¥æˆ‘çš„å¤„ç†é‡Œæ–¹å¼ä¹Ÿæ˜¯åˆ»æ„å»è®¿é—®0åœ°å€ï¼Œåº”è¯¥ä¿®æ­£ä¸€ä¸‹ç”¨å…¶ä»–æ–¹å¼ã€‚</p>
<p>é€‰æ‹©æ–‡ä»¶è·¯å¾„çš„çª—å£ä¼šç”¨åˆ°å…±äº«å¯å†™é¡µï¼Œ
æ‰€ä»¥æŠŠbitmapPrintæ”¹æˆå…¨å‘½ä»¤è¡Œå°±å¯ä»¥é¿å¼€è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2 id="winxpæ‰“å°åˆ°æ–‡ä»¶"><a class="header" href="#winxpæ‰“å°åˆ°æ–‡ä»¶">winxpæ‰“å°åˆ°æ–‡ä»¶</a></h2>
<p>winxpæ‰“å°åˆ°æ–‡ä»¶ï¼Œè®°äº‹æœ¬å’Œå›¾ç‰‡æŸ¥çœ‹å™¨å¯ä»¥æˆåŠŸï¼Œ
ä½†æ˜¯bitmapPrintæ€»æ˜¯ç”Ÿæˆå¾ˆå°çš„æ–‡ä»¶ï¼Ÿ</p>
<hr />
<div style="text-align:center;">æ–°å¹´</div>
<hr />
<div style="text-align:right; font-size:3em;">2021.02.25</div>
<h2 id="printprocessor"><a class="header" href="#printprocessor">PrintProcessor</a></h2>
<p>æ ¹æ®WDKçš„æ–‡æ¡£ï¼Œ</p>
<ul>
<li><strong>PrintProcessor</strong>æœ‰ä¿©Localspl.dllï¼ˆEMFã€RAWã€TEXTæ ¼å¼ï¼‰å’ŒSfmpsprt.dllï¼ˆPSCRIPT1æ ¼å¼ï¼‰ã€‚è½¬æ¢å‡ºæ¥çš„RAWæ ¼å¼æ•°æ®å‘ç»™PrintMonitorã€‚</li>
<li><strong>PrintMonitor</strong>å°†PrintProcessorå‘æ¥çš„RAWæ•°æ®å‘ç»™<strong>PortDriver</strong>ã€‚PrintMonitoråŒ…å«ä¸¤ç±»ï¼ŒLanguageMonitorå’ŒPortMonitorã€‚</li>
</ul>
<h3 id="é…ç½®ä¿¡æ¯"><a class="header" href="#é…ç½®ä¿¡æ¯">é…ç½®ä¿¡æ¯</a></h3>
<p>é€šè¿‡Localspl.dllçš„å‡½æ•°InitializaPrintProcessorï¼ˆsrv03rtm/printscan/print/spooler/localspl/init.cï¼‰ï¼Œçœ‹å‡ºPrint Processoræ¥æºäºè¯»æ³¨å†Œè¡¨ï¼Œçœ‹å¼€å¤´æ³¨é‡Šå¤§è‡´ç¡®è®¤æ˜¯HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Print\Environments\Windows NT x86\Print Processors\ï¼Œä¸è¿‡ä¸ºå•¥Localspl.dllè‡ªå·±å³ä¸ºPrint Processorè¿˜éœ€è¦åˆå§‹åŒ–Print Processorï¼Ÿ</p>
<div style="text-align:right; font-size:3em;">2021.04.14</div>
<h2 id="printuidll"><a class="header" href="#printuidll">printui.dll</a></h2>
<p>printui.dllè´Ÿè´£æ‰“å°æœºç›®å½•ã€‚commdlg.dllä¹Ÿæ˜¯è°ƒç”¨å®ƒçš„ã€‚å‚è€ƒsrv03rtm/printscan/ui/printui/base/obj/i386/printui.resï¼Œç”¨Resource Hacker (WINE)æ‰“å¼€ï¼Œåœ¨WinXPä¸Šæ“ä½œï¼Œå¯¹æ¯”ä¸¤è€…çš„çª—å£å¾—å‡ºä¸‹è¡¨ã€‚DialogåŒ…å«å¦‚ä¸‹ï¼Œ</p>
<table><thead><tr><th>ç¼–å·</th><th>çª—å£åå­—</th><th>æ‰“å¼€æ–¹å¼&amp;æ³¨</th></tr></thead><tbody>
<tr><td>501</td><td>Driver Properties</td><td>å³é”®-&gt;æœåŠ¡å™¨å±æ€§-&gt;é©±åŠ¨ç¨‹åº-&gt;å±æ€§</td></tr>
<tr><td>502</td><td>Printer User Interface</td><td></td></tr>
<tr><td>503</td><td>Connecting to printer</td><td></td></tr>
<tr><td>504</td><td>Additional Drivers</td><td></td></tr>
<tr><td>505</td><td></td><td>æ³¨ï¼šæµ‹è¯•é¡µè¯´æ˜</td></tr>
<tr><td>506</td><td><strong>Generalï¼ˆæ‰“å°é˜Ÿåˆ—é‡Œçš„ä»»åŠ¡ï¼‰</strong></td><td>å³é”®æ‰“å°æœº-&gt;æ‰“å¼€-&gt;å³é”®ä»»åŠ¡-&gt;å±æ€§-&gt;å¸¸è§„</td></tr>
<tr><td>507</td><td>General</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;å¸¸è§„</td></tr>
<tr><td>508</td><td>Ports</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;ç«¯å£</td></tr>
<tr><td>509</td><td>Advanced</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;é«˜çº§</td></tr>
<tr><td>510</td><td>Sharing</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;å…±äº«ï¼Ÿ</td></tr>
<tr><td>511</td><td>Printer Ports</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;ç«¯å£-&gt;æ·»åŠ ç«¯å£</td></tr>
<tr><td>512</td><td>Separator Page</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;é«˜çº§-&gt;åˆ†éš”é¡µ</td></tr>
<tr><td>513</td><td>Print Processor</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;é«˜çº§-&gt;æ‰“å°å¤„ç†å™¨</td></tr>
<tr><td>516</td><td>Forms</td><td>å³é”®-&gt;æœåŠ¡å™¨å±æ€§-&gt;æ ¼å¼</td></tr>
<tr><td>517</td><td>Advanced (Server name)</td><td>å³é”®-&gt;æœåŠ¡å™¨å±æ€§-&gt;é«˜çº§</td></tr>
<tr><td>518</td><td>Ports (Server name)</td><td>å³é”®-&gt;æœåŠ¡å™¨å±æ€§-&gt;ç«¯å£</td></tr>
<tr><td>519</td><td>Drivers (Server name)</td><td>å³é”®-&gt;æœåŠ¡å™¨å±æ€§-&gt;é©±åŠ¨ç¨‹åº</td></tr>
<tr><td>520</td><td>æ·»åŠ æ‰“å°æœºé©±åŠ¨ç¨‹åºå‘å¯¼</td><td>å³é”®æ‰“å°æœº-&gt;å±æ€§-&gt;é«˜çº§-&gt;æ–°é©±åŠ¨ç¨‹åº</td></tr>
<tr><td>521</td><td></td><td>æ³¨ï¼šæ·»åŠ æ‰“å°æœºï¼Œæ”¹åå­—ï¼Œè®¾é»˜è®¤</td></tr>
<tr><td>522</td><td></td><td>æ³¨ï¼šæ˜¯å¦åˆ†äº«æ‰“å°æœº</td></tr>
<tr><td>523</td><td></td><td>æ³¨ï¼šæ˜¯å¦æ‰“å°æµ‹è¯•é¡µ</td></tr>
<tr><td>524</td><td></td><td>æ³¨ï¼šæ˜¯å¦è®¾ç½®é»˜è®¤</td></tr>
<tr><td>525</td><td>æ·»åŠ æ‰“å°æœºå‘å¯¼</td><td>å³é”®-&gt;æ·»åŠ æ‰“å°æœº-&gt;ä¸‹ä¸€æ­¥</td></tr>
<tr><td>526</td><td>æ·»åŠ æ‰“å°æœºå‘å¯¼</td><td>å³é”®-&gt;æ·»åŠ æ‰“å°æœº</td></tr>
<tr><td>527</td><td>æ·»åŠ æ‰“å°æœºå‘å¯¼</td><td>å³é”®-&gt;æ·»åŠ æ‰“å°æœº-&gt;ä¸‹ä¸€æ­¥-ç½‘ç»œä¸‹ä¸€æ­¥</td></tr>
<tr><td>528</td><td></td><td>æ³¨ï¼šç»™é©±åŠ¨é€‰æ‹©å¤„ç†å™¨å’Œæ“ä½œç³»ç»Ÿ</td></tr>
<tr><td>529</td><td></td><td>æ³¨ï¼šé€‰æ‹©ç«¯å£</td></tr>
<tr><td>530</td><td></td><td>æ³¨ï¼šæ›¿æ¢é©±åŠ¨</td></tr>
<tr><td>531</td><td></td><td>æ³¨ï¼šæ·»åŠ æ‰“å°æœºé©±åŠ¨å®Œæˆ</td></tr>
<tr><td>532</td><td></td><td>æ³¨ï¼šæ·»åŠ æ‰“å°æœºå®Œæˆ</td></tr>
<tr><td>533</td><td></td><td>æ³¨ï¼šæ‰“å°æœºæè¿°</td></tr>
<tr><td>534</td><td>Settings</td><td>æ³¨ï¼šè®¾å¤‡ç±»å‹æ‰“å°æœºï¼Œæ‰“å¼€Printer Folder</td></tr>
<tr><td>535</td><td>Message Box Dialog</td><td>æ³¨ï¼šæ²¡æœ‰å†…å®¹</td></tr>
<tr><td>536</td><td>Connect to Printer</td><td></td></tr>
<tr><td>537</td><td>Location</td><td></td></tr>
<tr><td>538</td><td>Browse For Location</td><td></td></tr>
<tr><td>4591</td><td>Enable Printer Sharing</td><td></td></tr>
<tr><td>10000</td><td></td><td></td></tr>
<tr><td>10001</td><td></td><td></td></tr>
<tr><td>10002</td><td></td><td></td></tr>
<tr><td>10003</td><td></td><td>æ³¨ï¼šå…±äº«æ‰“å°æœºåˆ—è¡¨</td></tr>
<tr><td>10004</td><td>Location</td><td></td></tr>
<tr><td>10005</td><td></td><td>æ³¨ï¼šæ­£åœ¨æœç´¢PnPæ‰“å°æœº</td></tr>
<tr><td>10006</td><td></td><td>æ³¨ï¼šæŒ‡å¯¼è¿æ¥ç«¯å£</td></tr>
</tbody></table>
<p>506ï¼Œ507å¸¸è§„å¹¶è¡Œçš„æœ‰æ‰“å°æœºé©±åŠ¨æä¾›çš„è®¾ç½®ï¼Œåº”è¯¥å°±æ˜¯Print Interface DLLæä¾›çš„ã€‚</p>
<p>æ‰“å°æœºé˜Ÿåˆ—çš„èœå•æ˜¯Menu 403</p>
<div style="text-align:right; font-size:3em;">2021.04.16</div>
<h2 id="æ‰“å°æ¡†æ¶æ–°å¢å†…å®¹æ€»ç»“"><a class="header" href="#æ‰“å°æ¡†æ¶æ–°å¢å†…å®¹æ€»ç»“">æ‰“å°æ¡†æ¶æ–°å¢å†…å®¹æ€»ç»“</a></h2>
<pre><code class="language-shell">$ git diff wine-5.2 wgf --compact-summary
 configure                             |    4 +
 configure.ac                          |    2 +
 dlls/gdi32/Makefile.in                |    3 +-
 dlls/gdi32/eng.c (new)                |  226 +++
 dlls/gdi32/gdi32.spec                 |   55 +
 # winspool import localspl
 dlls/localspl/Makefile.in             |    2 +
 dlls/localspl/localspl.spec           |   12 +-
 # ç›´æ¥è°ƒç”¨é©±åŠ¨æä¾›çš„print processoræä¾›çš„å‡½æ•°ï¼Œæ¯”å¦‚
 ## PrintDocumentOnPrintProcessor
 dlls/localspl/printprocessor.c (new)  |  301 +++ 
 ## æ·»åŠ äº†CallPrintProcessor()ã€EnumForms()ã€readPrinter()
 ### ScheduleJobå°†è°ƒç”¨CallPrintProcessor
 dlls/winspool.drv/Makefile.in         |    2 +-
 dlls/winspool.drv/info.c              |  120 +-
 
 dlls/wingdi.drv/Makefile.in (new)     |   12 +
 dlls/wingdi.drv/driver.c (new)        |  536 +++++
 dlls/wingdi.drv/graphics.c (new)      |  490 +++++
 dlls/wingdi.drv/init.c (new)          |  720 +++++++
 dlls/wingdi.drv/load.c (new)          |  270 +++
 dlls/wingdi.drv/wingdi.drv.spec (new) |    1 +
 dlls/wingdi.drv/wingdi.rc (new)       |   58 +
 dlls/wingdi.drv/wingdidlg.h (new)     |   37 +
 dlls/wingdi.drv/wingdidrv.h (new)     |  279 +++
 include/winddi.h (new)                | 4188 +++++++++++++++++++++++++++++++++++++++
 programs/printer/Makefile.in (new)    |    8 +
 programs/printer/common.h (new)       |   98 +
 programs/printer/getopt.c (new)       | 1224 ++++++++++++
 programs/printer/getopt.h (new)       |  193 ++
 programs/printer/load.c (new)         |  216 ++
 programs/printer/main.c (new)         |  129 ++
 programs/printer/options.c (new)      |  524 +++++
 programs/printer/render.c (new)       |  293 +++
 programs/printer/util.c (new)         |   36 +
 29 files changed, 10024 insertions(+), 15 deletions(-)

$ git diff i80-work wgf --compact-summary
 # æ·»åŠ DrvDocumentEventæ”¯æŒ
 dlls/gdi32/eng.c                     |  11 +-
 dlls/localspl/Makefile.in            |   2 +
 dlls/localspl/localspl.spec          |  12 +-
 dlls/localspl/printprocessor.c (new) | 301 +++++++++++++++++++++++++++++++++++++++++
 dlls/winspool.drv/Makefile.in        |   2 +-
 dlls/winspool.drv/info.c             |  92 ++++++++++++-
 # æ–°å¢WINGDIDRV_DocumentEventï¼Œå¯¹åº”interfaceçš„DrvDocumentEvent
 # åœ¨WINGDI_{Start/End}{Doc/Page}ã€WINGDIDRV_CreateDCä¸­è°ƒç”¨
 dlls/wingdi.drv/driver.c             |  52 ++++++-
 # é‡å†™æ¸²æŸ“å‡½æ•°ï¼Œä¸ç”¨å¤åˆ¶äº†ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨DrvStretchBlt()ï¼Œ
 # è°ƒç”¨DrvSendPage
 dlls/wingdi.drv/graphics.c           | 230 ++++++++++++++++++++++---------
 dlls/wingdi.drv/init.c               |  87 +++++++++---
 dlls/wingdi.drv/load.c               |  82 ++++++-----
 dlls/wingdi.drv/wingdidrv.h          |  67 ++++++++-
 11 files changed, 799 insertions(+), 139 deletions(-)
 
 $ git diff (wgf)582eec2 (loongson)84796c0 --compact-summary
 dlls/gdi32/eng.c               |  81 ++++++++++-----
 dlls/localspl/printprocessor.c | 254 +++++++++++++++++++++++++++++++++++++++--------
 dlls/spoolss/spoolss.spec      |  22 ++--
 dlls/spoolss/spoolss_main.c    | 143 ++++++++++++++++++++++++++
 dlls/wingdi.drv/driver.c       |  26 +++--
 dlls/wingdi.drv/graphics.c     |  27 +++--
 dlls/wingdi.drv/init.c         | 207 +++++++++++++++++++++++++++++++-------
 dlls/wingdi.drv/load.c         |  51 ++++++++--
 dlls/wingdi.drv/wingdidrv.h    |   2 +-
 dlls/winspool.drv/info.c       | 238 ++++++++++++++++++++++++++++++++++++++++----
 10 files changed, 889 insertions(+), 162 deletions(-)
</code></pre>
<h3 id="localsplå’Œprint-processor"><a class="header" href="#localsplå’Œprint-processor">localsplå’Œprint processor</a></h3>
<p>å…¶ä¸­è°ƒç”¨DrvSendPageå¤§æ¦‚å’Œlocalsplè”ç³»ä¸Šï¼Œå‚è€ƒ<a href="https://docs.microsoft.com/en-us/windows/win32/api/winddi/nf-winddi-drvsendpage">DrvSendPage function (winddi.h)</a>ï¼Œè¯´device-managed surfaceç”¨ç€ä¸ªå‡½æ•°å°±å¥½ï¼ŒDrvNextBandæ˜¯ç»™GDI-managedç”¨çš„ï¼Œæ‰€ä»¥æˆ‘ä¹‹å‰éœ€è¦è·‘å»å®ç°EngCopyBitsï¼ˆåœ¨printeråˆ†æ”¯ï¼Œå¿˜è®°åˆè¿›ä¸»åˆ†æ”¯äº†ï¼‰ã€‚ç”¨device-managedçš„å°±å¥½ã€‚DrvSendPageä¼šè°ƒç”¨EngWritePrinterï¼Ÿ</p>
<blockquote>
<p>æ¥è‡ª<a href="https://docs.microsoft.com/en-us/windows/win32/api/winddi/nf-winddi-engwriteprinter">EngWritePrinter function (winddi.h)</a>:</p>
<p><a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/print/printer-graphics-dll">Printer graphics DLLs</a> call <strong>EngWritePrinter</strong> to send data streams (either control sequences or image data) to the print spooler, which in turn sends the data to the printer hardware by calling the appropriate <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/">print monitor</a>. The function returns after the spooler receives the data.</p>
</blockquote>
<p>çœ‹WINEä»£ç æ²¡çœ‹åˆ°EngWritePrinterï¼Ÿåº”è¯¥æ˜¯WritPrinterï¼Œå‚è§9fc0474be7bebf3bccd9cab18db17917b30e5018ã€‚</p>
<p>ææ¸…æ¥šWritePrinteræ€ä¹ˆè¢«è°ƒç”¨çš„ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰EngWritePrinterã€‚é‡‘èé€šçš„è®ºæ–‡å¾ˆæ¸…æ¥šäº†ã€‚å°±æ˜¯è°ƒç”¨WritePrinterï¼Œè€Œä¸æ˜¯EngWritePrinteræ·±å±‚åŸå› æœªçŸ¥ã€‚</p>
<div style="text-align:right; font-size:3em;">2021.04.17</div>
<p>WINEæµç¨‹ï¼Œåœ¨ScheduleJobä¸­æ‰“int $3å¾—åˆ°</p>
<ul>
<li>EndDoc
<ul>
<li>WINGDIDRV_EndDoc
<ul>
<li>EndDocPrinter@winspool
<ul>
<li>winspool.drv: ScheduleJob
<ul>
<li>winspool.drv: CallPrintProcessor
<ul>
<li>print processor: PrintDocumentOnPrintProcessor
<ul>
<li>print processor: WritePrinter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Windowsä¸­EMF print processoræµç¨‹</p>
<ul>
<li>printscan/print/spooler/prtprocs/winprint/winprint.c: PrintDocumentOnPrintProcessor
<ul>
<li>emf.c: PrintEMFJob
<ul>
<li>GdiStartDocEMF</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Windowsä¸­RAW print processoræµç¨‹</p>
<ul>
<li>ï¼ˆåŒä¸Šï¼‰printscan/print/spooler/prtprocs/winprint/winprint.c: PrintDocumentOnPrintProcessor
<ul>
<li>raw.c: PrintRawJob
<ul>
<li>åº”è¯¥å°±æ˜¯ç›´æ¥ä¼ ç»™æ‰“å°æœºäº†</li>
<li>OpenPrinter</li>
<li>WritePrinter</li>
<li>ClosePrinter</li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="text-align:right; font-size:3em;">2021.04.19</div>
<p>DrvDocumentEventæ˜¯Print Interface DLLçš„å‡½æ•°ï¼</p>
<p>è¦æƒ³å®ç°å›¾å½¢ç•Œé¢çš„è®¾ç½®çª—å£ï¼Œå°±å»çœ‹çœ‹DrvDocumentPropertySheets</p>
<p>WINE OpenPrinterçš„backtraceï¼Œåœ¨InitializePrintProvidorä¸­int $3</p>
<ul>
<li>WINGDIDRV_FindPrinterInfo @wingdi
<ul>
<li>OpenPrinterW @winspool
<ul>
<li>?get_opened_printer_entry @winspool
<ul>
<li>load_backend  @winspool
<ul>
<li>InitializePrintProvidor @localspl</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

                    </main>
                    <script src="https://utteranc.es/client.js"
                        repo="xieby1/xieby1.github.io"
                        issue-term="pathname"
                        theme="github-light"
                        crossorigin="anonymous"
                        async>
                    </script>
                </div>
            </div>
        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
        
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
